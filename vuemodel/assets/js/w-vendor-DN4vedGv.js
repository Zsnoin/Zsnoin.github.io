var $="wc-waterfall{position:relative;display:block;box-sizing:border-box!important;overflow:unset!important}wc-waterfall>*{position:absolute;box-sizing:border-box}";const H=t=>t.nodeType==1,I=(t,o)=>{const e=t();class s extends HTMLElement{constructor(){super(),this.$props=t();const r={};for(const l in this.$props)r[l]={get:()=>this.$props[l],set:a=>{this.$props[l]=o!=null&&o[l]?o[l](a):W(e,l,a),this.render()}};Object.defineProperties(this,r)}static get observedAttributes(){return Object.keys(e).filter(r=>k(e[r]))}attributeChangedCallback(r,l,a){this.$props[r]=o!=null&&o[r]?o[r](a):W(e,r,a)}}return s},W=(t,o,e)=>{const s=t[o];return k(s)?{number:n=>Number(n),string:n=>String(n),boolean:n=>n!=null&&n!="false"}[typeof s](e):void 0},k=t=>{const o=typeof t;return o=="number"||o=="string"||o=="boolean"};function L(t){let o=0;for(let e=0;e<t.length;e++)o=t[o]<=t[e]?o:e;return o}function M(t,{getW:o,setW:e,getH:s,setH:n,getPad:r,setX:l,setY:a,getChildren:p},{cols:c,gap:i}){const[d,y]=Array.isArray(i)?i:[i,i],[v,O,w,x]=r(t),f=p(t),E=f.length;if(E){const A=(o(t)-d*(c-1)-(x+O))/c;Array.prototype.forEach.call(f,u=>e(u,A));const N=Array.prototype.map.call(f,u=>s(u)),h=Array(c).fill(v);for(let u=0;u<E;u++){const C=f[u],b=L(h);a(C,h[b]),l(C,x+(A+d)*b),h[b]+=N[u]+y}n(t,Math.max(...h)-y+w)}else n(t,v+w)}const g=Symbol(),m=Symbol();function S(t,o){let e,s,n;function r(){e=new ResizeObserver(c=>c.some(({target:i})=>i[m]!=i.offsetWidth||i[g]!=i.offsetHeight)&&p()),e.observe(t),Array.prototype.forEach.call(t.children,c=>e.observe(c)),s=new MutationObserver(c=>{c.forEach(i=>{i.addedNodes.forEach(d=>H(d)&&e.observe(d)),i.removedNodes.forEach(d=>H(d)&&e.unobserve(d))}),p()}),s.observe(t,{childList:!0,attributes:!1}),n=new MutationObserver(()=>p()),n.observe(t,{childList:!1,attributes:!0}),p()}function l(){e.disconnect(),s.disconnect(),n.disconnect()}let a=!1;function p(){a||(a=!0,requestAnimationFrame(()=>{o(),t[m]=t.offsetWidth,t[g]=t.offsetHeight,n.takeRecords(),a=!1}))}return{relayout:p,mount:r,unmount:l}}const T=(t,o)=>S(t,()=>{M(t,{getW:e=>e.offsetWidth,setW:(e,s)=>e.style.width=s+"px",getH:e=>(e[m]=e.offsetWidth,e[g]=e.offsetHeight),setH:(e,s)=>e.style.height=s+"px",getPad:e=>{const s=getComputedStyle(e);return[parseInt(s.paddingTop),parseInt(s.paddingRight),parseInt(s.paddingBottom),parseInt(s.paddingLeft)]},setX:(e,s)=>e.style.left=s+"px",setY:(e,s)=>e.style.top=s+"px",getChildren:e=>e.children},o)});document.head.appendChild(Object.assign(document.createElement("style"),{innerText:$}));const _=()=>({cols:2,gap:4}),j={gap:t=>typeof t=="string"?t.includes(" ")?t.split(" ").map(Number):Number(t):t};class z extends I(_,j){constructor(){super()}connectedCallback(){this._layout=T(this,this),this._layout.mount()}disconnectedCallback(){this._layout.unmount()}render(){var o;(o=this._layout)==null||o.relayout()}}customElements.get("wc-waterfall")||customElements.define("wc-waterfall",z);
