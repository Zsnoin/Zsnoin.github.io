import{f as K,ag as H,l as w,d as oe,o as se,Z as C,a2 as x,u as e,j as Ce,ah as ke,X as n,Y as be,m as R,B as U,k as o,a1 as c,I as E,H as T,W as j,a4 as Te,F as ee,ai as Ke,aj as Se,a3 as W,y as Be,ab as Oe,ac as xe,a6 as De}from"./v-vendor-DseNja-c.js";import{_ as Ee}from"./l-vendor-B7hqWtQ9.js";import{d as we,s as J}from"./p-vendor-DaMtyeKJ.js";import{t as Ie,a as Re}from"./index-C3vcHQUi.js";import{w as Ue,B as ne,x as te,y as z,z as Ae,A as $e,a as Me,G as Fe,U as Le,H as Ne,J as Ve,L as Pe,K as We,N as ze,O as He,Q as Je,V as Qe,S as qe,W as Ge}from"./a-vendor-DKGJKRZd.js";import"./x-vendor-XSf_N5Ib.js";import"./c-vendor-DT-1cMbM.js";import"./r-vendor-FYZc961W.js";import"./s-vendor-BkeUiZSM.js";import"./d-vendor-D5uLyb19.js";import"./j-vendor-Im7Ltmq8.js";import"./f-vendor-EnPhvkmS.js";import"./n-vendor-BiA8Twdn.js";import"./w-vendor-DN4vedGv.js";import"./t-vendor-CUWDS_la.js";const Xe="/vuemodel/assets/png/bng_logo-Ci7RiKF8.png",Ye="/vuemodel/assets/png/bng_logo_min-DUtQDVv_.png",Ze=we("menu",{state:()=>({collapsed:!1,openKeys:[],selectedKeys:["home"],routeTabs:[{title:"首页",path:"/home",key:"home"}],activeKey:"home"}),persist:!0,actions:{restoreOriginalData(){this.collapsed=!1,this.openKeys=[],this.selectedKeys=["home"],this.activeKey="home",this.routeTabs.splice(1,this.routeTabs.length)}},getters:{}}),le=Ze,je=()=>{let u=[];const i=K([]),d=K(),_=H(),h=le(),{openKeys:v,selectedKeys:S,collapsed:I}=J(h),B=t=>{u=[],t.forEach(p=>{const y=g(p);u.push(y)}),i.value=u},g=t=>{if(t.meta)if(t.children){const p=t.children.map(O=>g(O));return{key:t.path,icon:()=>t.meta.icon?w(t.meta.icon):"",label:t.meta.title,title:t.meta.title,children:p}}else return{key:t.path,icon:()=>t.meta.icon?w(t.meta.icon):"",label:t.meta.title,title:t.meta.title}},l=()=>{const t=[];d.value?(Ee.cloneDeep(u).forEach(p=>{const y=a(p,d.value);t.push(y)}),i.value=t):i.value=u},a=(t,p)=>{if(t.title.includes(p)||Array.isArray(t.children)&&(t.children=t.children.filter(y=>a(y,p)),t.children.length>0))return t};return{items:i,keyWord:d,selectedKeys:S,openKeys:v,collapsed:I,resultRoute:B,changeRoute:g,searchMenu:l,handleItem:({keyPath:t})=>{const p="/"+t.join("/");_.push(p)}}},et=()=>{const u=H(),i=le(),{routeTabs:d,activeKey:_}=J(i),h=l=>{v(l)},v=l=>{d.value.find((a,k)=>{if(a.key==l)return l==_.value&&u.push(d.value[k-1]),d.value.splice(k,1)})};return{routeTabs:d,activeKey:_,onEdit:h,activeTab:l=>{const a=d.value.find(k=>k.key==l);u.push(a.path)},closeOther:()=>{const l=["home",_.value];for(let a=0;a<d.value.length;a++)l.includes(d.value[a].key)||(d.value.splice(a,1),a--)},closeAll:()=>{i.restoreOriginalData(),u.push("/home")},logOut:()=>{i.restoreOriginalData(),u.push("/login"),localStorage.removeItem("basicTemplateInitRoute")}}},tt=()=>{const u=K(!1),i=Ie(),{tabColor:d,themeColor:_,leftBackColor:h,topBackColor:v}=J(i);return{open:u,tabColor:d,themeColor:_,leftBackColor:h,topBackColor:v,changeStyle:(l,a)=>{document.documentElement.style.setProperty(l,a)},setTheme:()=>{u.value=!0},change:(l,a)=>{i.setColor(l.target.value,a)},initColor:()=>{i.initColor();for(const l in i.$state)Object.prototype.hasOwnProperty.call(i.$state,l)&&document.documentElement.style.setProperty("--"+l,i.$state[l])}}},ot=oe({__name:"index",setup(u){const i=K(!1),d=_=>{i.value=!i.value,localStorage.setItem("isDark",JSON.stringify(i.value)),Re(_)};return se(()=>{i.value=document.documentElement.classList.contains("dark")}),(_,h)=>{const v=ne;return C(),x(v,{class:"rightTopBtn",title:"主题",onClick:d,shape:"circle",icon:w(e(Ue))},null,8,["icon"])}}}),M=u=>(Oe("data-v-a1c955ae"),u=u(),xe(),u),st={class:"logo"},nt=["src"],lt=["src"],at={class:"search"},ct={class:"menu"},it={class:"header"},rt={class:"headerLeft"},ut={class:"headerRight"},dt={class:"move"},mt={class:"move"},pt={class:"content"},_t={class:"list"},ht=M(()=>c("b",{class:"title"},"顶部tab颜色",-1)),vt=["value"],ft={class:"list"},gt=M(()=>c("b",{class:"title"},"主题色",-1)),yt=["value"],Ct={class:"list"},kt=M(()=>c("b",{class:"title"},"顶部背景色",-1)),bt=["value"],Tt={class:"list"},Kt=M(()=>c("b",{class:"title"},"侧边栏背景色",-1)),St=["value"],Bt={class:"btn"},Ot=oe({__name:"index",setup(u){var X;const i=H(),d=(X=i.options.routes[0].children)==null?void 0:X.filter(m=>m.meta),_=K("light"),h=K(z),v=K(!1),S=K(!0),{items:I,keyWord:B,selectedKeys:g,openKeys:l,collapsed:a,resultRoute:k,searchMenu:t,handleItem:p}=je(),{routeTabs:y,activeKey:O,onEdit:ae,activeTab:ce,closeOther:Q,closeAll:q,logOut:ie}=et(),{open:F,tabColor:re,themeColor:ue,leftBackColor:de,topBackColor:me,setTheme:pe,change:A,initColor:_e}=tt(),he=()=>{document.fullscreenElement?(document.exitFullscreen(),h.value=z):(document.documentElement.requestFullscreen(),h.value=te)},ve=()=>{S.value=!1,Be(()=>{S.value=!0})},G=()=>{document.fullscreenElement?(h.value=te,v.value=!0):(h.value=z,v.value=!1)};return se(()=>{k(d),document.addEventListener("fullscreenchange",G)}),Ce(()=>{document.removeEventListener("fullscreenchange",G)}),ke((m,r,L)=>{const b=m.fullPath;if(m.matched[0].path=="/"){const N={title:m.meta.title,path:b,key:m.name},V=y.value.some(D=>D.path==b);if(m.meta.title){const D=[];for(let f=1;f<m.matched.length-1;f++)D.push(m.matched[f].name);a.value||(l.value=[...new Set([...l.value,...D])]),O.value=m.name,g.value[0]=m.name,V||y.value.push(N)}}localStorage.setItem("basicTemplateInitRoute",b),L()}),(m,r)=>{const L=Ne,b=Ve,N=Pe,V=We,D=ze,f=He,P=Je,$=ne,fe=Qe,ge=qe,Y=be("router-view"),ye=Ge,Z=Ae;return C(),x(Z,{class:"layout"},{default:n(()=>[R(o(N,{collapsed:e(a),"onUpdate:collapsed":r[3]||(r[3]=s=>E(a)?a.value=s:null),class:"sider",theme:"light",collapsible:""},{default:n(()=>[c("div",st,[R(c("img",{src:e(Xe),alt:""},null,8,nt),[[U,!e(a)]]),R(c("img",{src:e(Ye),alt:""},null,8,lt),[[U,e(a)]])]),R(c("div",at,[o(L,{value:e(B),"onUpdate:value":r[0]||(r[0]=s=>E(B)?B.value=s:null),onChange:e(t),placeholder:"请输入关键词",onSearch:e(t)},null,8,["value","onChange","onSearch"])],512),[[U,!e(a)]]),c("div",ct,[o(b,{openKeys:e(l),"onUpdate:openKeys":r[1]||(r[1]=s=>E(l)?l.value=s:null),selectedKeys:e(g),"onUpdate:selectedKeys":r[2]||(r[2]=s=>E(g)?g.value=s:null),style:{width:"100%"},onClick:e(p),mode:"inline",theme:_.value,items:e(I)},null,8,["openKeys","selectedKeys","onClick","theme","items"])])]),_:1},8,["collapsed"]),[[U,!v.value]]),o(Z,{class:"right"},{default:n(()=>[R(c("div",it,[c("div",rt,[o(P,{trigger:["contextmenu"]},{overlay:n(()=>[o(b,null,{default:n(()=>[o(f,{onClick:e(Q)},{default:n(()=>[T("关闭其他")]),_:1},8,["onClick"]),o(f,{onClick:e(q)},{default:n(()=>[T("关闭所有")]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[o(D,{activeKey:e(O),"onUpdate:activeKey":r[4]||(r[4]=s=>E(O)?O.value=s:null),"tab-bar-gutter":2,type:"editable-card",size:"small","hide-add":"",onTabClick:e(ce),onEdit:e(ae),style:{"max-width":"100%",width:"fit-content"}},{default:n(()=>[(C(!0),j(ee,null,Te(e(y),s=>(C(),x(V,{key:s.key,tab:s.title,closable:s.path!="/home"},null,8,["tab","closable"]))),128))]),_:1},8,["activeKey","onTabClick","onEdit"])]),_:1})]),c("div",ut,[o(ge,{size:2},{default:n(()=>[o(P,null,{overlay:n(()=>[o(b,null,{default:n(()=>[o(f,{onClick:e(Q)},{default:n(()=>[T("关闭其他")]),_:1},8,["onClick"]),o(f,{onClick:e(q)},{default:n(()=>[T("关闭所有")]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[c("div",dt,[o($,{class:"rightTopBtn",shape:"circle",icon:w(e($e))},null,8,["icon"])])]),_:1}),o($,{class:"rightTopBtn",title:"刷新",onClick:ve,shape:"circle",icon:w(e(Me))},null,8,["icon"]),o($,{class:"rightTopBtn",title:"全屏",onClick:he,shape:"circle",icon:w(h.value)},null,8,["icon"]),o(ot),o(e(Fe),{class:"rightTopBtn"}),o(P,null,{overlay:n(()=>[o(b,null,{default:n(()=>[o(f,{onClick:r[5]||(r[5]=()=>e(i).push("/home"))},{default:n(()=>[T(" 首页 ")]),_:1}),o(f,{onClick:e(pe)},{default:n(()=>[T("主题配置")]),_:1},8,["onClick"]),o(f,{onClick:e(ie)},{default:n(()=>[T("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[c("div",mt,[o(fe,{class:"avatar"},{icon:n(()=>[o(e(Le))]),_:1})])]),_:1})]),_:1})])],512),[[U,!v.value]]),c("div",pt,[S.value?(C(),j(ee,{key:0},[m.$route.meta.keepAlive?(C(),x(Y,{key:0},{default:n(({Component:s})=>[(C(),x(Ke,null,[(C(),x(Se(s)))],1024))]),_:1})):W("",!0),m.$route.meta.keepAlive?W("",!0):(C(),x(Y,{key:1}))],64)):W("",!0)]),o(ye,{open:e(F),"onUpdate:open":r[10]||(r[10]=s=>E(F)?F.value=s:null),class:"custom-class","root-class-name":"root-class-name",title:"自定义主题",placement:"right"},{default:n(()=>[c("div",_t,[ht,c("input",{class:"selectColor",type:"color",onChange:r[6]||(r[6]=s=>e(A)(s,"tabColor")),value:e(re)},null,40,vt)]),c("div",ft,[gt,c("input",{class:"selectColor",type:"color",onChange:r[7]||(r[7]=s=>e(A)(s,"themeColor")),value:e(ue)},null,40,yt)]),c("div",Ct,[kt,c("input",{class:"selectColor",type:"color",onChange:r[8]||(r[8]=s=>e(A)(s,"topBackColor")),value:e(me)},null,40,bt)]),c("div",Tt,[Kt,c("input",{class:"selectColor",type:"color",onChange:r[9]||(r[9]=s=>e(A)(s,"leftBackColor")),value:e(de)},null,40,St)]),c("div",Bt,[o($,{onClick:e(_e),type:"primary"},{default:n(()=>[T("默认主题")]),_:1},8,["onClick"])])]),_:1},8,["open"])]),_:1})]),_:1})}}}),Wt=De(Ot,[["__scopeId","data-v-a1c955ae"]]);export{Wt as default};
