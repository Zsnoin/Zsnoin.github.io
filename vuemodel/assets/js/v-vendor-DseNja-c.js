import{X as c}from"./x-vendor-XSf_N5Ib.js";import{D as Ic}from"./d-vendor-D5uLyb19.js";/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dc(e,t){const n=new Set(e.split(","));return o=>n.has(o)}const Xt={},yl=[],uo=()=>{},Vm=()=>!1,Wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fc=e=>e.startsWith("onUpdate:"),rn=Object.assign,Pc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},$m=Object.prototype.hasOwnProperty,Pt=(e,t)=>$m.call(e,t),pt=Array.isArray,Cl=e=>Ji(e)==="[object Map]",zf=e=>Ji(e)==="[object Set]",Bm=e=>Ji(e)==="[object RegExp]",Ct=e=>typeof e=="function",tn=e=>typeof e=="string",tl=e=>typeof e=="symbol",Kt=e=>e!==null&&typeof e=="object",Wf=e=>(Kt(e)||Ct(e))&&Ct(e.then)&&Ct(e.catch),qf=Object.prototype.toString,Ji=e=>qf.call(e),jm=e=>Ji(e).slice(8,-1),Uf=e=>Ji(e)==="[object Object]",Lc=e=>tn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,di=Dc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Hm=/-(\w)/g,Po=qr(e=>e.replace(Hm,(t,n)=>n?n.toUpperCase():"")),zm=/\B([A-Z])/g,Vl=qr(e=>e.replace(zm,"-$1").toLowerCase()),Ur=qr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ka=qr(e=>e?`on${Ur(e)}`:""),ws=(e,t)=>!Object.is(e,t),wl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Gf=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},rc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Wm=e=>{const t=tn(e)?Number(e):NaN;return isNaN(t)?e:t};let Zu;const Yf=()=>Zu||(Zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ac(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=tn(o)?Ym(o):Ac(o);if(s)for(const l in s)t[l]=s[l]}return t}else if(tn(e)||Kt(e))return e}const qm=/;(?![^(]*\))/g,Um=/:([^]+)/,Gm=/\/\*[^]*?\*\//g;function Ym(e){const t={};return e.replace(Gm,"").split(qm).forEach(n=>{if(n){const o=n.split(Um);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Nc(e){let t="";if(tn(e))t=e;else if(pt(e))for(let n=0;n<e.length;n++){const o=Nc(e[n]);o&&(t+=o+" ")}else if(Kt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Km="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xm=Dc(Km);function Kf(e){return!!e||e===""}const KC=e=>tn(e)?e:e==null?"":pt(e)||Kt(e)&&(e.toString===qf||!Ct(e.toString))?JSON.stringify(e,Xf,2):String(e),Xf=(e,t)=>t&&t.__v_isRef?Xf(e,t.value):Cl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],l)=>(n[Ia(o,l)+" =>"]=s,n),{})}:zf(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ia(n))}:tl(t)?Ia(t):Kt(t)&&!pt(t)&&!Uf(t)?String(t):t,Ia=(e,t="")=>{var n;return tl(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gn;class Zf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Gn,!t&&Gn&&(this.index=(Gn.scopes||(Gn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Gn;try{return Gn=this,t()}finally{Gn=n}}}on(){Gn=this}off(){Gn=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function XC(e){return new Zf(e)}function Zm(e,t=Gn){t&&t.active&&t.effects.push(e)}function Jm(){return Gn}function ZC(e){Gn&&Gn.cleanups.push(e)}let Gs;class _c{constructor(t,n,o,s){this.fn=t,this.trigger=n,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Zm(this,s)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Es();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed){if(n.computed.effect._dirtyLevel===2)return!0;if(Qm(n.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Ss()}return this._dirtyLevel>=5}set dirty(t){this._dirtyLevel=t?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=bs,n=Gs;try{return bs=!0,Gs=this,this._runnings++,Ju(this),this.fn()}finally{Qu(this),this._runnings--,Gs=n,bs=t}}stop(){this.active&&(Ju(this),Qu(this),this.onStop&&this.onStop(),this.active=!1)}}function Qm(e){return e.value}function Ju(e){e._trackId++,e._depsLength=0}function Qu(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Jf(e.deps[t],e);e.deps.length=e._depsLength}}function Jf(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let bs=!0,ac=0;const Qf=[];function Es(){Qf.push(bs),bs=!1}function Ss(){const e=Qf.pop();bs=e===void 0?!0:e}function Vc(){ac++}function $c(){for(ac--;!ac&&cc.length;)cc.shift()()}function ep(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const o=e.deps[e._depsLength];o!==t?(o&&Jf(o,e),e.deps[e._depsLength++]=t):e._depsLength++}}const cc=[];function tp(e,t,n){Vc();for(const o of e.keys()){if(!e.computed&&o.computed&&e.get(o)===o._trackId&&o._runnings>0){o._dirtyLevel=2;continue}let s;o._dirtyLevel<t&&(s??(s=e.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o.computed&&o._dirtyLevel===2&&(o._shouldSchedule=!0),o._dirtyLevel=t),o._shouldSchedule&&(s??(s=e.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==3&&(o._shouldSchedule=!1,o.scheduler&&cc.push(o.scheduler)))}$c()}const np=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},kr=new WeakMap,Ys=Symbol(""),uc=Symbol("");function Wn(e,t,n){if(bs&&Gs){let o=kr.get(e);o||kr.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=np(()=>o.delete(n))),ep(Gs,s)}}function Go(e,t,n,o,s,l){const r=kr.get(e);if(!r)return;let f=[];if(t==="clear")f=[...r.values()];else if(n==="length"&&pt(e)){const i=Number(o);r.forEach((d,u)=>{(u==="length"||!tl(u)&&u>=i)&&f.push(d)})}else switch(n!==void 0&&f.push(r.get(n)),t){case"add":pt(e)?Lc(n)&&f.push(r.get("length")):(f.push(r.get(Ys)),Cl(e)&&f.push(r.get(uc)));break;case"delete":pt(e)||(f.push(r.get(Ys)),Cl(e)&&f.push(r.get(uc)));break;case"set":Cl(e)&&f.push(r.get(Ys));break}Vc();for(const i of f)i&&tp(i,5);$c()}function eg(e,t){const n=kr.get(e);return n&&n.get(t)}const tg=Dc("__proto__,__v_isRef,__isVue"),op=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tl)),ed=ng();function ng(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=Lt(this);for(let l=0,r=this.length;l<r;l++)Wn(o,"get",l+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(Lt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Es(),Vc();const o=Lt(this)[t].apply(this,n);return $c(),Ss(),o}}),e}function og(e){tl(e)||(e=String(e));const t=Lt(this);return Wn(t,"has",e),t.hasOwnProperty(e)}class sp{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){const s=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return l;if(n==="__v_raw")return o===(s?l?gg:ap:l?rp:ip).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=pt(t);if(!s){if(r&&Pt(ed,n))return Reflect.get(ed,n,o);if(n==="hasOwnProperty")return og}const f=Reflect.get(t,n,o);return(tl(n)?op.has(n):tg(n))||(s||Wn(t,"get",n),l)?f:In(f)?r&&Lc(n)?f:f.value:Kt(f)?s?up(f):Vt(f):f}}class lp extends sp{constructor(t=!1){super(!1,t)}set(t,n,o,s){let l=t[n];if(!this._isShallow){const i=ji(l);if(!Ir(o)&&!ji(o)&&(l=Lt(l),o=Lt(o)),!pt(t)&&In(l)&&!In(o))return i?!1:(l.value=o,!0)}const r=pt(t)&&Lc(n)?Number(n)<t.length:Pt(t,n),f=Reflect.set(t,n,o,s);return t===Lt(s)&&(r?ws(o,l)&&Go(t,"set",n,o):Go(t,"add",n,o)),f}deleteProperty(t,n){const o=Pt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&Go(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!tl(n)||!op.has(n))&&Wn(t,"has",n),o}ownKeys(t){return Wn(t,"iterate",pt(t)?"length":Ys),Reflect.ownKeys(t)}}class sg extends sp{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const lg=new lp,ig=new sg,rg=new lp(!0);const Bc=e=>e,Gr=e=>Reflect.getPrototypeOf(e);function cr(e,t,n=!1,o=!1){e=e.__v_raw;const s=Lt(e),l=Lt(t);n||(ws(t,l)&&Wn(s,"get",t),Wn(s,"get",l));const{has:r}=Gr(s),f=o?Bc:n?zc:Hi;if(r.call(s,t))return f(e.get(t));if(r.call(s,l))return f(e.get(l));e!==s&&e.get(t)}function ur(e,t=!1){const n=this.__v_raw,o=Lt(n),s=Lt(e);return t||(ws(e,s)&&Wn(o,"has",e),Wn(o,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function dr(e,t=!1){return e=e.__v_raw,!t&&Wn(Lt(e),"iterate",Ys),Reflect.get(e,"size",e)}function td(e){e=Lt(e);const t=Lt(this);return Gr(t).has.call(t,e)||(t.add(e),Go(t,"add",e,e)),this}function nd(e,t){t=Lt(t);const n=Lt(this),{has:o,get:s}=Gr(n);let l=o.call(n,e);l||(e=Lt(e),l=o.call(n,e));const r=s.call(n,e);return n.set(e,t),l?ws(t,r)&&Go(n,"set",e,t):Go(n,"add",e,t),this}function od(e){const t=Lt(this),{has:n,get:o}=Gr(t);let s=n.call(t,e);s||(e=Lt(e),s=n.call(t,e)),o&&o.call(t,e);const l=t.delete(e);return s&&Go(t,"delete",e,void 0),l}function sd(){const e=Lt(this),t=e.size!==0,n=e.clear();return t&&Go(e,"clear",void 0,void 0),n}function fr(e,t){return function(o,s){const l=this,r=l.__v_raw,f=Lt(r),i=t?Bc:e?zc:Hi;return!e&&Wn(f,"iterate",Ys),r.forEach((d,u)=>o.call(s,i(d),i(u),l))}}function pr(e,t,n){return function(...o){const s=this.__v_raw,l=Lt(s),r=Cl(l),f=e==="entries"||e===Symbol.iterator&&r,i=e==="keys"&&r,d=s[e](...o),u=n?Bc:t?zc:Hi;return!t&&Wn(l,"iterate",i?uc:Ys),{next(){const{value:h,done:b}=d.next();return b?{value:h,done:b}:{value:f?[u(h[0]),u(h[1])]:u(h),done:b}},[Symbol.iterator](){return this}}}}function os(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ag(){const e={get(l){return cr(this,l)},get size(){return dr(this)},has:ur,add:td,set:nd,delete:od,clear:sd,forEach:fr(!1,!1)},t={get(l){return cr(this,l,!1,!0)},get size(){return dr(this)},has:ur,add:td,set:nd,delete:od,clear:sd,forEach:fr(!1,!0)},n={get(l){return cr(this,l,!0)},get size(){return dr(this,!0)},has(l){return ur.call(this,l,!0)},add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear"),forEach:fr(!0,!1)},o={get(l){return cr(this,l,!0,!0)},get size(){return dr(this,!0)},has(l){return ur.call(this,l,!0)},add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear"),forEach:fr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=pr(l,!1,!1),n[l]=pr(l,!0,!1),t[l]=pr(l,!1,!0),o[l]=pr(l,!0,!0)}),[e,n,t,o]}const[cg,ug,dg,fg]=ag();function jc(e,t){const n=t?e?fg:dg:e?ug:cg;return(o,s,l)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(Pt(n,s)&&s in o?n:o,s,l)}const pg={get:jc(!1,!1)},hg={get:jc(!1,!0)},mg={get:jc(!0,!1)};const ip=new WeakMap,rp=new WeakMap,ap=new WeakMap,gg=new WeakMap;function vg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bg(e){return e.__v_skip||!Object.isExtensible(e)?0:vg(jm(e))}function Vt(e){return ji(e)?e:Hc(e,!1,lg,pg,ip)}function cp(e){return Hc(e,!1,rg,hg,rp)}function up(e){return Hc(e,!0,ig,mg,ap)}function Hc(e,t,n,o,s){if(!Kt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=s.get(e);if(l)return l;const r=bg(e);if(r===0)return e;const f=new Proxy(e,r===2?o:n);return s.set(e,f),f}function fi(e){return ji(e)?fi(e.__v_raw):!!(e&&e.__v_isReactive)}function ji(e){return!!(e&&e.__v_isReadonly)}function Ir(e){return!!(e&&e.__v_isShallow)}function dp(e){return e?!!e.__v_raw:!1}function Lt(e){const t=e&&e.__v_raw;return t?Lt(t):e}function xg(e){return Object.isExtensible(e)&&Gf(e,"__v_skip",!0),e}const Hi=e=>Kt(e)?Vt(e):e,zc=e=>Kt(e)?up(e):e;class fp{constructor(t,n,o,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new _c(()=>t(this._value),()=>pi(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const t=Lt(this);return(!t._cacheable||t.effect.dirty)&&ws(t._value,t._value=t.effect.run())&&pi(t,5),pp(t),t.effect._dirtyLevel>=2&&pi(t,3),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function yg(e,t,n=!1){let o,s;const l=Ct(e);return l?(o=e,s=uo):(o=e.get,s=e.set),new fp(o,s,l||!s,n)}function pp(e){var t;bs&&Gs&&(e=Lt(e),ep(Gs,(t=e.dep)!=null?t:e.dep=np(()=>e.dep=void 0,e instanceof fp?e:void 0)))}function pi(e,t=5,n,o){e=Lt(e);const s=e.dep;s&&tp(s,t)}function In(e){return!!(e&&e.__v_isRef===!0)}function Ue(e){return hp(e,!1)}function Cg(e){return hp(e,!0)}function hp(e,t){return In(e)?e:new wg(e,t)}class wg{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Lt(t),this._value=n?t:Hi(t)}get value(){return pp(this),this._value}set value(t){const n=this.__v_isShallow||Ir(t)||ji(t);t=n?t:Lt(t),ws(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Hi(t),pi(this,5))}}function JC(e){pi(e,5)}function El(e){return In(e)?e.value:e}const Eg={get:(e,t,n)=>El(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return In(s)&&!In(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function mp(e){return fi(e)?e:new Proxy(e,Eg)}function QC(e){const t=pt(e)?new Array(e.length):{};for(const n in e)t[n]=gp(e,n);return t}class Sg{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return eg(Lt(this._object),this._key)}}class Og{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ew(e,t,n){return In(e)?e:Ct(e)?new Og(e):Kt(e)&&arguments.length>1?gp(e,t,n):Ue(e)}function gp(e,t,n){const o=e[t];return In(o)?o:new Sg(e,t,n)}/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xs(e,t,n,o){try{return o?e(...o):e()}catch(s){Yr(s,t,n)}}function fo(e,t,n,o){if(Ct(e)){const s=xs(e,t,n,o);return s&&Wf(s)&&s.catch(l=>{Yr(l,t,n)}),s}if(pt(e)){const s=[];for(let l=0;l<e.length;l++)s.push(fo(e[l],t,n,o));return s}}function Yr(e,t,n,o=!0){const s=t?t.vnode:null;if(t){let l=t.parent;const r=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,r,f)===!1)return}l=l.parent}const i=t.appContext.config.errorHandler;if(i){Es(),xs(i,null,10,[e,r,f]),Ss();return}}Tg(e,n,s,o)}function Tg(e,t,n,o=!0){console.error(e)}let zi=!1,dc=!1;const Mn=[];let ko=0;const Sl=[];let ds=null,Bs=0;const vp=Promise.resolve();let Wc=null;function fe(e){const t=Wc||vp;return e?t.then(this?e.bind(this):e):t}function Rg(e){let t=ko+1,n=Mn.length;for(;t<n;){const o=t+n>>>1,s=Mn[o],l=Wi(s);l<e||l===e&&s.pre?t=o+1:n=o}return t}function qc(e){(!Mn.length||!Mn.includes(e,zi&&e.allowRecurse?ko+1:ko))&&(e.id==null?Mn.push(e):Mn.splice(Rg(e.id),0,e),bp())}function bp(){!zi&&!dc&&(dc=!0,Wc=vp.then(yp))}function Mg(e){const t=Mn.indexOf(e);t>ko&&Mn.splice(t,1)}function kg(e){pt(e)?Sl.push(...e):(!ds||!ds.includes(e,e.allowRecurse?Bs+1:Bs))&&Sl.push(e),bp()}function ld(e,t,n=zi?ko+1:0){for(;n<Mn.length;n++){const o=Mn[n];if(o&&o.pre){if(e&&o.id!==e.uid)continue;Mn.splice(n,1),n--,o()}}}function xp(e){if(Sl.length){const t=[...new Set(Sl)].sort((n,o)=>Wi(n)-Wi(o));if(Sl.length=0,ds){ds.push(...t);return}for(ds=t,Bs=0;Bs<ds.length;Bs++){const n=ds[Bs];n.active!==!1&&n()}ds=null,Bs=0}}const Wi=e=>e.id==null?1/0:e.id,Ig=(e,t)=>{const n=Wi(e)-Wi(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function yp(e){dc=!1,zi=!0,Mn.sort(Ig);try{for(ko=0;ko<Mn.length;ko++){const t=Mn[ko];t&&t.active!==!1&&xs(t,null,14)}}finally{ko=0,Mn.length=0,xp(),zi=!1,Wc=null,(Mn.length||Sl.length)&&yp()}}function Dg(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Xt;let s=n;const l=t.startsWith("update:"),r=l&&t.slice(7);if(r&&r in o){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:h,trim:b}=o[u]||Xt;b&&(s=n.map(S=>tn(S)?S.trim():S)),h&&(s=n.map(rc))}let f,i=o[f=ka(t)]||o[f=ka(Po(t))];!i&&l&&(i=o[f=ka(Vl(t))]),i&&fo(i,e,6,s);const d=o[f+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,fo(d,e,6,s)}}function Cp(e,t,n=!1){const o=t.emitsCache,s=o.get(e);if(s!==void 0)return s;const l=e.emits;let r={},f=!1;if(!Ct(e)){const i=d=>{const u=Cp(d,t,!0);u&&(f=!0,rn(r,u))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!l&&!f?(Kt(e)&&o.set(e,null),null):(pt(l)?l.forEach(i=>r[i]=null):rn(r,l),Kt(e)&&o.set(e,r),r)}function Kr(e,t){return!e||!Wr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pt(e,t[0].toLowerCase()+t.slice(1))||Pt(e,Vl(t))||Pt(e,t))}let fn=null,Xr=null;function Dr(e){const t=fn;return fn=e,Xr=e&&e.type.__scopeId||null,t}function tw(e){Xr=e}function nw(){Xr=null}function Fg(e,t=fn,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&xd(-1);const l=Dr(t);let r;try{r=e(...s)}finally{Dr(l),o._d&&xd(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function Da(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[l],slots:r,attrs:f,emit:i,render:d,renderCache:u,props:h,data:b,setupState:S,ctx:F,inheritAttrs:T}=e,U=Dr(e);let O,w;try{if(n.shapeFlag&4){const M=s||o,L=M;O=Mo(d.call(L,M,u,h,S,b,F)),w=f}else{const M=t;O=Mo(M.length>1?M(h,{attrs:f,slots:r,emit:i}):M(h,null)),w=t.props?f:Pg(f)}}catch(M){gi.length=0,Yr(M,e,1),O=kn(zn)}let E=O;if(w&&T!==!1){const M=Object.keys(w),{shapeFlag:L}=E;M.length&&L&7&&(l&&M.some(Fc)&&(w=Lg(w,l)),E=Xo(E,w,!1,!0))}return n.dirs&&(E=Xo(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),O=E,Dr(U),O}const Pg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Wr(n))&&((t||(t={}))[n]=e[n]);return t},Lg=(e,t)=>{const n={};for(const o in e)(!Fc(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Ag(e,t,n){const{props:o,children:s,component:l}=e,{props:r,children:f,patchFlag:i}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return o?id(o,r,d):!!r;if(i&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const b=u[h];if(r[b]!==o[b]&&!Kr(d,b))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:o===r?!1:o?r?id(o,r,d):!0:!!r;return!1}function id(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(t[l]!==e[l]&&!Kr(n,l))return!0}return!1}function Ng({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Uc="components",_g="directives";function Sn(e,t){return Gc(Uc,e,!0,t)||e}const wp=Symbol.for("v-ndc");function ow(e){return tn(e)?Gc(Uc,e,!1)||e:e||wp}function sw(e){return Gc(_g,e)}function Gc(e,t,n=!0,o=!1){const s=fn||xn;if(s){const l=s.type;if(e===Uc){const f=yc(l,!1);if(f&&(f===t||f===Po(t)||f===Ur(Po(t))))return l}const r=rd(s[e]||l[e],t)||rd(s.appContext[e],t);return!r&&o?l:r}}function rd(e,t){return e&&(e[t]||e[Po(t)]||e[Ur(Po(t))])}const fc=e=>e.__isSuspense;function Vg(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):kg(e)}function Zr(e,t,n=xn,o=!1){if(n){const s=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...r)=>{Es();const f=Qi(n),i=fo(t,n,e,r);return f(),Ss(),i});return o?s.unshift(l):s.push(l),l}}const Jo=e=>(t,n=xn)=>{(!ta||e==="sp")&&Zr(e,(...o)=>t(...o),n)},$g=Jo("bm"),pn=Jo("m"),Bg=Jo("bu"),Yc=Jo("u"),$l=Jo("bum"),an=Jo("um"),jg=Jo("sp"),Hg=Jo("rtg"),zg=Jo("rtc");function Wg(e,t=xn){Zr("ec",e,t)}function lw(e,t){if(fn===null)return e;const n=na(fn),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[l,r,f,i=Xt]=t[s];l&&(Ct(l)&&(l={mounted:l,updated:l}),l.deep&&ms(r),o.push({dir:l,instance:n,value:r,oldValue:void 0,arg:f,modifiers:i}))}return e}function As(e,t,n,o){const s=e.dirs,l=t&&t.dirs;for(let r=0;r<s.length;r++){const f=s[r];l&&(f.oldValue=l[r].value);let i=f.dir[o];i&&(Es(),fo(i,n,8,[e.el,f,e,t]),Ss())}}function iw(e,t,n,o){let s;const l=n;if(pt(e)||tn(e)){s=new Array(e.length);for(let r=0,f=e.length;r<f;r++)s[r]=t(e[r],r,void 0,l)}else if(typeof e=="number"){s=new Array(e);for(let r=0;r<e;r++)s[r]=t(r+1,r,void 0,l)}else if(Kt(e))if(e[Symbol.iterator])s=Array.from(e,(r,f)=>t(r,f,void 0,l));else{const r=Object.keys(e);s=new Array(r.length);for(let f=0,i=r.length;f<i;f++){const d=r[f];s[f]=t(e[d],d,f,l)}}else s=[];return s}function rw(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(pt(o))for(let s=0;s<o.length;s++)e[o[s].name]=o[s].fn;else o&&(e[o.name]=o.key?(...s)=>{const l=o.fn(...s);return l&&(l.key=o.key),l}:o.fn)}return e}/*! #__NO_SIDE_EFFECTS__ */function Mt(e,t){return Ct(e)?rn({name:e.name},t,{setup:e}):e}const Ol=e=>!!e.type.__asyncLoader;function aw(e,t,n={},o,s){if(fn.isCE||fn.parent&&Ol(fn.parent)&&fn.parent.isCE)return t!=="default"&&(n.name=t),kn("slot",n,o);let l=e[t];l&&l._c&&(l._d=!1),tu();const r=l&&Ep(l(n)),f=zp(Xn,{key:n.key||r&&r.key||`_${t}`},r||[],r&&e._===1?64:-2);return l&&l._c&&(l._d=!0),f}function Ep(e){return e.some(t=>Gi(t)?!(t.type===zn||t.type===Xn&&!Ep(t.children)):!0)?e:null}const pc=e=>e?Up(e)?na(e):pc(e.parent):null,hi=rn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pc(e.parent),$root:e=>pc(e.root),$emit:e=>e.emit,$options:e=>Kc(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,qc(e.update)}),$nextTick:e=>e.n||(e.n=fe.bind(e.proxy)),$watch:e=>dv.bind(e)}),Fa=(e,t)=>e!==Xt&&!e.__isScriptSetup&&Pt(e,t),qg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:l,accessCache:r,type:f,appContext:i}=e;let d;if(t[0]!=="$"){const S=r[t];if(S!==void 0)switch(S){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return l[t]}else{if(Fa(o,t))return r[t]=1,o[t];if(s!==Xt&&Pt(s,t))return r[t]=2,s[t];if((d=e.propsOptions[0])&&Pt(d,t))return r[t]=3,l[t];if(n!==Xt&&Pt(n,t))return r[t]=4,n[t];hc&&(r[t]=0)}}const u=hi[t];let h,b;if(u)return t==="$attrs"&&Wn(e.attrs,"get",""),u(e);if((h=f.__cssModules)&&(h=h[t]))return h;if(n!==Xt&&Pt(n,t))return r[t]=4,n[t];if(b=i.config.globalProperties,Pt(b,t))return b[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:l}=e;return Fa(s,t)?(s[t]=n,!0):o!==Xt&&Pt(o,t)?(o[t]=n,!0):Pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:l}},r){let f;return!!n[r]||e!==Xt&&Pt(e,r)||Fa(t,r)||(f=l[0])&&Pt(f,r)||Pt(o,r)||Pt(hi,r)||Pt(s.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cw(){return Ug().attrs}function Ug(){const e=Bl();return e.setupContext||(e.setupContext=Yp(e))}function ad(e){return pt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let hc=!0;function Gg(e){const t=Kc(e),n=e.proxy,o=e.ctx;hc=!1,t.beforeCreate&&cd(t.beforeCreate,e,"bc");const{data:s,computed:l,methods:r,watch:f,provide:i,inject:d,created:u,beforeMount:h,mounted:b,beforeUpdate:S,updated:F,activated:T,deactivated:U,beforeDestroy:O,beforeUnmount:w,destroyed:E,unmounted:M,render:L,renderTracked:V,renderTriggered:P,errorCaptured:_,serverPrefetch:H,expose:ae,inheritAttrs:be,components:ce,directives:le,filters:pe}=t;if(d&&Yg(d,o,null),r)for(const B in r){const I=r[B];Ct(I)&&(o[B]=I.bind(n))}if(s){const B=s.call(n,n);Kt(B)&&(e.data=Vt(B))}if(hc=!0,l)for(const B in l){const I=l[B],A=Ct(I)?I.bind(n,n):Ct(I.get)?I.get.bind(n,n):uo,Z=!Ct(I)&&Ct(I.set)?I.set.bind(n):uo,ee=Me({get:A,set:Z});Object.defineProperty(o,B,{enumerable:!0,configurable:!0,get:()=>ee.value,set:ye=>ee.value=ye})}if(f)for(const B in f)Sp(f[B],o,n,B);if(i){const B=Ct(i)?i.call(n):i;Reflect.ownKeys(B).forEach(I=>{qt(I,B[I])})}u&&cd(u,e,"c");function se(B,I){pt(I)?I.forEach(A=>B(A.bind(n))):I&&B(I.bind(n))}if(se($g,h),se(pn,b),se(Bg,S),se(Yc,F),se(Qr,T),se(Qc,U),se(Wg,_),se(zg,V),se(Hg,P),se($l,w),se(an,M),se(jg,H),pt(ae))if(ae.length){const B=e.exposed||(e.exposed={});ae.forEach(I=>{Object.defineProperty(B,I,{get:()=>n[I],set:A=>n[I]=A})})}else e.exposed||(e.exposed={});L&&e.render===uo&&(e.render=L),be!=null&&(e.inheritAttrs=be),ce&&(e.components=ce),le&&(e.directives=le)}function Yg(e,t,n=uo){pt(e)&&(e=mc(e));for(const o in e){const s=e[o];let l;Kt(s)?"default"in s?l=ct(s.from||o,s.default,!0):l=ct(s.from||o):l=ct(s),In(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:r=>l.value=r}):t[o]=l}}function cd(e,t,n){fo(pt(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Sp(e,t,n,o){const s=o.includes(".")?Ap(n,o):()=>n[o];if(tn(e)){const l=t[e];Ct(l)&&lt(s,l)}else if(Ct(e))lt(s,e.bind(n));else if(Kt(e))if(pt(e))e.forEach(l=>Sp(l,t,n,o));else{const l=Ct(e.handler)?e.handler.bind(n):t[e.handler];Ct(l)&&lt(s,l,e)}}function Kc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:l,config:{optionMergeStrategies:r}}=e.appContext,f=l.get(t);let i;return f?i=f:!s.length&&!n&&!o?i=t:(i={},s.length&&s.forEach(d=>Fr(i,d,r,!0)),Fr(i,t,r)),Kt(t)&&l.set(t,i),i}function Fr(e,t,n,o=!1){const{mixins:s,extends:l}=t;l&&Fr(e,l,n,!0),s&&s.forEach(r=>Fr(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const f=Kg[r]||n&&n[r];e[r]=f?f(e[r],t[r]):t[r]}return e}const Kg={data:ud,props:dd,emits:dd,methods:ai,computed:ai,beforeCreate:Pn,created:Pn,beforeMount:Pn,mounted:Pn,beforeUpdate:Pn,updated:Pn,beforeDestroy:Pn,beforeUnmount:Pn,destroyed:Pn,unmounted:Pn,activated:Pn,deactivated:Pn,errorCaptured:Pn,serverPrefetch:Pn,components:ai,directives:ai,watch:Zg,provide:ud,inject:Xg};function ud(e,t){return t?e?function(){return rn(Ct(e)?e.call(this,this):e,Ct(t)?t.call(this,this):t)}:t:e}function Xg(e,t){return ai(mc(e),mc(t))}function mc(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pn(e,t){return e?[...new Set([].concat(e,t))]:t}function ai(e,t){return e?rn(Object.create(null),e,t):t}function dd(e,t){return e?pt(e)&&pt(t)?[...new Set([...e,...t])]:rn(Object.create(null),ad(e),ad(t??{})):t}function Zg(e,t){if(!e)return t;if(!t)return e;const n=rn(Object.create(null),e);for(const o in t)n[o]=Pn(e[o],t[o]);return n}function Op(){return{app:null,config:{isNativeTag:Vm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jg=0;function Qg(e,t){return function(o,s=null){Ct(o)||(o=rn({},o)),s!=null&&!Kt(s)&&(s=null);const l=Op(),r=new WeakSet;let f=!1;const i=l.app={_uid:Jg++,_component:o,_props:s,_container:null,_context:l,_instance:null,version:Fv,get config(){return l.config},set config(d){},use(d,...u){return r.has(d)||(d&&Ct(d.install)?(r.add(d),d.install(i,...u)):Ct(d)&&(r.add(d),d(i,...u))),i},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),i},component(d,u){return u?(l.components[d]=u,i):l.components[d]},directive(d,u){return u?(l.directives[d]=u,i):l.directives[d]},mount(d,u,h){if(!f){const b=kn(o,s);return b.appContext=l,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(b,d):e(b,d,h),f=!0,i._container=d,d.__vue_app__=i,na(b.component)}},unmount(){f&&(e(null,i._container),delete i._container.__vue_app__)},provide(d,u){return l.provides[d]=u,i},runWithContext(d){const u=Tl;Tl=i;try{return d()}finally{Tl=u}}};return i}}let Tl=null;function qt(e,t){if(xn){let n=xn.provides;const o=xn.parent&&xn.parent.provides;o===n&&(n=xn.provides=Object.create(o)),n[e]=t}}function ct(e,t,n=!1){const o=xn||fn;if(o||Tl){const s=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Tl._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ct(t)?t.call(o&&o.proxy):t}}function uw(){return!!(xn||fn||Tl)}const Tp={},Rp=()=>Object.create(Tp),Mp=e=>Object.getPrototypeOf(e)===Tp;function ev(e,t,n,o=!1){const s={},l=Rp();e.propsDefaults=Object.create(null),kp(e,t,s,l);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);n?e.props=o?s:cp(s):e.type.props?e.props=s:e.props=l,e.attrs=l}function tv(e,t,n,o){const{props:s,attrs:l,vnode:{patchFlag:r}}=e,f=Lt(s),[i]=e.propsOptions;let d=!1;if((o||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let b=u[h];if(Kr(e.emitsOptions,b))continue;const S=t[b];if(i)if(Pt(l,b))S!==l[b]&&(l[b]=S,d=!0);else{const F=Po(b);s[F]=gc(i,f,F,S,e,!1)}else S!==l[b]&&(l[b]=S,d=!0)}}}else{kp(e,t,s,l)&&(d=!0);let u;for(const h in f)(!t||!Pt(t,h)&&((u=Vl(h))===h||!Pt(t,u)))&&(i?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=gc(i,f,h,void 0,e,!0)):delete s[h]);if(l!==f)for(const h in l)(!t||!Pt(t,h))&&(delete l[h],d=!0)}d&&Go(e.attrs,"set","")}function kp(e,t,n,o){const[s,l]=e.propsOptions;let r=!1,f;if(t)for(let i in t){if(di(i))continue;const d=t[i];let u;s&&Pt(s,u=Po(i))?!l||!l.includes(u)?n[u]=d:(f||(f={}))[u]=d:Kr(e.emitsOptions,i)||(!(i in o)||d!==o[i])&&(o[i]=d,r=!0)}if(l){const i=Lt(n),d=f||Xt;for(let u=0;u<l.length;u++){const h=l[u];n[h]=gc(s,i,h,d[h],e,!Pt(d,h))}}return r}function gc(e,t,n,o,s,l){const r=e[n];if(r!=null){const f=Pt(r,"default");if(f&&o===void 0){const i=r.default;if(r.type!==Function&&!r.skipFactory&&Ct(i)){const{propsDefaults:d}=s;if(n in d)o=d[n];else{const u=Qi(s);o=d[n]=i.call(null,t),u()}}else o=i}r[0]&&(l&&!f?o=!1:r[1]&&(o===""||o===Vl(n))&&(o=!0))}return o}function Ip(e,t,n=!1){const o=t.propsCache,s=o.get(e);if(s)return s;const l=e.props,r={},f=[];let i=!1;if(!Ct(e)){const u=h=>{i=!0;const[b,S]=Ip(h,t,!0);rn(r,b),S&&f.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!l&&!i)return Kt(e)&&o.set(e,yl),yl;if(pt(l))for(let u=0;u<l.length;u++){const h=Po(l[u]);fd(h)&&(r[h]=Xt)}else if(l)for(const u in l){const h=Po(u);if(fd(h)){const b=l[u],S=r[h]=pt(b)||Ct(b)?{type:b}:rn({},b);if(S){const F=md(Boolean,S.type),T=md(String,S.type);S[0]=F>-1,S[1]=T<0||F<T,(F>-1||Pt(S,"default"))&&f.push(h)}}}const d=[r,f];return Kt(e)&&o.set(e,d),d}function fd(e){return e[0]!=="$"&&!di(e)}function pd(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function hd(e,t){return pd(e)===pd(t)}function md(e,t){return pt(t)?t.findIndex(n=>hd(n,e)):Ct(t)&&hd(t,e)?0:-1}const Dp=e=>e[0]==="_"||e==="$stable",Xc=e=>pt(e)?e.map(Mo):[Mo(e)],nv=(e,t,n)=>{if(t._n)return t;const o=Fg((...s)=>Xc(t(...s)),n);return o._c=!1,o},Fp=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Dp(s))continue;const l=e[s];if(Ct(l))t[s]=nv(s,l,o);else if(l!=null){const r=Xc(l);t[s]=()=>r}}},Pp=(e,t)=>{const n=Xc(t);e.slots.default=()=>n},ov=(e,t)=>{const n=e.slots=Rp();if(e.vnode.shapeFlag&32){const o=t._;o?(rn(n,t),Gf(n,"_",o,!0)):Fp(t,n)}else t&&Pp(e,t)},sv=(e,t,n)=>{const{vnode:o,slots:s}=e;let l=!0,r=Xt;if(o.shapeFlag&32){const f=t._;f?n&&f===1?l=!1:(rn(s,t),!n&&f===1&&delete s._):(l=!t.$stable,Fp(t,s)),r=t}else t&&(Pp(e,t),r={default:1});if(l)for(const f in s)!Dp(f)&&r[f]==null&&delete s[f]};function vc(e,t,n,o,s=!1){if(pt(e)){e.forEach((b,S)=>vc(b,t&&(pt(t)?t[S]:t),n,o,s));return}if(Ol(o)&&!s)return;const l=o.shapeFlag&4?na(o.component):o.el,r=s?null:l,{i:f,r:i}=e,d=t&&t.r,u=f.refs===Xt?f.refs={}:f.refs,h=f.setupState;if(d!=null&&d!==i&&(tn(d)?(u[d]=null,Pt(h,d)&&(h[d]=null)):In(d)&&(d.value=null)),Ct(i))xs(i,f,12,[r,u]);else{const b=tn(i),S=In(i);if(b||S){const F=()=>{if(e.f){const T=b?Pt(h,i)?h[i]:u[i]:i.value;s?pt(T)&&Pc(T,l):pt(T)?T.includes(l)||T.push(l):b?(u[i]=[l],Pt(h,i)&&(h[i]=u[i])):(i.value=[l],e.k&&(u[e.k]=i.value))}else b?(u[i]=r,Pt(h,i)&&(h[i]=r)):S&&(i.value=r,e.k&&(u[e.k]=r))};r?(F.id=-1,bn(F,n)):F()}}}const bn=Vg;function lv(e){return iv(e)}function iv(e,t){const n=Yf();n.__VUE__=!0;const{insert:o,remove:s,patchProp:l,createElement:r,createText:f,createComment:i,setText:d,setElementText:u,parentNode:h,nextSibling:b,setScopeId:S=uo,insertStaticContent:F}=e,T=(v,C,N,Y=null,X=null,ne=null,ve=void 0,Ce=null,Se=!!C.dynamicChildren)=>{if(v===C)return;v&&!gs(v,C)&&(Y=q(v),ye(v,X,ne,!0),v=null),C.patchFlag===-2&&(Se=!1,C.dynamicChildren=null);const{type:ge,ref:xe,shapeFlag:we}=C;switch(ge){case ea:U(v,C,N,Y);break;case zn:O(v,C,N,Y);break;case Er:v==null&&w(C,N,Y,ve);break;case Xn:ce(v,C,N,Y,X,ne,ve,Ce,Se);break;default:we&1?L(v,C,N,Y,X,ne,ve,Ce,Se):we&6?le(v,C,N,Y,X,ne,ve,Ce,Se):(we&64||we&128)&&ge.process(v,C,N,Y,X,ne,ve,Ce,Se,te)}xe!=null&&X&&vc(xe,v&&v.ref,ne,C||v,!C)},U=(v,C,N,Y)=>{if(v==null)o(C.el=f(C.children),N,Y);else{const X=C.el=v.el;C.children!==v.children&&d(X,C.children)}},O=(v,C,N,Y)=>{v==null?o(C.el=i(C.children||""),N,Y):C.el=v.el},w=(v,C,N,Y)=>{[v.el,v.anchor]=F(v.children,C,N,Y,v.el,v.anchor)},E=({el:v,anchor:C},N,Y)=>{let X;for(;v&&v!==C;)X=b(v),o(v,N,Y),v=X;o(C,N,Y)},M=({el:v,anchor:C})=>{let N;for(;v&&v!==C;)N=b(v),s(v),v=N;s(C)},L=(v,C,N,Y,X,ne,ve,Ce,Se)=>{C.type==="svg"?ve="svg":C.type==="math"&&(ve="mathml"),v==null?V(C,N,Y,X,ne,ve,Ce,Se):H(v,C,X,ne,ve,Ce,Se)},V=(v,C,N,Y,X,ne,ve,Ce)=>{let Se,ge;const{props:xe,shapeFlag:we,transition:K,dirs:ie}=v;if(Se=v.el=r(v.type,ne,xe&&xe.is,xe),we&8?u(Se,v.children):we&16&&_(v.children,Se,null,Y,X,Pa(v,ne),ve,Ce),ie&&As(v,null,Y,"created"),P(Se,v,v.scopeId,ve,Y),xe){for(const Te in xe)Te!=="value"&&!di(Te)&&l(Se,Te,null,xe[Te],ne,v.children,Y,X,Ae);"value"in xe&&l(Se,"value",null,xe.value,ne),(ge=xe.onVnodeBeforeMount)&&ao(ge,Y,v)}ie&&As(v,null,Y,"beforeMount");const Ee=rv(X,K);Ee&&K.beforeEnter(Se),o(Se,C,N),((ge=xe&&xe.onVnodeMounted)||Ee||ie)&&bn(()=>{ge&&ao(ge,Y,v),Ee&&K.enter(Se),ie&&As(v,null,Y,"mounted")},X)},P=(v,C,N,Y,X)=>{if(N&&S(v,N),Y)for(let ne=0;ne<Y.length;ne++)S(v,Y[ne]);if(X){let ne=X.subTree;if(C===ne){const ve=X.vnode;P(v,ve,ve.scopeId,ve.slotScopeIds,X.parent)}}},_=(v,C,N,Y,X,ne,ve,Ce,Se=0)=>{for(let ge=Se;ge<v.length;ge++){const xe=v[ge]=Ce?ps(v[ge]):Mo(v[ge]);T(null,xe,C,N,Y,X,ne,ve,Ce)}},H=(v,C,N,Y,X,ne,ve)=>{const Ce=C.el=v.el;let{patchFlag:Se,dynamicChildren:ge,dirs:xe}=C;Se|=v.patchFlag&16;const we=v.props||Xt,K=C.props||Xt;let ie;if(N&&Ns(N,!1),(ie=K.onVnodeBeforeUpdate)&&ao(ie,N,C,v),xe&&As(C,v,N,"beforeUpdate"),N&&Ns(N,!0),ge?ae(v.dynamicChildren,ge,Ce,N,Y,Pa(C,X),ne):ve||I(v,C,Ce,null,N,Y,Pa(C,X),ne,!1),Se>0){if(Se&16)be(Ce,C,we,K,N,Y,X);else if(Se&2&&we.class!==K.class&&l(Ce,"class",null,K.class,X),Se&4&&l(Ce,"style",we.style,K.style,X),Se&8){const Ee=C.dynamicProps;for(let Te=0;Te<Ee.length;Te++){const z=Ee[Te],oe=we[z],Re=K[z];(Re!==oe||z==="value")&&l(Ce,z,oe,Re,X,v.children,N,Y,Ae)}}Se&1&&v.children!==C.children&&u(Ce,C.children)}else!ve&&ge==null&&be(Ce,C,we,K,N,Y,X);((ie=K.onVnodeUpdated)||xe)&&bn(()=>{ie&&ao(ie,N,C,v),xe&&As(C,v,N,"updated")},Y)},ae=(v,C,N,Y,X,ne,ve)=>{for(let Ce=0;Ce<C.length;Ce++){const Se=v[Ce],ge=C[Ce],xe=Se.el&&(Se.type===Xn||!gs(Se,ge)||Se.shapeFlag&70)?h(Se.el):N;T(Se,ge,xe,null,Y,X,ne,ve,!0)}},be=(v,C,N,Y,X,ne,ve)=>{if(N!==Y){if(N!==Xt)for(const Ce in N)!di(Ce)&&!(Ce in Y)&&l(v,Ce,N[Ce],null,ve,C.children,X,ne,Ae);for(const Ce in Y){if(di(Ce))continue;const Se=Y[Ce],ge=N[Ce];Se!==ge&&Ce!=="value"&&l(v,Ce,ge,Se,ve,C.children,X,ne,Ae)}"value"in Y&&l(v,"value",N.value,Y.value,ve)}},ce=(v,C,N,Y,X,ne,ve,Ce,Se)=>{const ge=C.el=v?v.el:f(""),xe=C.anchor=v?v.anchor:f("");let{patchFlag:we,dynamicChildren:K,slotScopeIds:ie}=C;ie&&(Ce=Ce?Ce.concat(ie):ie),v==null?(o(ge,N,Y),o(xe,N,Y),_(C.children||[],N,xe,X,ne,ve,Ce,Se)):we>0&&we&64&&K&&v.dynamicChildren?(ae(v.dynamicChildren,K,N,X,ne,ve,Ce),(C.key!=null||X&&C===X.subTree)&&Zc(v,C,!0)):I(v,C,N,xe,X,ne,ve,Ce,Se)},le=(v,C,N,Y,X,ne,ve,Ce,Se)=>{C.slotScopeIds=Ce,v==null?C.shapeFlag&512?X.ctx.activate(C,N,Y,ve,Se):pe(C,N,Y,X,ne,ve,Se):he(v,C,Se)},pe=(v,C,N,Y,X,ne,ve)=>{const Ce=v.component=Rv(v,Y,X);if(Jr(v)&&(Ce.ctx.renderer=te),Mv(Ce),Ce.asyncDep){if(X&&X.registerDep(Ce,se,ve),!v.el){const Se=Ce.subTree=kn(zn);O(null,Se,C,N)}}else se(Ce,v,C,N,X,ne,ve)},he=(v,C,N)=>{const Y=C.component=v.component;if(Ag(v,C,N))if(Y.asyncDep&&!Y.asyncResolved){B(Y,C,N);return}else Y.next=C,Mg(Y.update),Y.effect.dirty=!0,Y.update();else C.el=v.el,Y.vnode=C},se=(v,C,N,Y,X,ne,ve)=>{const Ce=()=>{if(v.isMounted){let{next:xe,bu:we,u:K,parent:ie,vnode:Ee}=v;{const He=Lp(v);if(He){xe&&(xe.el=Ee.el,B(v,xe,ve)),He.asyncDep.then(()=>{v.isUnmounted||Ce()});return}}let Te=xe,z;Ns(v,!1),xe?(xe.el=Ee.el,B(v,xe,ve)):xe=Ee,we&&wl(we),(z=xe.props&&xe.props.onVnodeBeforeUpdate)&&ao(z,ie,xe,Ee),Ns(v,!0);const oe=Da(v),Re=v.subTree;v.subTree=oe,T(Re,oe,h(Re.el),q(Re),v,X,ne),xe.el=oe.el,Te===null&&Ng(v,oe.el),K&&bn(K,X),(z=xe.props&&xe.props.onVnodeUpdated)&&bn(()=>ao(z,ie,xe,Ee),X)}else{let xe;const{el:we,props:K}=C,{bm:ie,m:Ee,parent:Te}=v,z=Ol(C);if(Ns(v,!1),ie&&wl(ie),!z&&(xe=K&&K.onVnodeBeforeMount)&&ao(xe,Te,C),Ns(v,!0),we&&Ie){const oe=()=>{v.subTree=Da(v),Ie(we,v.subTree,v,X,null)};z?C.type.__asyncLoader().then(()=>!v.isUnmounted&&oe()):oe()}else{const oe=v.subTree=Da(v);T(null,oe,N,Y,v,X,ne),C.el=oe.el}if(Ee&&bn(Ee,X),!z&&(xe=K&&K.onVnodeMounted)){const oe=C;bn(()=>ao(xe,Te,oe),X)}(C.shapeFlag&256||Te&&Ol(Te.vnode)&&Te.vnode.shapeFlag&256)&&v.a&&bn(v.a,X),v.isMounted=!0,C=N=Y=null}},Se=v.effect=new _c(Ce,uo,()=>qc(ge),v.scope),ge=v.update=()=>{Se.dirty&&Se.run()};ge.id=v.uid,Ns(v,!0),ge()},B=(v,C,N)=>{C.component=v;const Y=v.vnode.props;v.vnode=C,v.next=null,tv(v,C.props,Y,N),sv(v,C.children,N),Es(),ld(v),Ss()},I=(v,C,N,Y,X,ne,ve,Ce,Se=!1)=>{const ge=v&&v.children,xe=v?v.shapeFlag:0,we=C.children,{patchFlag:K,shapeFlag:ie}=C;if(K>0){if(K&128){Z(ge,we,N,Y,X,ne,ve,Ce,Se);return}else if(K&256){A(ge,we,N,Y,X,ne,ve,Ce,Se);return}}ie&8?(xe&16&&Ae(ge,X,ne),we!==ge&&u(N,we)):xe&16?ie&16?Z(ge,we,N,Y,X,ne,ve,Ce,Se):Ae(ge,X,ne,!0):(xe&8&&u(N,""),ie&16&&_(we,N,Y,X,ne,ve,Ce,Se))},A=(v,C,N,Y,X,ne,ve,Ce,Se)=>{v=v||yl,C=C||yl;const ge=v.length,xe=C.length,we=Math.min(ge,xe);let K;for(K=0;K<we;K++){const ie=C[K]=Se?ps(C[K]):Mo(C[K]);T(v[K],ie,N,null,X,ne,ve,Ce,Se)}ge>xe?Ae(v,X,ne,!0,!1,we):_(C,N,Y,X,ne,ve,Ce,Se,we)},Z=(v,C,N,Y,X,ne,ve,Ce,Se)=>{let ge=0;const xe=C.length;let we=v.length-1,K=xe-1;for(;ge<=we&&ge<=K;){const ie=v[ge],Ee=C[ge]=Se?ps(C[ge]):Mo(C[ge]);if(gs(ie,Ee))T(ie,Ee,N,null,X,ne,ve,Ce,Se);else break;ge++}for(;ge<=we&&ge<=K;){const ie=v[we],Ee=C[K]=Se?ps(C[K]):Mo(C[K]);if(gs(ie,Ee))T(ie,Ee,N,null,X,ne,ve,Ce,Se);else break;we--,K--}if(ge>we){if(ge<=K){const ie=K+1,Ee=ie<xe?C[ie].el:Y;for(;ge<=K;)T(null,C[ge]=Se?ps(C[ge]):Mo(C[ge]),N,Ee,X,ne,ve,Ce,Se),ge++}}else if(ge>K)for(;ge<=we;)ye(v[ge],X,ne,!0),ge++;else{const ie=ge,Ee=ge,Te=new Map;for(ge=Ee;ge<=K;ge++){const Xe=C[ge]=Se?ps(C[ge]):Mo(C[ge]);Xe.key!=null&&Te.set(Xe.key,ge)}let z,oe=0;const Re=K-Ee+1;let He=!1,ze=0;const qe=new Array(Re);for(ge=0;ge<Re;ge++)qe[ge]=0;for(ge=ie;ge<=we;ge++){const Xe=v[ge];if(oe>=Re){ye(Xe,X,ne,!0);continue}let Ze;if(Xe.key!=null)Ze=Te.get(Xe.key);else for(z=Ee;z<=K;z++)if(qe[z-Ee]===0&&gs(Xe,C[z])){Ze=z;break}Ze===void 0?ye(Xe,X,ne,!0):(qe[Ze-Ee]=ge+1,Ze>=ze?ze=Ze:He=!0,T(Xe,C[Ze],N,null,X,ne,ve,Ce,Se),oe++)}const Qe=He?av(qe):yl;for(z=Qe.length-1,ge=Re-1;ge>=0;ge--){const Xe=Ee+ge,Ze=C[Xe],Je=Xe+1<xe?C[Xe+1].el:Y;qe[ge]===0?T(null,Ze,N,Je,X,ne,ve,Ce,Se):He&&(z<0||ge!==Qe[z]?ee(Ze,N,Je,2):z--)}}},ee=(v,C,N,Y,X=null)=>{const{el:ne,type:ve,transition:Ce,children:Se,shapeFlag:ge}=v;if(ge&6){ee(v.component.subTree,C,N,Y);return}if(ge&128){v.suspense.move(C,N,Y);return}if(ge&64){ve.move(v,C,N,te);return}if(ve===Xn){o(ne,C,N);for(let we=0;we<Se.length;we++)ee(Se[we],C,N,Y);o(v.anchor,C,N);return}if(ve===Er){E(v,C,N);return}if(Y!==2&&ge&1&&Ce)if(Y===0)Ce.beforeEnter(ne),o(ne,C,N),bn(()=>Ce.enter(ne),X);else{const{leave:we,delayLeave:K,afterLeave:ie}=Ce,Ee=()=>o(ne,C,N),Te=()=>{we(ne,()=>{Ee(),ie&&ie()})};K?K(ne,Ee,Te):Te()}else o(ne,C,N)},ye=(v,C,N,Y=!1,X=!1)=>{const{type:ne,props:ve,ref:Ce,children:Se,dynamicChildren:ge,shapeFlag:xe,patchFlag:we,dirs:K,memoIndex:ie}=v;if(Ce!=null&&vc(Ce,null,N,v,!0),ie!=null&&(C.renderCache[ie]=void 0),xe&256){C.ctx.deactivate(v);return}const Ee=xe&1&&K,Te=!Ol(v);let z;if(Te&&(z=ve&&ve.onVnodeBeforeUnmount)&&ao(z,C,v),xe&6)_e(v.component,N,Y);else{if(xe&128){v.suspense.unmount(N,Y);return}Ee&&As(v,null,C,"beforeUnmount"),xe&64?v.type.remove(v,C,N,X,te,Y):ge&&(ne!==Xn||we>0&&we&64)?Ae(ge,C,N,!1,!0):(ne===Xn&&we&384||!X&&xe&16)&&Ae(Se,C,N),Y&&Pe(v)}(Te&&(z=ve&&ve.onVnodeUnmounted)||Ee)&&bn(()=>{z&&ao(z,C,v),Ee&&As(v,null,C,"unmounted")},N)},Pe=v=>{const{type:C,el:N,anchor:Y,transition:X}=v;if(C===Xn){ke(N,Y);return}if(C===Er){M(v);return}const ne=()=>{s(N),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(v.shapeFlag&1&&X&&!X.persisted){const{leave:ve,delayLeave:Ce}=X,Se=()=>ve(N,ne);Ce?Ce(v.el,ne,Se):Se()}else ne()},ke=(v,C)=>{let N;for(;v!==C;)N=b(v),s(v),v=N;s(C)},_e=(v,C,N)=>{const{bum:Y,scope:X,update:ne,subTree:ve,um:Ce,m:Se,a:ge}=v;Pr(Se),Pr(ge),Y&&wl(Y),X.stop(),ne&&(ne.active=!1,ye(ve,v,C,N)),Ce&&bn(Ce,C),bn(()=>{v.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Ae=(v,C,N,Y=!1,X=!1,ne=0)=>{for(let ve=ne;ve<v.length;ve++)ye(v[ve],C,N,Y,X)},q=v=>v.shapeFlag&6?q(v.component.subTree):v.shapeFlag&128?v.suspense.next():b(v.anchor||v.el);let D=!1;const G=(v,C,N)=>{v==null?C._vnode&&ye(C._vnode,null,null,!0):T(C._vnode||null,v,C,null,null,null,N),D||(D=!0,ld(),xp(),D=!1),C._vnode=v},te={p:T,um:ye,m:ee,r:Pe,mt:pe,mc:_,pc:I,pbc:ae,n:q,o:e};let me,Ie;return{render:G,hydrate:me,createApp:Qg(G,me)}}function Pa({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ns({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function rv(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zc(e,t,n=!1){const o=e.children,s=t.children;if(pt(o)&&pt(s))for(let l=0;l<o.length;l++){const r=o[l];let f=s[l];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[l]=ps(s[l]),f.el=r.el),!n&&f.patchFlag!==-2&&Zc(r,f)),f.type===ea&&(f.el=r.el)}}function av(e){const t=e.slice(),n=[0];let o,s,l,r,f;const i=e.length;for(o=0;o<i;o++){const d=e[o];if(d!==0){if(s=n[n.length-1],e[s]<d){t[o]=s,n.push(o);continue}for(l=0,r=n.length-1;l<r;)f=l+r>>1,e[n[f]]<d?l=f+1:r=f;d<e[n[l]]&&(l>0&&(t[o]=n[l-1]),n[l]=o)}}for(l=n.length,r=n[l-1];l-- >0;)n[l]=r,r=t[r];return n}function Lp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lp(t)}function Pr(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const cv=Symbol.for("v-scx"),uv=()=>ct(cv);function dw(e,t){return Jc(e,null,t)}const hr={};function lt(e,t,n){return Jc(e,t,n)}function Jc(e,t,{immediate:n,deep:o,flush:s,once:l,onTrack:r,onTrigger:f}=Xt){if(t&&l){const V=t;t=(...P)=>{V(...P),L()}}const i=xn,d=V=>o===!0?V:ms(V,o===!1?1:void 0);let u,h=!1,b=!1;if(In(e)?(u=()=>e.value,h=Ir(e)):fi(e)?(u=()=>d(e),h=!0):pt(e)?(b=!0,h=e.some(V=>fi(V)||Ir(V)),u=()=>e.map(V=>{if(In(V))return V.value;if(fi(V))return d(V);if(Ct(V))return xs(V,i,2)})):Ct(e)?t?u=()=>xs(e,i,2):u=()=>(S&&S(),fo(e,i,3,[F])):u=uo,t&&o){const V=u;u=()=>ms(V())}let S,F=V=>{S=E.onStop=()=>{xs(V,i,4),S=E.onStop=void 0}},T;if(ta)if(F=uo,t?n&&fo(t,i,3,[u(),b?[]:void 0,F]):u(),s==="sync"){const V=uv();T=V.__watcherHandles||(V.__watcherHandles=[])}else return uo;let U=b?new Array(e.length).fill(hr):hr;const O=()=>{if(!(!E.active||!E.dirty))if(t){const V=E.run();(o||h||(b?V.some((P,_)=>ws(P,U[_])):ws(V,U)))&&(S&&S(),fo(t,i,3,[V,U===hr?void 0:b&&U[0]===hr?[]:U,F]),U=V)}else E.run()};O.allowRecurse=!!t;let w;s==="sync"?w=O:s==="post"?w=()=>bn(O,i&&i.suspense):(O.pre=!0,i&&(O.id=i.uid),w=()=>qc(O));const E=new _c(u,uo,w),M=Jm(),L=()=>{E.stop(),M&&Pc(M.effects,E)};return t?n?O():U=E.run():s==="post"?bn(E.run.bind(E),i&&i.suspense):E.run(),T&&T.push(L),L}function dv(e,t,n){const o=this.proxy,s=tn(e)?e.includes(".")?Ap(o,e):()=>o[e]:e.bind(o,o);let l;Ct(t)?l=t:(l=t.handler,n=t);const r=Qi(this),f=Jc(s,l.bind(o),n);return r(),f}function Ap(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}function ms(e,t=1/0,n){if(t<=0||!Kt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,In(e))ms(e.value,t,n);else if(pt(e))for(let o=0;o<e.length;o++)ms(e[o],t,n);else if(zf(e)||Cl(e))e.forEach(o=>{ms(o,t,n)});else if(Uf(e)){for(const o in e)ms(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&ms(e[o],t,n)}return e}const Jr=e=>e.type.__isKeepAlive,fv={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Bl(),o=n.ctx;if(!o.renderer)return()=>{const w=t.default&&t.default();return w&&w.length===1?w[0]:w};const s=new Map,l=new Set;let r=null;const f=n.suspense,{renderer:{p:i,m:d,um:u,o:{createElement:h}}}=o,b=h("div");o.activate=(w,E,M,L,V)=>{const P=w.component;d(w,E,M,0,f),i(P.vnode,w,E,M,P,f,L,w.slotScopeIds,V),bn(()=>{P.isDeactivated=!1,P.a&&wl(P.a);const _=w.props&&w.props.onVnodeMounted;_&&ao(_,P.parent,w)},f)},o.deactivate=w=>{const E=w.component;Pr(E.m),Pr(E.a),d(w,b,null,1,f),bn(()=>{E.da&&wl(E.da);const M=w.props&&w.props.onVnodeUnmounted;M&&ao(M,E.parent,w),E.isDeactivated=!0},f)};function S(w){La(w),u(w,n,f,!0)}function F(w){s.forEach((E,M)=>{const L=yc(E.type);L&&(!w||!w(L))&&T(M)})}function T(w){const E=s.get(w);!r||!gs(E,r)?S(E):r&&La(r),s.delete(w),l.delete(w)}lt(()=>[e.include,e.exclude],([w,E])=>{w&&F(M=>ci(w,M)),E&&F(M=>!ci(E,M))},{flush:"post",deep:!0});let U=null;const O=()=>{U!=null&&(fc(n.subTree.type)?bn(()=>{s.set(U,mr(n.subTree))},n.subTree.suspense):s.set(U,mr(n.subTree)))};return pn(O),Yc(O),$l(()=>{s.forEach(w=>{const{subTree:E,suspense:M}=n,L=mr(E);if(w.type===L.type&&w.key===L.key){La(L);const V=L.component.da;V&&bn(V,M);return}S(w)})}),()=>{if(U=null,!t.default)return null;const w=t.default(),E=w[0];if(w.length>1)return r=null,w;if(!Gi(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return r=null,E;let M=mr(E);const L=M.type,V=yc(Ol(M)?M.type.__asyncResolved||{}:L),{include:P,exclude:_,max:H}=e;if(P&&(!V||!ci(P,V))||_&&V&&ci(_,V))return r=M,E;const ae=M.key==null?L:M.key,be=s.get(ae);return M.el&&(M=Xo(M),E.shapeFlag&128&&(E.ssContent=M)),U=ae,be?(M.el=be.el,M.component=be.component,M.transition&&Qs(M,M.transition),M.shapeFlag|=512,l.delete(ae),l.add(ae)):(l.add(ae),H&&l.size>parseInt(H,10)&&T(l.values().next().value)),M.shapeFlag|=256,r=M,fc(E.type)?E:M}}},fw=fv;function ci(e,t){return pt(e)?e.some(n=>ci(n,t)):tn(e)?e.split(",").includes(t):Bm(e)?e.test(t):!1}function Qr(e,t){Np(e,"a",t)}function Qc(e,t){Np(e,"da",t)}function Np(e,t,n=xn){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Zr(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Jr(s.parent.vnode)&&pv(o,t,n,s),s=s.parent}}function pv(e,t,n,o){const s=Zr(t,e,o,!0);an(()=>{Pc(o[t],s)},n)}function La(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function mr(e){return e.shapeFlag&128?e.ssContent:e}const fs=Symbol("_leaveCb"),gr=Symbol("_enterCb");function _p(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pn(()=>{e.isMounted=!0}),$l(()=>{e.isUnmounting=!0}),e}const ro=[Function,Array],Vp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ro,onEnter:ro,onAfterEnter:ro,onEnterCancelled:ro,onBeforeLeave:ro,onLeave:ro,onAfterLeave:ro,onLeaveCancelled:ro,onBeforeAppear:ro,onAppear:ro,onAfterAppear:ro,onAppearCancelled:ro},$p=e=>{const t=e.subTree;return t.component?$p(t.component):t},hv={name:"BaseTransition",props:Vp,setup(e,{slots:t}){const n=Bl(),o=_p();return()=>{const s=t.default&&eu(t.default(),!0);if(!s||!s.length)return;let l=s[0];if(s.length>1){for(const b of s)if(b.type!==zn){l=b;break}}const r=Lt(e),{mode:f}=r;if(o.isLeaving)return Aa(l);const i=gd(l);if(!i)return Aa(l);let d=qi(i,r,o,n,b=>d=b);Qs(i,d);const u=n.subTree,h=u&&gd(u);if(h&&h.type!==zn&&!gs(i,h)&&$p(n).type!==zn){const b=qi(h,r,o,n);if(Qs(h,b),f==="out-in"&&i.type!==zn)return o.isLeaving=!0,b.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Aa(l);f==="in-out"&&i.type!==zn&&(b.delayLeave=(S,F,T)=>{const U=Bp(o,h);U[String(h.key)]=h,S[fs]=()=>{F(),S[fs]=void 0,delete d.delayedLeave},d.delayedLeave=T})}return l}}},mv=hv;function Bp(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function qi(e,t,n,o,s){const{appear:l,mode:r,persisted:f=!1,onBeforeEnter:i,onEnter:d,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:b,onLeave:S,onAfterLeave:F,onLeaveCancelled:T,onBeforeAppear:U,onAppear:O,onAfterAppear:w,onAppearCancelled:E}=t,M=String(e.key),L=Bp(n,e),V=(H,ae)=>{H&&fo(H,o,9,ae)},P=(H,ae)=>{const be=ae[1];V(H,ae),pt(H)?H.every(ce=>ce.length<=1)&&be():H.length<=1&&be()},_={mode:r,persisted:f,beforeEnter(H){let ae=i;if(!n.isMounted)if(l)ae=U||i;else return;H[fs]&&H[fs](!0);const be=L[M];be&&gs(e,be)&&be.el[fs]&&be.el[fs](),V(ae,[H])},enter(H){let ae=d,be=u,ce=h;if(!n.isMounted)if(l)ae=O||d,be=w||u,ce=E||h;else return;let le=!1;const pe=H[gr]=he=>{le||(le=!0,he?V(ce,[H]):V(be,[H]),_.delayedLeave&&_.delayedLeave(),H[gr]=void 0)};ae?P(ae,[H,pe]):pe()},leave(H,ae){const be=String(e.key);if(H[gr]&&H[gr](!0),n.isUnmounting)return ae();V(b,[H]);let ce=!1;const le=H[fs]=pe=>{ce||(ce=!0,ae(),pe?V(T,[H]):V(F,[H]),H[fs]=void 0,L[be]===e&&delete L[be])};L[be]=e,S?P(S,[H,le]):le()},clone(H){const ae=qi(H,t,n,o,s);return s&&s(ae),ae}};return _}function Aa(e){if(Jr(e))return e=Xo(e),e.children=null,e}function gd(e){if(!Jr(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ct(n.default))return n.default()}}function Qs(e,t){e.shapeFlag&6&&e.component?Qs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function eu(e,t=!1,n){let o=[],s=0;for(let l=0;l<e.length;l++){let r=e[l];const f=n==null?r.key:String(n)+String(r.key!=null?r.key:l);r.type===Xn?(r.patchFlag&128&&s++,o=o.concat(eu(r.children,t,f))):(t||r.type!==zn)&&o.push(f!=null?Xo(r,{key:f}):r)}if(s>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}const gv=e=>e.__isTeleport,mi=e=>e&&(e.disabled||e.disabled===""),vd=e=>typeof SVGElement<"u"&&e instanceof SVGElement,bd=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,bc=(e,t)=>{const n=e&&e.to;return tn(n)?t?t(n):null:n},vv={name:"Teleport",__isTeleport:!0,process(e,t,n,o,s,l,r,f,i,d){const{mc:u,pc:h,pbc:b,o:{insert:S,querySelector:F,createText:T,createComment:U}}=d,O=mi(t.props);let{shapeFlag:w,children:E,dynamicChildren:M}=t;if(e==null){const L=t.el=T(""),V=t.anchor=T("");S(L,n,o),S(V,n,o);const P=t.target=bc(t.props,F),_=t.targetAnchor=T("");P&&(S(_,P),r==="svg"||vd(P)?r="svg":(r==="mathml"||bd(P))&&(r="mathml"));const H=(ae,be)=>{w&16&&u(E,ae,be,s,l,r,f,i)};O?H(n,V):P&&H(P,_)}else{t.el=e.el;const L=t.anchor=e.anchor,V=t.target=e.target,P=t.targetAnchor=e.targetAnchor,_=mi(e.props),H=_?n:V,ae=_?L:P;if(r==="svg"||vd(V)?r="svg":(r==="mathml"||bd(V))&&(r="mathml"),M?(b(e.dynamicChildren,M,H,s,l,r,f),Zc(e,t,!0)):i||h(e,t,H,ae,s,l,r,f,!1),O)_?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):vr(t,n,L,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const be=t.target=bc(t.props,F);be&&vr(t,be,null,d,0)}else _&&vr(t,V,P,d,1)}jp(t)},remove(e,t,n,o,{um:s,o:{remove:l}},r){const{shapeFlag:f,children:i,anchor:d,targetAnchor:u,target:h,props:b}=e;if(h&&l(u),r&&l(d),f&16){const S=r||!mi(b);for(let F=0;F<i.length;F++){const T=i[F];s(T,t,n,S,!!T.dynamicChildren)}}},move:vr,hydrate:bv};function vr(e,t,n,{o:{insert:o},m:s},l=2){l===0&&o(e.targetAnchor,t,n);const{el:r,anchor:f,shapeFlag:i,children:d,props:u}=e,h=l===2;if(h&&o(r,t,n),(!h||mi(u))&&i&16)for(let b=0;b<d.length;b++)s(d[b],t,n,2);h&&o(f,t,n)}function bv(e,t,n,o,s,l,{o:{nextSibling:r,parentNode:f,querySelector:i}},d){const u=t.target=bc(t.props,i);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(mi(t.props))t.anchor=d(r(e),t,f(e),n,o,s,l),t.targetAnchor=h;else{t.anchor=r(e);let b=h;for(;b;)if(b=r(b),b&&b.nodeType===8&&b.data==="teleport anchor"){t.targetAnchor=b,u._lpa=t.targetAnchor&&r(t.targetAnchor);break}d(h,t,u,n,o,s,l)}jp(t)}return t.anchor&&r(t.anchor)}const nl=vv;function jp(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Xn=Symbol.for("v-fgt"),ea=Symbol.for("v-txt"),zn=Symbol.for("v-cmt"),Er=Symbol.for("v-stc"),gi=[];let xo=null;function tu(e=!1){gi.push(xo=e?null:[])}function xv(){gi.pop(),xo=gi[gi.length-1]||null}let Ui=1;function xd(e){Ui+=e}function Hp(e){return e.dynamicChildren=Ui>0?xo||yl:null,xv(),Ui>0&&xo&&xo.push(e),e}function yv(e,t,n,o,s,l){return Hp(qp(e,t,n,o,s,l,!0))}function zp(e,t,n,o,s){return Hp(kn(e,t,n,o,s,!0))}function Gi(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Wp=({key:e})=>e??null,Sr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?tn(e)||In(e)||Ct(e)?{i:fn,r:e,k:t,f:!!n}:e:null);function qp(e,t=null,n=null,o=0,s=null,l=e===Xn?0:1,r=!1,f=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wp(t),ref:t&&Sr(t),scopeId:Xr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:fn};return f?(nu(i,n),l&128&&e.normalize(i)):n&&(i.shapeFlag|=tn(n)?8:16),Ui>0&&!r&&xo&&(i.patchFlag>0||l&6)&&i.patchFlag!==32&&xo.push(i),i}const kn=Cv;function Cv(e,t=null,n=null,o=0,s=null,l=!1){if((!e||e===wp)&&(e=zn),Gi(e)){const f=Xo(e,t,!0);return n&&nu(f,n),Ui>0&&!l&&xo&&(f.shapeFlag&6?xo[xo.indexOf(e)]=f:xo.push(f)),f.patchFlag=-2,f}if(Dv(e)&&(e=e.__vccOpts),t){t=wv(t);let{class:f,style:i}=t;f&&!tn(f)&&(t.class=Nc(f)),Kt(i)&&(dp(i)&&!pt(i)&&(i=rn({},i)),t.style=Ac(i))}const r=tn(e)?1:fc(e)?128:gv(e)?64:Kt(e)?4:Ct(e)?2:0;return qp(e,t,n,o,s,r,l,!0)}function wv(e){return e?dp(e)||Mp(e)?rn({},e):e:null}function Xo(e,t,n=!1,o=!1){const{props:s,ref:l,patchFlag:r,children:f,transition:i}=e,d=t?Sv(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Wp(d),ref:t&&t.ref?n&&l?pt(l)?l.concat(Sr(t)):[l,Sr(t)]:Sr(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xn?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:i,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xo(e.ssContent),ssFallback:e.ssFallback&&Xo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return i&&o&&Qs(u,i.clone(u)),u}function Ev(e=" ",t=0){return kn(ea,null,e,t)}function pw(e,t){const n=kn(Er,null,e);return n.staticCount=t,n}function Et(e="",t=!1){return t?(tu(),zp(zn,null,e)):kn(zn,null,e)}function Mo(e){return e==null||typeof e=="boolean"?kn(zn):pt(e)?kn(Xn,null,e.slice()):typeof e=="object"?ps(e):kn(ea,null,String(e))}function ps(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xo(e)}function nu(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(pt(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),nu(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Mp(t)?t._ctx=fn:s===3&&fn&&(fn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ct(t)?(t={default:t,_ctx:fn},n=32):(t=String(t),o&64?(n=16,t=[Ev(t)]):n=8);e.children=t,e.shapeFlag|=n}function Sv(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=Nc([t.class,o.class]));else if(s==="style")t.style=Ac([t.style,o.style]);else if(Wr(s)){const l=t[s],r=o[s];r&&l!==r&&!(pt(l)&&l.includes(r))&&(t[s]=l?[].concat(l,r):r)}else s!==""&&(t[s]=o[s])}return t}function ao(e,t,n,o=null){fo(e,t,7,[n,o])}const Ov=Op();let Tv=0;function Rv(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||Ov,l={uid:Tv++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ip(o,s),emitsOptions:Cp(o,s),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:o.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Dg.bind(null,l),e.ce&&e.ce(l),l}let xn=null;const Bl=()=>xn||fn;let Lr,xc;{const e=Yf(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),l=>{s.length>1?s.forEach(r=>r(l)):s[0](l)}};Lr=t("__VUE_INSTANCE_SETTERS__",n=>xn=n),xc=t("__VUE_SSR_SETTERS__",n=>ta=n)}const Qi=e=>{const t=xn;return Lr(e),e.scope.on(),()=>{e.scope.off(),Lr(t)}},yd=()=>{xn&&xn.scope.off(),Lr(null)};function Up(e){return e.vnode.shapeFlag&4}let ta=!1;function Mv(e,t=!1){t&&xc(t);const{props:n,children:o}=e.vnode,s=Up(e);ev(e,n,s,t),ov(e,o);const l=s?kv(e,t):void 0;return t&&xc(!1),l}function kv(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qg);const{setup:o}=n;if(o){const s=e.setupContext=o.length>1?Yp(e):null,l=Qi(e);Es();const r=xs(o,e,0,[e.props,s]);if(Ss(),l(),Wf(r)){if(r.then(yd,yd),t)return r.then(f=>{Cd(e,f,t)}).catch(f=>{Yr(f,e,0)});e.asyncDep=r}else Cd(e,r,t)}else Gp(e,t)}function Cd(e,t,n){Ct(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Kt(t)&&(e.setupState=mp(t)),Gp(e,n)}let wd;function Gp(e,t,n){const o=e.type;if(!e.render){if(!t&&wd&&!o.render){const s=o.template||Kc(e).template;if(s){const{isCustomElement:l,compilerOptions:r}=e.appContext.config,{delimiters:f,compilerOptions:i}=o,d=rn(rn({isCustomElement:l,delimiters:f},r),i);o.render=wd(s,d)}}e.render=o.render||uo}{const s=Qi(e);Es();try{Gg(e)}finally{Ss(),s()}}}const Iv={get(e,t){return Wn(e,"get",""),e[t]}};function Yp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Iv),slots:e.slots,emit:e.emit,expose:t}}function na(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mp(xg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hi)return hi[n](e)},has(t,n){return n in t||n in hi}})):e.proxy}function yc(e,t=!0){return Ct(e)?e.displayName||e.name:e.name||t&&e.__name}function Dv(e){return Ct(e)&&"__vccOpts"in e}const Me=(e,t)=>yg(e,t,ta);function m(e,t,n){const o=arguments.length;return o===2?Kt(t)&&!pt(t)?Gi(t)?kn(e,null,[t]):kn(e,t):kn(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Gi(n)&&(n=[n]),kn(e,t,n))}const Fv="3.4.29";/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Pv="http://www.w3.org/2000/svg",Lv="http://www.w3.org/1998/Math/MathML",Wo=typeof document<"u"?document:null,Ed=Wo&&Wo.createElement("template"),Av={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?Wo.createElementNS(Pv,e):t==="mathml"?Wo.createElementNS(Lv,e):n?Wo.createElement(e,{is:n}):Wo.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>Wo.createTextNode(e),createComment:e=>Wo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,l){const r=n?n.previousSibling:t.lastChild;if(s&&(s===l||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===l||!(s=s.nextSibling)););else{Ed.innerHTML=o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e;const f=Ed.content;if(o==="svg"||o==="mathml"){const i=f.firstChild;for(;i.firstChild;)f.appendChild(i.firstChild);f.removeChild(i)}t.insertBefore(f,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ss="transition",Jl="animation",Il=Symbol("_vtc"),Kp=(e,{slots:t})=>m(mv,Zp(e),t);Kp.displayName="Transition";const Xp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Nv=Kp.props=rn({},Vp,Xp),_s=(e,t=[])=>{pt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Sd=e=>e?pt(e)?e.some(t=>t.length>1):e.length>1:!1;function Zp(e){const t={};for(const ce in e)ce in Xp||(t[ce]=e[ce]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:l=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:f=`${n}-enter-to`,appearFromClass:i=l,appearActiveClass:d=r,appearToClass:u=f,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:b=`${n}-leave-active`,leaveToClass:S=`${n}-leave-to`}=e,F=_v(s),T=F&&F[0],U=F&&F[1],{onBeforeEnter:O,onEnter:w,onEnterCancelled:E,onLeave:M,onLeaveCancelled:L,onBeforeAppear:V=O,onAppear:P=w,onAppearCancelled:_=E}=t,H=(ce,le,pe)=>{us(ce,le?u:f),us(ce,le?d:r),pe&&pe()},ae=(ce,le)=>{ce._isLeaving=!1,us(ce,h),us(ce,S),us(ce,b),le&&le()},be=ce=>(le,pe)=>{const he=ce?P:w,se=()=>H(le,ce,pe);_s(he,[le,se]),Od(()=>{us(le,ce?i:l),zo(le,ce?u:f),Sd(he)||Td(le,o,T,se)})};return rn(t,{onBeforeEnter(ce){_s(O,[ce]),zo(ce,l),zo(ce,r)},onBeforeAppear(ce){_s(V,[ce]),zo(ce,i),zo(ce,d)},onEnter:be(!1),onAppear:be(!0),onLeave(ce,le){ce._isLeaving=!0;const pe=()=>ae(ce,le);zo(ce,h),zo(ce,b),Qp(),Od(()=>{ce._isLeaving&&(us(ce,h),zo(ce,S),Sd(M)||Td(ce,o,U,pe))}),_s(M,[ce,pe])},onEnterCancelled(ce){H(ce,!1),_s(E,[ce])},onAppearCancelled(ce){H(ce,!0),_s(_,[ce])},onLeaveCancelled(ce){ae(ce),_s(L,[ce])}})}function _v(e){if(e==null)return null;if(Kt(e))return[Na(e.enter),Na(e.leave)];{const t=Na(e);return[t,t]}}function Na(e){return Wm(e)}function zo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Il]||(e[Il]=new Set)).add(t)}function us(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Il];n&&(n.delete(t),n.size||(e[Il]=void 0))}function Od(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Vv=0;function Td(e,t,n,o){const s=e._endId=++Vv,l=()=>{s===e._endId&&o()};if(n)return setTimeout(l,n);const{type:r,timeout:f,propCount:i}=Jp(e,t);if(!r)return o();const d=r+"end";let u=0;const h=()=>{e.removeEventListener(d,b),l()},b=S=>{S.target===e&&++u>=i&&h()};setTimeout(()=>{u<i&&h()},f+1),e.addEventListener(d,b)}function Jp(e,t){const n=window.getComputedStyle(e),o=F=>(n[F]||"").split(", "),s=o(`${ss}Delay`),l=o(`${ss}Duration`),r=Rd(s,l),f=o(`${Jl}Delay`),i=o(`${Jl}Duration`),d=Rd(f,i);let u=null,h=0,b=0;t===ss?r>0&&(u=ss,h=r,b=l.length):t===Jl?d>0&&(u=Jl,h=d,b=i.length):(h=Math.max(r,d),u=h>0?r>d?ss:Jl:null,b=u?u===ss?l.length:i.length:0);const S=u===ss&&/\b(transform|all)(,|$)/.test(o(`${ss}Property`).toString());return{type:u,timeout:h,propCount:b,hasTransform:S}}function Rd(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Md(n)+Md(e[o])))}function Md(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Qp(){return document.body.offsetHeight}function $v(e,t,n){const o=e[Il];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ar=Symbol("_vod"),eh=Symbol("_vsh"),hw={beforeMount(e,{value:t},{transition:n}){e[Ar]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ql(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Ql(e,!0),o.enter(e)):o.leave(e,()=>{Ql(e,!1)}):Ql(e,t))},beforeUnmount(e,{value:t}){Ql(e,t)}};function Ql(e,t){e.style.display=t?e[Ar]:"none",e[eh]=!t}const Bv=Symbol(""),jv=/(^|;)\s*display\s*:/;function Hv(e,t,n){const o=e.style,s=tn(n);let l=!1;if(n&&!s){if(t)if(tn(t))for(const r of t.split(";")){const f=r.slice(0,r.indexOf(":")).trim();n[f]==null&&Or(o,f,"")}else for(const r in t)n[r]==null&&Or(o,r,"");for(const r in n)r==="display"&&(l=!0),Or(o,r,n[r])}else if(s){if(t!==n){const r=o[Bv];r&&(n+=";"+r),o.cssText=n,l=jv.test(n)}}else t&&e.removeAttribute("style");Ar in e&&(e[Ar]=l?o.display:"",e[eh]&&(o.display="none"))}const kd=/\s*!important$/;function Or(e,t,n){if(pt(n))n.forEach(o=>Or(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=zv(e,t);kd.test(n)?e.setProperty(Vl(o),n.replace(kd,""),"important"):e[o]=n}}const Id=["Webkit","Moz","ms"],_a={};function zv(e,t){const n=_a[t];if(n)return n;let o=Po(t);if(o!=="filter"&&o in e)return _a[t]=o;o=Ur(o);for(let s=0;s<Id.length;s++){const l=Id[s]+o;if(l in e)return _a[t]=l}return t}const Dd="http://www.w3.org/1999/xlink";function Fd(e,t,n,o,s,l=Xm(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Dd,t.slice(6,t.length)):e.setAttributeNS(Dd,t,n):n==null||l&&!Kf(n)?e.removeAttribute(t):e.setAttribute(t,l?"":String(n))}function Wv(e,t,n,o,s,l,r){if(t==="innerHTML"||t==="textContent"){o&&r(o,s,l),e[t]=n??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){const d=f==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?"":String(n);(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Kf(n):n==null&&d==="string"?(n="",i=!0):d==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function vl(e,t,n,o){e.addEventListener(t,n,o)}function qv(e,t,n,o){e.removeEventListener(t,n,o)}const Pd=Symbol("_vei");function Uv(e,t,n,o,s=null){const l=e[Pd]||(e[Pd]={}),r=l[t];if(o&&r)r.value=o;else{const[f,i]=Gv(t);if(o){const d=l[t]=Xv(o,s);vl(e,f,d,i)}else r&&(qv(e,f,r,i),l[t]=void 0)}}const Ld=/(?:Once|Passive|Capture)$/;function Gv(e){let t;if(Ld.test(e)){t={};let o;for(;o=e.match(Ld);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Vl(e.slice(2)),t]}let Va=0;const Yv=Promise.resolve(),Kv=()=>Va||(Yv.then(()=>Va=0),Va=Date.now());function Xv(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;fo(Zv(o,n.value),t,5,[o])};return n.value=e,n.attached=Kv(),n}function Zv(e,t){if(pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Ad=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Jv=(e,t,n,o,s,l,r,f,i)=>{const d=s==="svg";t==="class"?$v(e,o,d):t==="style"?Hv(e,n,o):Wr(t)?Fc(t)||Uv(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qv(e,t,o,d))?(Wv(e,t,o,l,r,f,i),(t==="value"||t==="checked"||t==="selected")&&Fd(e,t,o,d,r,t!=="value")):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fd(e,t,o,d))};function Qv(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ad(t)&&Ct(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ad(t)&&tn(n)?!1:t in e}const th=new WeakMap,nh=new WeakMap,Nr=Symbol("_moveCb"),Nd=Symbol("_enterCb"),oh={name:"TransitionGroup",props:rn({},Nv,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Bl(),o=_p();let s,l;return Yc(()=>{if(!s.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!lb(s[0].el,n.vnode.el,r))return;s.forEach(nb),s.forEach(ob);const f=s.filter(sb);Qp(),f.forEach(i=>{const d=i.el,u=d.style;zo(d,r),u.transform=u.webkitTransform=u.transitionDuration="";const h=d[Nr]=b=>{b&&b.target!==d||(!b||/transform$/.test(b.propertyName))&&(d.removeEventListener("transitionend",h),d[Nr]=null,us(d,r))};d.addEventListener("transitionend",h)})}),()=>{const r=Lt(e),f=Zp(r);let i=r.tag||Xn;if(s=[],l)for(let d=0;d<l.length;d++){const u=l[d];u.el&&u.el instanceof Element&&(s.push(u),Qs(u,qi(u,f,o,n)),th.set(u,u.el.getBoundingClientRect()))}l=t.default?eu(t.default()):[];for(let d=0;d<l.length;d++){const u=l[d];u.key!=null&&Qs(u,qi(u,f,o,n))}return kn(i,null,l)}}},eb=e=>delete e.mode;oh.props;const tb=oh;function nb(e){const t=e.el;t[Nr]&&t[Nr](),t[Nd]&&t[Nd]()}function ob(e){nh.set(e,e.el.getBoundingClientRect())}function sb(e){const t=th.get(e),n=nh.get(e),o=t.left-n.left,s=t.top-n.top;if(o||s){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${s}px)`,l.transitionDuration="0s",e}}function lb(e,t,n){const o=e.cloneNode(),s=e[Il];s&&s.forEach(f=>{f.split(/\s+/).forEach(i=>i&&o.classList.remove(i))}),n.split(/\s+/).forEach(f=>f&&o.classList.add(f)),o.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(o);const{hasTransform:r}=Jp(o);return l.removeChild(o),r}const _d=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pt(t)?n=>wl(t,n):t};function ib(e){e.target.composing=!0}function Vd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $a=Symbol("_assign"),mw={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[$a]=_d(s);const l=o||s.props&&s.props.type==="number";vl(e,t?"change":"input",r=>{if(r.target.composing)return;let f=e.value;n&&(f=f.trim()),l&&(f=rc(f)),e[$a](f)}),n&&vl(e,"change",()=>{e.value=e.value.trim()}),t||(vl(e,"compositionstart",ib),vl(e,"compositionend",Vd),vl(e,"change",Vd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:l}},r){if(e[$a]=_d(r),e.composing)return;const f=(l||e.type==="number")&&!/^0\d/.test(e.value)?rc(e.value):e.value,i=t??"";f!==i&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===i)||(e.value=i))}},rb=["ctrl","shift","alt","meta"],ab={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rb.some(n=>e[`${n}Key`]&&!t.includes(n))},gw=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(s,...l)=>{for(let r=0;r<t.length;r++){const f=ab[t[r]];if(f&&f(s,t))return}return e(s,...l)})},cb=rn({patchProp:Jv},Av);let $d;function sh(){return $d||($d=lv(cb))}const vw=(...e)=>{sh().render(...e)},ub=(...e)=>{const t=sh().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=fb(o);if(!s)return;const l=t._component;!Ct(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.innerHTML="";const r=n(s,!1,db(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},t};function db(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fb(e){return tn(e)?document.querySelector(e):e}function pb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lh(e,t,n){return n&&pb(e,n),e}function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ih(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function rh(e,t){if(e==null)return{};var n,o,s={},l=Object.keys(e);for(o=0;o<l.length;o++)t.indexOf(n=l[o])>=0||(s[n]=e[n]);return s}function Bd(e){return((t=e)!=null&&typeof t=="object"&&Array.isArray(t)===!1)==1&&Object.prototype.toString.call(e)==="[object Object]";var t}var ah=Object.prototype,ch=ah.toString,hb=ah.hasOwnProperty,uh=/^\s*function (\w+)/;function jd(e){var t,n=(t=e==null?void 0:e.type)!==null&&t!==void 0?t:e;if(n){var o=n.toString().match(uh);return o?o[1]:""}return""}var el=function(e){var t,n;return Bd(e)!==!1&&typeof(t=e.constructor)=="function"&&Bd(n=t.prototype)!==!1&&n.hasOwnProperty("isPrototypeOf")!==!1},mb=function(e){return e},Nn=mb,Yi=function(e,t){return hb.call(e,t)},gb=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Dl=Array.isArray||function(e){return ch.call(e)==="[object Array]"},Fl=function(e){return ch.call(e)==="[object Function]"},_r=function(e){return el(e)&&Yi(e,"_vueTypes_name")},dh=function(e){return el(e)&&(Yi(e,"type")||["_vueTypes_name","validator","default","required"].some(function(t){return Yi(e,t)}))};function ou(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function ol(e,t,n){var o;n===void 0&&(n=!1);var s=!0,l="";o=el(e)?e:{type:e};var r=_r(o)?o._vueTypes_name+" - ":"";if(dh(o)&&o.type!==null){if(o.type===void 0||o.type===!0||!o.required&&t===void 0)return s;Dl(o.type)?(s=o.type.some(function(h){return ol(h,t,!0)===!0}),l=o.type.map(function(h){return jd(h)}).join(" or ")):s=(l=jd(o))==="Array"?Dl(t):l==="Object"?el(t):l==="String"||l==="Number"||l==="Boolean"||l==="Function"?function(h){if(h==null)return"";var b=h.constructor.toString().match(uh);return b?b[1]:""}(t)===l:t instanceof o.type}if(!s){var f=r+'value "'+t+'" should be of type "'+l+'"';return n===!1?(Nn(f),!1):f}if(Yi(o,"validator")&&Fl(o.validator)){var i=Nn,d=[];if(Nn=function(h){d.push(h)},s=o.validator(t),Nn=i,!s){var u=(d.length>1?"* ":"")+d.join(`
* `);return d.length=0,n===!1?(Nn(u),s):u}}return s}function Qn(e,t){var n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(s){return s!==void 0||this.default?Fl(s)||ol(this,s,!0)===!0?(this.default=Dl(s)?function(){return[].concat(s)}:el(s)?function(){return Object.assign({},s)}:s,this):(Nn(this._vueTypes_name+' - invalid default value: "'+s+'"'),this):this}}}),o=n.validator;return Fl(o)&&(n.validator=ou(o,n)),n}function Lo(e,t){var n=Qn(e,t);return Object.defineProperty(n,"validate",{value:function(o){return Fl(this.validator)&&Nn(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=ou(o,this),this}})}function Hd(e,t,n){var o,s,l=(o=t,s={},Object.getOwnPropertyNames(o).forEach(function(h){s[h]=Object.getOwnPropertyDescriptor(o,h)}),Object.defineProperties({},s));if(l._vueTypes_name=e,!el(n))return l;var r,f,i=n.validator,d=rh(n,["validator"]);if(Fl(i)){var u=l.validator;u&&(u=(f=(r=u).__original)!==null&&f!==void 0?f:r),l.validator=ou(u?function(h){return u.call(this,h)&&i.call(this,h)}:i,l)}return Object.assign(l,d)}function oa(e){return e.replace(/^(?!\s*$)/gm,"  ")}var vb=function(){return Lo("any",{})},bb=function(){return Lo("function",{type:Function})},xb=function(){return Lo("boolean",{type:Boolean})},yb=function(){return Lo("string",{type:String})},Cb=function(){return Lo("number",{type:Number})},wb=function(){return Lo("array",{type:Array})},Eb=function(){return Lo("object",{type:Object})},Sb=function(){return Qn("integer",{type:Number,validator:function(e){return gb(e)}})},Ob=function(){return Qn("symbol",{validator:function(e){return typeof e=="symbol"}})};function Tb(e,t){if(t===void 0&&(t="custom validation failed"),typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Qn(e.name||"<<anonymous function>>",{validator:function(n){var o=e(n);return o||Nn(this._vueTypes_name+" - "+t),o}})}function Rb(e){if(!Dl(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var t='oneOf - value should be one of "'+e.join('", "')+'".',n=e.reduce(function(o,s){if(s!=null){var l=s.constructor;o.indexOf(l)===-1&&o.push(l)}return o},[]);return Qn("oneOf",{type:n.length>0?n:void 0,validator:function(o){var s=e.indexOf(o)!==-1;return s||Nn(t),s}})}function Mb(e){if(!Dl(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var t=!1,n=[],o=0;o<e.length;o+=1){var s=e[o];if(dh(s)){if(_r(s)&&s._vueTypes_name==="oneOf"){n=n.concat(s.type);continue}if(Fl(s.validator)&&(t=!0),s.type!==!0&&s.type){n=n.concat(s.type);continue}}n.push(s)}return n=n.filter(function(l,r){return n.indexOf(l)===r}),Qn("oneOfType",t?{type:n,validator:function(l){var r=[],f=e.some(function(i){var d=ol(_r(i)&&i._vueTypes_name==="oneOf"?i.type||null:i,l,!0);return typeof d=="string"&&r.push(d),d===!0});return f||Nn("oneOfType - provided value does not match any of the "+r.length+` passed-in validators:
`+oa(r.join(`
`))),f}}:{type:n})}function kb(e){return Qn("arrayOf",{type:Array,validator:function(t){var n,o=t.every(function(s){return(n=ol(e,s,!0))===!0});return o||Nn(`arrayOf - value validation error:
`+oa(n)),o}})}function Ib(e){return Qn("instanceOf",{type:e})}function Db(e){return Qn("objectOf",{type:Object,validator:function(t){var n,o=Object.keys(t).every(function(s){return(n=ol(e,t[s],!0))===!0});return o||Nn(`objectOf - value validation error:
`+oa(n)),o}})}function Fb(e){var t=Object.keys(e),n=t.filter(function(s){var l;return!!(!((l=e[s])===null||l===void 0)&&l.required)}),o=Qn("shape",{type:Object,validator:function(s){var l=this;if(!el(s))return!1;var r=Object.keys(s);if(n.length>0&&n.some(function(i){return r.indexOf(i)===-1})){var f=n.filter(function(i){return r.indexOf(i)===-1});return Nn(f.length===1?'shape - required property "'+f[0]+'" is not defined.':'shape - required properties "'+f.join('", "')+'" are not defined.'),!1}return r.every(function(i){if(t.indexOf(i)===-1)return l._vueTypes_isLoose===!0||(Nn('shape - shape definition does not include a "'+i+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var d=ol(e[i],s[i],!0);return typeof d=="string"&&Nn('shape - "'+i+`" property validation error:
 `+oa(d)),d===!0})}});return Object.defineProperty(o,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(o,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),o}var To=function(){function e(){}return e.extend=function(t){var n=this;if(Dl(t))return t.forEach(function(h){return n.extend(h)}),this;var o=t.name,s=t.validate,l=s!==void 0&&s,r=t.getter,f=r!==void 0&&r,i=rh(t,["name","validate","getter"]);if(Yi(this,o))throw new TypeError('[VueTypes error]: Type "'+o+'" already defined');var d,u=i.type;return _r(u)?(delete i.type,Object.defineProperty(this,o,f?{get:function(){return Hd(o,u,i)}}:{value:function(){var h,b=Hd(o,u,i);return b.validator&&(b.validator=(h=b.validator).bind.apply(h,[b].concat([].slice.call(arguments)))),b}})):(d=f?{get:function(){var h=Object.assign({},i);return l?Lo(o,h):Qn(o,h)},enumerable:!0}:{value:function(){var h,b,S=Object.assign({},i);return h=l?Lo(o,S):Qn(o,S),S.validator&&(h.validator=(b=S.validator).bind.apply(b,[h].concat([].slice.call(arguments)))),h},enumerable:!0},Object.defineProperty(this,o,d))},lh(e,null,[{key:"any",get:function(){return vb()}},{key:"func",get:function(){return bb().def(this.defaults.func)}},{key:"bool",get:function(){return xb().def(this.defaults.bool)}},{key:"string",get:function(){return yb().def(this.defaults.string)}},{key:"number",get:function(){return Cb().def(this.defaults.number)}},{key:"array",get:function(){return wb().def(this.defaults.array)}},{key:"object",get:function(){return Eb().def(this.defaults.object)}},{key:"integer",get:function(){return Sb().def(this.defaults.integer)}},{key:"symbol",get:function(){return Ob()}}]),e}();function Pb(e){var t;return e===void 0&&(e={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(t=function(n){function o(){return n.apply(this,arguments)||this}return ih(o,n),lh(o,null,[{key:"sensibleDefaults",get:function(){return Tr({},this.defaults)},set:function(s){this.defaults=s!==!1?Tr({},s!==!0?s:e):{}}}]),o}(To)).defaults=Tr({},e),t}To.defaults={},To.custom=Tb,To.oneOf=Rb,To.instanceOf=Ib,To.oneOfType=Mb,To.arrayOf=kb,To.objectOf=Db,To.shape=Fb,To.utils={validate:function(e,t){return ol(t,e,!0)===!0},toType:function(e,t,n){return n===void 0&&(n=!1),n?Lo(e,t):Qn(e,t)}};(function(e){function t(){return e.apply(this,arguments)||this}return ih(t,e),t})(Pb());var bw=!1;/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const bl=typeof document<"u";function Lb(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ht=Object.assign;function Ba(e,t){const n={};for(const o in t){const s=t[o];n[o]=yo(s)?s.map(e):e(s)}return n}const vi=()=>{},yo=Array.isArray,fh=/#/g,Ab=/&/g,Nb=/\//g,_b=/=/g,Vb=/\?/g,ph=/\+/g,$b=/%5B/g,Bb=/%5D/g,hh=/%5E/g,jb=/%60/g,mh=/%7B/g,Hb=/%7C/g,gh=/%7D/g,zb=/%20/g;function su(e){return encodeURI(""+e).replace(Hb,"|").replace($b,"[").replace(Bb,"]")}function Wb(e){return su(e).replace(mh,"{").replace(gh,"}").replace(hh,"^")}function Cc(e){return su(e).replace(ph,"%2B").replace(zb,"+").replace(fh,"%23").replace(Ab,"%26").replace(jb,"`").replace(mh,"{").replace(gh,"}").replace(hh,"^")}function qb(e){return Cc(e).replace(_b,"%3D")}function Ub(e){return su(e).replace(fh,"%23").replace(Vb,"%3F")}function Gb(e){return e==null?"":Ub(e).replace(Nb,"%2F")}function Ki(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Yb=/\/$/,Kb=e=>e.replace(Yb,"");function ja(e,t,n="/"){let o,s={},l="",r="";const f=t.indexOf("#");let i=t.indexOf("?");return f<i&&f>=0&&(i=-1),i>-1&&(o=t.slice(0,i),l=t.slice(i+1,f>-1?f:t.length),s=e(l)),f>-1&&(o=o||t.slice(0,f),r=t.slice(f,t.length)),o=Qb(o??t,n),{fullPath:o+(l&&"?")+l+r,path:o,query:s,hash:Ki(r)}}function Xb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zd(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zb(e,t,n){const o=t.matched.length-1,s=n.matched.length-1;return o>-1&&o===s&&Pl(t.matched[o],n.matched[s])&&vh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Pl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function vh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Jb(e[n],t[n]))return!1;return!0}function Jb(e,t){return yo(e)?Wd(e,t):yo(t)?Wd(t,e):e===t}function Wd(e,t){return yo(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Qb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),s=o[o.length-1];(s===".."||s===".")&&o.push("");let l=n.length-1,r,f;for(r=0;r<o.length;r++)if(f=o[r],f!==".")if(f==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+o.slice(r).join("/")}const ls={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xi;(function(e){e.pop="pop",e.push="push"})(Xi||(Xi={}));var bi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bi||(bi={}));function ex(e){if(!e)if(bl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Kb(e)}const tx=/^[^#]+#/;function nx(e,t){return e.replace(tx,"#")+t}function ox(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const sa=()=>({left:window.scrollX,top:window.scrollY});function sx(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ox(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function qd(e,t){return(history.state?history.state.position-t:-1)+e}const wc=new Map;function lx(e,t){wc.set(e,t)}function ix(e){const t=wc.get(e);return wc.delete(e),t}let rx=()=>location.protocol+"//"+location.host;function bh(e,t){const{pathname:n,search:o,hash:s}=t,l=e.indexOf("#");if(l>-1){let f=s.includes(e.slice(l))?e.slice(l).length:1,i=s.slice(f);return i[0]!=="/"&&(i="/"+i),zd(i,"")}return zd(n,e)+o+s}function ax(e,t,n,o){let s=[],l=[],r=null;const f=({state:b})=>{const S=bh(e,location),F=n.value,T=t.value;let U=0;if(b){if(n.value=S,t.value=b,r&&r===F){r=null;return}U=T?b.position-T.position:0}else o(S);s.forEach(O=>{O(n.value,F,{delta:U,type:Xi.pop,direction:U?U>0?bi.forward:bi.back:bi.unknown})})};function i(){r=n.value}function d(b){s.push(b);const S=()=>{const F=s.indexOf(b);F>-1&&s.splice(F,1)};return l.push(S),S}function u(){const{history:b}=window;b.state&&b.replaceState(Ht({},b.state,{scroll:sa()}),"")}function h(){for(const b of l)b();l=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:i,listen:d,destroy:h}}function Ud(e,t,n,o=!1,s=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:s?sa():null}}function cx(e){const{history:t,location:n}=window,o={value:bh(e,n)},s={value:t.state};s.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(i,d,u){const h=e.indexOf("#"),b=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+i:rx()+e+i;try{t[u?"replaceState":"pushState"](d,"",b),s.value=d}catch(S){console.error(S),n[u?"replace":"assign"](b)}}function r(i,d){const u=Ht({},t.state,Ud(s.value.back,i,s.value.forward,!0),d,{position:s.value.position});l(i,u,!0),o.value=i}function f(i,d){const u=Ht({},s.value,t.state,{forward:i,scroll:sa()});l(u.current,u,!0);const h=Ht({},Ud(o.value,i,null),{position:u.position+1},d);l(i,h,!1),o.value=i}return{location:o,state:s,push:f,replace:r}}function xw(e){e=ex(e);const t=cx(e),n=ax(e,t.state,t.location,t.replace);function o(l,r=!0){r||n.pauseListeners(),history.go(l)}const s=Ht({location:"",base:e,go:o,createHref:nx.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function ux(e){return typeof e=="string"||e&&typeof e=="object"}function xh(e){return typeof e=="string"||typeof e=="symbol"}const yh=Symbol("");var Gd;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Gd||(Gd={}));function Ll(e,t){return Ht(new Error,{type:e,[yh]:!0},t)}function Bo(e,t){return e instanceof Error&&yh in e&&(t==null||!!(e.type&t))}const Yd="[^/]+?",dx={sensitive:!1,strict:!1,start:!0,end:!0},fx=/[.+*?^${}()[\]/\\]/g;function px(e,t){const n=Ht({},dx,t),o=[];let s=n.start?"^":"";const l=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let h=0;h<d.length;h++){const b=d[h];let S=40+(n.sensitive?.25:0);if(b.type===0)h||(s+="/"),s+=b.value.replace(fx,"\\$&"),S+=40;else if(b.type===1){const{value:F,repeatable:T,optional:U,regexp:O}=b;l.push({name:F,repeatable:T,optional:U});const w=O||Yd;if(w!==Yd){S+=10;try{new RegExp(`(${w})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${F}" (${w}): `+M.message)}}let E=T?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(E=U&&d.length<2?`(?:/${E})`:"/"+E),U&&(E+="?"),s+=E,S+=20,U&&(S+=-8),T&&(S+=-20),w===".*"&&(S+=-50)}u.push(S)}o.push(u)}if(n.strict&&n.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const r=new RegExp(s,n.sensitive?"":"i");function f(d){const u=d.match(r),h={};if(!u)return null;for(let b=1;b<u.length;b++){const S=u[b]||"",F=l[b-1];h[F.name]=S&&F.repeatable?S.split("/"):S}return h}function i(d){let u="",h=!1;for(const b of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const S of b)if(S.type===0)u+=S.value;else if(S.type===1){const{value:F,repeatable:T,optional:U}=S,O=F in d?d[F]:"";if(yo(O)&&!T)throw new Error(`Provided param "${F}" is an array but it is not repeatable (* or + modifiers)`);const w=yo(O)?O.join("/"):O;if(!w)if(U)b.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${F}"`);u+=w}}return u||"/"}return{re:r,score:o,keys:l,parse:f,stringify:i}}function hx(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ch(e,t){let n=0;const o=e.score,s=t.score;for(;n<o.length&&n<s.length;){const l=hx(o[n],s[n]);if(l)return l;n++}if(Math.abs(s.length-o.length)===1){if(Kd(o))return 1;if(Kd(s))return-1}return s.length-o.length}function Kd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const mx={type:0,value:""},gx=/[a-zA-Z0-9_]/;function vx(e){if(!e)return[[]];if(e==="/")return[[mx]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(S){throw new Error(`ERR (${n})/"${d}": ${S}`)}let n=0,o=n;const s=[];let l;function r(){l&&s.push(l),l=[]}let f=0,i,d="",u="";function h(){d&&(n===0?l.push({type:0,value:d}):n===1||n===2||n===3?(l.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:u,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),d="")}function b(){d+=i}for(;f<e.length;){if(i=e[f++],i==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:i==="/"?(d&&h(),r()):i===":"?(h(),n=1):b();break;case 4:b(),n=o;break;case 1:i==="("?n=2:gx.test(i)?b():(h(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&f--);break;case 2:i===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+i:n=3:u+=i;break;case 3:h(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&f--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),r(),s}function bx(e,t,n){const o=px(vx(e.path),n),s=Ht(o,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function xx(e,t){const n=[],o=new Map;t=Jd({strict:!1,end:!0,sensitive:!1},t);function s(h){return o.get(h)}function l(h,b,S){const F=!S,T=yx(h);T.aliasOf=S&&S.record;const U=Jd(t,h),O=[T];if("alias"in h){const M=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of M)O.push(Ht({},T,{components:S?S.record.components:T.components,path:L,aliasOf:S?S.record:T}))}let w,E;for(const M of O){const{path:L}=M;if(b&&L[0]!=="/"){const V=b.record.path,P=V[V.length-1]==="/"?"":"/";M.path=b.record.path+(L&&P+L)}if(w=bx(M,b,U),S?S.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),F&&h.name&&!Zd(w)&&r(h.name)),wh(w)&&i(w),T.children){const V=T.children;for(let P=0;P<V.length;P++)l(V[P],w,S&&S.children[P])}S=S||w}return E?()=>{r(E)}:vi}function r(h){if(xh(h)){const b=o.get(h);b&&(o.delete(h),n.splice(n.indexOf(b),1),b.children.forEach(r),b.alias.forEach(r))}else{const b=n.indexOf(h);b>-1&&(n.splice(b,1),h.record.name&&o.delete(h.record.name),h.children.forEach(r),h.alias.forEach(r))}}function f(){return n}function i(h){const b=Ex(h,n);n.splice(b,0,h),h.record.name&&!Zd(h)&&o.set(h.record.name,h)}function d(h,b){let S,F={},T,U;if("name"in h&&h.name){if(S=o.get(h.name),!S)throw Ll(1,{location:h});U=S.record.name,F=Ht(Xd(b.params,S.keys.filter(E=>!E.optional).concat(S.parent?S.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&Xd(h.params,S.keys.map(E=>E.name))),T=S.stringify(F)}else if(h.path!=null)T=h.path,S=n.find(E=>E.re.test(T)),S&&(F=S.parse(T),U=S.record.name);else{if(S=b.name?o.get(b.name):n.find(E=>E.re.test(b.path)),!S)throw Ll(1,{location:h,currentLocation:b});U=S.record.name,F=Ht({},b.params,h.params),T=S.stringify(F)}const O=[];let w=S;for(;w;)O.unshift(w.record),w=w.parent;return{name:U,path:T,params:F,matched:O,meta:wx(O)}}e.forEach(h=>l(h));function u(){n.length=0,o.clear()}return{addRoute:l,resolve:d,removeRoute:r,clearRoutes:u,getRoutes:f,getRecordMatcher:s}}function Xd(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function yx(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Cx(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Cx(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function Zd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wx(e){return e.reduce((t,n)=>Ht(t,n.meta),{})}function Jd(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Ex(e,t){let n=0,o=t.length;for(;n!==o;){const l=n+o>>1;Ch(e,t[l])<0?o=l:n=l+1}const s=Sx(e);return s&&(o=t.lastIndexOf(s,o-1)),o}function Sx(e){let t=e;for(;t=t.parent;)if(wh(t)&&Ch(e,t)===0)return t}function wh({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ox(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<o.length;++s){const l=o[s].replace(ph," "),r=l.indexOf("="),f=Ki(r<0?l:l.slice(0,r)),i=r<0?null:Ki(l.slice(r+1));if(f in t){let d=t[f];yo(d)||(d=t[f]=[d]),d.push(i)}else t[f]=i}return t}function Qd(e){let t="";for(let n in e){const o=e[n];if(n=qb(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(yo(o)?o.map(l=>l&&Cc(l)):[o&&Cc(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function Tx(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=yo(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return t}const Eh=Symbol(""),ef=Symbol(""),la=Symbol(""),Sh=Symbol(""),Ec=Symbol("");function ei(){let e=[];function t(o){return e.push(o),()=>{const s=e.indexOf(o);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Rx(e,t,n){const o=()=>{e[t].delete(n)};an(o),Qc(o),Qr(()=>{e[t].add(n)}),e[t].add(n)}function yw(e){const t=ct(Eh,{}).value;t&&Rx(t,"updateGuards",e)}function hs(e,t,n,o,s,l=r=>r()){const r=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((f,i)=>{const d=b=>{b===!1?i(Ll(4,{from:n,to:t})):b instanceof Error?i(b):ux(b)?i(Ll(2,{from:t,to:b})):(r&&o.enterCallbacks[s]===r&&typeof b=="function"&&r.push(b),f())},u=l(()=>e.call(o&&o.instances[s],t,n,d));let h=Promise.resolve(u);e.length<3&&(h=h.then(d)),h.catch(b=>i(b))})}function Ha(e,t,n,o,s=l=>l()){const l=[];for(const r of e)for(const f in r.components){let i=r.components[f];if(!(t!=="beforeRouteEnter"&&!r.instances[f]))if(Mx(i)){const u=(i.__vccOpts||i)[t];u&&l.push(hs(u,n,o,r,f,s))}else{let d=i();l.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${r.path}"`));const h=Lb(u)?u.default:u;r.components[f]=h;const S=(h.__vccOpts||h)[t];return S&&hs(S,n,o,r,f,s)()}))}}return l}function Mx(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function tf(e){const t=ct(la),n=ct(Sh),o=Me(()=>{const i=El(e.to);return t.resolve(i)}),s=Me(()=>{const{matched:i}=o.value,{length:d}=i,u=i[d-1],h=n.matched;if(!u||!h.length)return-1;const b=h.findIndex(Pl.bind(null,u));if(b>-1)return b;const S=nf(i[d-2]);return d>1&&nf(u)===S&&h[h.length-1].path!==S?h.findIndex(Pl.bind(null,i[d-2])):b}),l=Me(()=>s.value>-1&&Fx(n.params,o.value.params)),r=Me(()=>s.value>-1&&s.value===n.matched.length-1&&vh(n.params,o.value.params));function f(i={}){return Dx(i)?t[El(e.replace)?"replace":"push"](El(e.to)).catch(vi):Promise.resolve()}return{route:o,href:Me(()=>o.value.href),isActive:l,isExactActive:r,navigate:f}}const kx=Mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:tf,setup(e,{slots:t}){const n=Vt(tf(e)),{options:o}=ct(la),s=Me(()=>({[of(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[of(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&t.default(n);return e.custom?l:m("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},l)}}}),Ix=kx;function Dx(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fx(e,t){for(const n in t){const o=t[n],s=e[n];if(typeof o=="string"){if(o!==s)return!1}else if(!yo(s)||s.length!==o.length||o.some((l,r)=>l!==s[r]))return!1}return!0}function nf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const of=(e,t,n)=>e??t??n,Px=Mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=ct(Ec),s=Me(()=>e.route||o.value),l=ct(ef,0),r=Me(()=>{let d=El(l);const{matched:u}=s.value;let h;for(;(h=u[d])&&!h.components;)d++;return d}),f=Me(()=>s.value.matched[r.value]);qt(ef,Me(()=>r.value+1)),qt(Eh,f),qt(Ec,s);const i=Ue();return lt(()=>[i.value,f.value,e.name],([d,u,h],[b,S,F])=>{u&&(u.instances[h]=d,S&&S!==u&&d&&d===b&&(u.leaveGuards.size||(u.leaveGuards=S.leaveGuards),u.updateGuards.size||(u.updateGuards=S.updateGuards))),d&&u&&(!S||!Pl(u,S)||!b)&&(u.enterCallbacks[h]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=s.value,u=e.name,h=f.value,b=h&&h.components[u];if(!b)return sf(n.default,{Component:b,route:d});const S=h.props[u],F=S?S===!0?d.params:typeof S=="function"?S(d):S:null,U=m(b,Ht({},F,t,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(h.instances[u]=null)},ref:i}));return sf(n.default,{Component:U,route:d})||U}}});function sf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Lx=Px;function Cw(e){const t=xx(e.routes,e),n=e.parseQuery||Ox,o=e.stringifyQuery||Qd,s=e.history,l=ei(),r=ei(),f=ei(),i=Cg(ls);let d=ls;bl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ba.bind(null,q=>""+q),h=Ba.bind(null,Gb),b=Ba.bind(null,Ki);function S(q,D){let G,te;return xh(q)?(G=t.getRecordMatcher(q),te=D):te=q,t.addRoute(te,G)}function F(q){const D=t.getRecordMatcher(q);D&&t.removeRoute(D)}function T(){return t.getRoutes().map(q=>q.record)}function U(q){return!!t.getRecordMatcher(q)}function O(q,D){if(D=Ht({},D||i.value),typeof q=="string"){const C=ja(n,q,D.path),N=t.resolve({path:C.path},D),Y=s.createHref(C.fullPath);return Ht(C,N,{params:b(N.params),hash:Ki(C.hash),redirectedFrom:void 0,href:Y})}let G;if(q.path!=null)G=Ht({},q,{path:ja(n,q.path,D.path).path});else{const C=Ht({},q.params);for(const N in C)C[N]==null&&delete C[N];G=Ht({},q,{params:h(C)}),D.params=h(D.params)}const te=t.resolve(G,D),me=q.hash||"";te.params=u(b(te.params));const Ie=Xb(o,Ht({},q,{hash:Wb(me),path:te.path})),v=s.createHref(Ie);return Ht({fullPath:Ie,hash:me,query:o===Qd?Tx(q.query):q.query||{}},te,{redirectedFrom:void 0,href:v})}function w(q){return typeof q=="string"?ja(n,q,i.value.path):Ht({},q)}function E(q,D){if(d!==q)return Ll(8,{from:D,to:q})}function M(q){return P(q)}function L(q){return M(Ht(w(q),{replace:!0}))}function V(q){const D=q.matched[q.matched.length-1];if(D&&D.redirect){const{redirect:G}=D;let te=typeof G=="function"?G(q):G;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=w(te):{path:te},te.params={}),Ht({query:q.query,hash:q.hash,params:te.path!=null?{}:q.params},te)}}function P(q,D){const G=d=O(q),te=i.value,me=q.state,Ie=q.force,v=q.replace===!0,C=V(G);if(C)return P(Ht(w(C),{state:typeof C=="object"?Ht({},me,C.state):me,force:Ie,replace:v}),D||G);const N=G;N.redirectedFrom=D;let Y;return!Ie&&Zb(o,te,G)&&(Y=Ll(16,{to:N,from:te}),ee(te,te,!0,!1)),(Y?Promise.resolve(Y):ae(N,te)).catch(X=>Bo(X)?Bo(X,2)?X:Z(X):I(X,N,te)).then(X=>{if(X){if(Bo(X,2))return P(Ht({replace:v},w(X.to),{state:typeof X.to=="object"?Ht({},me,X.to.state):me,force:Ie}),D||N)}else X=ce(N,te,!0,v,me);return be(N,te,X),X})}function _(q,D){const G=E(q,D);return G?Promise.reject(G):Promise.resolve()}function H(q){const D=ke.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(q):q()}function ae(q,D){let G;const[te,me,Ie]=Ax(q,D);G=Ha(te.reverse(),"beforeRouteLeave",q,D);for(const C of te)C.leaveGuards.forEach(N=>{G.push(hs(N,q,D))});const v=_.bind(null,q,D);return G.push(v),Ae(G).then(()=>{G=[];for(const C of l.list())G.push(hs(C,q,D));return G.push(v),Ae(G)}).then(()=>{G=Ha(me,"beforeRouteUpdate",q,D);for(const C of me)C.updateGuards.forEach(N=>{G.push(hs(N,q,D))});return G.push(v),Ae(G)}).then(()=>{G=[];for(const C of Ie)if(C.beforeEnter)if(yo(C.beforeEnter))for(const N of C.beforeEnter)G.push(hs(N,q,D));else G.push(hs(C.beforeEnter,q,D));return G.push(v),Ae(G)}).then(()=>(q.matched.forEach(C=>C.enterCallbacks={}),G=Ha(Ie,"beforeRouteEnter",q,D,H),G.push(v),Ae(G))).then(()=>{G=[];for(const C of r.list())G.push(hs(C,q,D));return G.push(v),Ae(G)}).catch(C=>Bo(C,8)?C:Promise.reject(C))}function be(q,D,G){f.list().forEach(te=>H(()=>te(q,D,G)))}function ce(q,D,G,te,me){const Ie=E(q,D);if(Ie)return Ie;const v=D===ls,C=bl?history.state:{};G&&(te||v?s.replace(q.fullPath,Ht({scroll:v&&C&&C.scroll},me)):s.push(q.fullPath,me)),i.value=q,ee(q,D,G,v),Z()}let le;function pe(){le||(le=s.listen((q,D,G)=>{if(!_e.listening)return;const te=O(q),me=V(te);if(me){P(Ht(me,{replace:!0}),te).catch(vi);return}d=te;const Ie=i.value;bl&&lx(qd(Ie.fullPath,G.delta),sa()),ae(te,Ie).catch(v=>Bo(v,12)?v:Bo(v,2)?(P(v.to,te).then(C=>{Bo(C,20)&&!G.delta&&G.type===Xi.pop&&s.go(-1,!1)}).catch(vi),Promise.reject()):(G.delta&&s.go(-G.delta,!1),I(v,te,Ie))).then(v=>{v=v||ce(te,Ie,!1),v&&(G.delta&&!Bo(v,8)?s.go(-G.delta,!1):G.type===Xi.pop&&Bo(v,20)&&s.go(-1,!1)),be(te,Ie,v)}).catch(vi)}))}let he=ei(),se=ei(),B;function I(q,D,G){Z(q);const te=se.list();return te.length?te.forEach(me=>me(q,D,G)):console.error(q),Promise.reject(q)}function A(){return B&&i.value!==ls?Promise.resolve():new Promise((q,D)=>{he.add([q,D])})}function Z(q){return B||(B=!q,pe(),he.list().forEach(([D,G])=>q?G(q):D()),he.reset()),q}function ee(q,D,G,te){const{scrollBehavior:me}=e;if(!bl||!me)return Promise.resolve();const Ie=!G&&ix(qd(q.fullPath,0))||(te||!G)&&history.state&&history.state.scroll||null;return fe().then(()=>me(q,D,Ie)).then(v=>v&&sx(v)).catch(v=>I(v,q,D))}const ye=q=>s.go(q);let Pe;const ke=new Set,_e={currentRoute:i,listening:!0,addRoute:S,removeRoute:F,clearRoutes:t.clearRoutes,hasRoute:U,getRoutes:T,resolve:O,options:e,push:M,replace:L,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:l.add,beforeResolve:r.add,afterEach:f.add,onError:se.add,isReady:A,install(q){const D=this;q.component("RouterLink",Ix),q.component("RouterView",Lx),q.config.globalProperties.$router=D,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>El(i)}),bl&&!Pe&&i.value===ls&&(Pe=!0,M(s.location).catch(me=>{}));const G={};for(const me in ls)Object.defineProperty(G,me,{get:()=>i.value[me],enumerable:!0});q.provide(la,D),q.provide(Sh,cp(G)),q.provide(Ec,i);const te=q.unmount;ke.add(q),q.unmount=function(){ke.delete(q),ke.size<1&&(d=ls,le&&le(),le=null,i.value=ls,Pe=!1,B=!1),te()}}};function Ae(q){return q.reduce((D,G)=>D.then(()=>H(G)),Promise.resolve())}return _e}function Ax(e,t){const n=[],o=[],s=[],l=Math.max(t.matched.length,e.matched.length);for(let r=0;r<l;r++){const f=t.matched[r];f&&(e.matched.find(d=>Pl(d,f))?o.push(f):n.push(f));const i=e.matched[r];i&&(t.matched.find(d=>Pl(d,i))||s.push(i))}return[n,o,s]}function ww(){return ct(la)}const rt="vxe-icon-",y={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowFixed:!0,showFooter:!0},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{_typeMaps:{},modes:["insert","covering"]},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1},modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},icon:{LOADING:rt+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:rt+"caret-up",TABLE_SORT_DESC:rt+"caret-down",TABLE_FILTER_NONE:rt+"funnel",TABLE_FILTER_MATCH:rt+"funnel",TABLE_EDIT:rt+"edit",TABLE_TITLE_PREFIX:rt+"question-circle-fill",TABLE_TITLE_SUFFIX:rt+"question-circle-fill",TABLE_TREE_LOADED:rt+"spinner roll",TABLE_TREE_OPEN:rt+"caret-right rotate90",TABLE_TREE_CLOSE:rt+"caret-right",TABLE_EXPAND_LOADED:rt+"spinner roll",TABLE_EXPAND_OPEN:rt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:rt+"arrow-right",TABLE_CHECKBOX_CHECKED:rt+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:rt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:rt+"checkbox-indeterminate",TABLE_RADIO_CHECKED:rt+"radio-checked",TABLE_RADIO_UNCHECKED:rt+"radio-unchecked",BUTTON_DROPDOWN:rt+"arrow-down",BUTTON_LOADING:rt+"spinner roll",SELECT_LOADED:rt+"spinner roll",SELECT_OPEN:rt+"caret-down rotate180",SELECT_CLOSE:rt+"caret-down",PAGER_HOME:rt+"home-page",PAGER_END:rt+"end-page",PAGER_JUMP_PREV:rt+"arrow-double-left",PAGER_JUMP_NEXT:rt+"arrow-double-right",PAGER_PREV_PAGE:rt+"arrow-left",PAGER_NEXT_PAGE:rt+"arrow-right",PAGER_JUMP_MORE:rt+"ellipsis-h",INPUT_CLEAR:rt+"error-circle-fill",INPUT_PWD:rt+"eye-fill",INPUT_SHOW_PWD:rt+"eye-fill-close",INPUT_PREV_NUM:rt+"caret-up",INPUT_NEXT_NUM:rt+"caret-down",INPUT_DATE:rt+"calendar",INPUT_SEARCH:rt+"search",MODAL_ZOOM_IN:rt+"square",MODAL_ZOOM_OUT:rt+"maximize",MODAL_CLOSE:rt+"close",MODAL_INFO:rt+"info-circle-fill",MODAL_SUCCESS:rt+"success-circle-fill",MODAL_WARNING:rt+"warnion-circle-fill",MODAL_ERROR:rt+"error-circle-fill",MODAL_QUESTION:rt+"question-circle-fill",MODAL_LOADING:rt+"spinner roll",TOOLBAR_TOOLS_REFRESH:rt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:rt+"repeat roll",TOOLBAR_TOOLS_IMPORT:rt+"upload",TOOLBAR_TOOLS_EXPORT:rt+"download",TOOLBAR_TOOLS_PRINT:rt+"print",TOOLBAR_TOOLS_FULLSCREEN:rt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:rt+"minimize",TOOLBAR_TOOLS_CUSTOM:rt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:rt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:rt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:rt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:rt+"fixed-right-fill",FORM_PREFIX:rt+"question-circle-fill",FORM_SUFFIX:rt+"question-circle-fill",FORM_FOLDING:rt+"arrow-up rotate180",FORM_UNFOLDING:rt+"arrow-up"},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},button:{},buttonGroup:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},checkboxGroup:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,showConfirmButton:null,storageKey:"VXE_MODAL_POSITION"},drawer:{showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};function lu(e,t){return`[vxe-table v4.6.18] ${y.i18n(e,t)}`}function Oh(e){return function(t,n){const o=lu(t,n);return console[e](o),o}}const Th=Oh("warn"),sn=Oh("error"),ti={},xi={mixin(e){return c.each(e,(t,n)=>xi.add(n,t)),xi},get(e){return ti[e]||[]},add(e,t){if(t){let n=ti[e];n||(n=ti[e]=[]),n.push(t)}return xi},delete(e,t){const n=ti[e];n&&(t?c.remove(n,o=>o===t):delete ti[e])}};class Nx{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return c.each(t,(n,o)=>{this.add(o,n)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,n){const o=this.store[t];return c.isFunction(n)&&(n={cellFormatMethod:n}),this.store[t]=o?c.merge(o,n):n,this}delete(t){delete this.store[t]}forEach(t){c.objectEach(this.store,t)}}const Rh=new Nx;function gt(e){return e&&e.enabled!==!1}function iu(e){return e==null||e===""}function ru(e){const t=e.name,n=c.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}function Co(){return Ic.getNext()}function Ao(){return Ic.getCurrent()}function xl(e){return e&&e.children&&e.children.length>0}function Ut(e){return e?c.toValueString(y.translate?y.translate(""+e):e):""}function en(e,t){return""+(iu(e)?t?y.emptyCell:"":e)}function bo(e){return e===""||c.eqNull(e)}class Sc{constructor(t,n,{renderHeader:o,renderCell:s,renderFooter:l,renderData:r}={}){const f=t.xegrid,i=n.formatter,d=c.isBoolean(n.visible)?n.visible:!0;if(Object.assign(this,{type:n.type,property:n.field,field:n.field,title:n.title,width:n.width,minWidth:n.minWidth,maxWidth:n.maxWidth,resizable:n.resizable,fixed:n.fixed,align:n.align,headerAlign:n.headerAlign,footerAlign:n.footerAlign,showOverflow:n.showOverflow,showHeaderOverflow:n.showHeaderOverflow,showFooterOverflow:n.showFooterOverflow,className:n.className,headerClassName:n.headerClassName,footerClassName:n.footerClassName,formatter:i,sortable:n.sortable,sortBy:n.sortBy,sortType:n.sortType,filters:Fh(n.filters),filterMultiple:c.isBoolean(n.filterMultiple)?n.filterMultiple:!0,filterMethod:n.filterMethod,filterResetMethod:n.filterResetMethod,filterRecoverMethod:n.filterRecoverMethod,filterRender:n.filterRender,treeNode:n.treeNode,cellType:n.cellType,cellRender:n.cellRender,editRender:n.editRender,contentRender:n.contentRender,headerExportMethod:n.headerExportMethod,exportMethod:n.exportMethod,footerExportMethod:n.footerExportMethod,titleHelp:n.titleHelp,titlePrefix:n.titlePrefix,titleSuffix:n.titleSuffix,params:n.params,id:n.colId||c.uniqueId("col_"),parentId:null,visible:d,halfVisible:!1,defaultVisible:d,defaultFixed:n.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:o||n.renderHeader,renderCell:s||n.renderCell,renderFooter:l||n.renderFooter,renderData:r,slots:n.slots}),f){const{computeProxyOpts:u}=f.getComputeMaps(),h=u.value;h.beforeColumn&&h.beforeColumn({$grid:f,column:this})}}getTitle(){return Ut(this.title||(this.type==="seq"?y.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(t,n){t!=="filters"&&(t==="field"&&(this.property=n),this[t]=n)}}const za={},Jn=c.browse();function vs(e,t){return e?c.isFunction(e)?e(t):e:""}function Mh(e){return za[e]||(za[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),za[e]}function kh(e,t,n){if(e){const o=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(n.top-=o.scrollTop,n.left-=o.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return kh(e.offsetParent,t,n)}return n}function Oc(e){return e&&/^\d+(px)?$/.test(e)}function ui(e){return e&&/^\d+%$/.test(e)}function Zo(e,t){return e&&e.className&&e.className.match&&e.className.match(Mh(t))}function Zn(e,t){e&&Zo(e,t)&&(e.className=e.className.replace(Mh(t),""))}function Uo(e,t){e&&!Zo(e,t)&&(Zn(e,t),e.className=`${e.className} ${t}`)}function ys(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function ni(e){return e?e.offsetHeight:0}function Tc(e){if(e){const t=getComputedStyle(e),n=c.toNumber(t.paddingTop),o=c.toNumber(t.paddingBottom);return n+o}return 0}function br(e,t){e&&(e.scrollTop=t)}function lf(e,t){e&&(e.scrollLeft=t)}function au(e,t){const n=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function yt(e,t,n,o){let s,l=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;l&&l.nodeType&&l!==document;){if(n&&Zo(l,n)&&(!o||o(l)))s=l;else if(l===t)return{flag:n?!!s:!0,container:t,targetElem:s};l=l.parentNode}return{flag:!1}}function _x(e,t){return kh(e,t,{left:0,top:0})}function Io(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:s,scrollLeft:l,visibleHeight:r,visibleWidth:f}=ys();return{boundingTop:n,top:s+n,boundingLeft:o,left:l+o,visibleHeight:r,visibleWidth:f}}const rf="scrollIntoViewIfNeeded",af="scrollIntoView";function Ih(e){e&&(e[rf]?e[rf]():e[af]&&e[af]())}function Vx(e,t){e&&e.dispatchEvent(new Event(t))}function Wa(e){return e&&e.nodeType===1}const Dh=(e,t)=>{const n=[];return e.forEach(o=>{o.parentId=t?t.id:null,o.visible&&(o.children&&o.children.length&&o.children.some(s=>s.visible)?(n.push(o),n.push(...Dh(o.children,o))):n.push(o))}),n},$x=e=>{let t=1;const n=(l,r)=>{if(r&&(l.level=r.level+1,t<l.level&&(t=l.level)),l.children&&l.children.length&&l.children.some(f=>f.visible)){let f=0;l.children.forEach(i=>{i.visible&&(n(i,l),f+=i.colSpan)}),l.colSpan=f}else l.colSpan=1};e.forEach(l=>{l.level=1,n(l)});const o=[];for(let l=0;l<t;l++)o.push([]);return Dh(e).forEach(l=>{l.children&&l.children.length&&l.children.some(r=>r.visible)?l.rowSpan=1:l.rowSpan=t-l.level+1,o[l.level-1].push(l)}),o};function qa(e,t,n){const{internalData:o}=e;return e.clearScroll().then(()=>{if(t||n)return o.lastScrollLeft=0,o.lastScrollTop=0,e.scrollTo(t,n)})}function cf(e){e&&e._onscroll&&(e.onscroll=null)}function Vr(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function Ua(){return c.uniqueId("row_")}function Vs(e){const{props:t}=e,{computeRowOpts:n}=e.getComputeMaps(),{rowId:o}=t,s=n.value;return o||s.keyField||"_X_ROW_KEY"}function Ye(e,t){const n=c.get(t,Vs(e));return c.eqNull(n)?"":encodeURIComponent(n)}const Ln=(e,t)=>t?c.isString(t)?e.getColumnByField(t):t:null;function Ga(e){if(e){const t=getComputedStyle(e),n=c.toNumber(t.paddingLeft),o=c.toNumber(t.paddingRight);return n+o}return 0}function cl(e){if(e){const t=getComputedStyle(e),n=c.toNumber(t.marginLeft),o=c.toNumber(t.marginRight);return e.offsetWidth+n+o}return 0}function is(e,t){return e.querySelector(".vxe-cell"+t)}function Fh(e){return e&&c.isArray(e)?e.map(({label:t,value:n,data:o,resetValue:s,checked:l})=>({label:t,value:n,data:o,resetValue:s,checked:!!l,_checked:!!l})):e}function Bx(e){return e.map((t,n)=>n%2===0?Number(t)+1:".").join("")}function po(e,t){return c.get(e,t.field)}function qo(e,t,n){return c.set(e,t.field,n)}function jx(e){const{$table:t,column:n,cell:o}=e,{props:s}=t,{computeResizableOpts:l}=t.getComputeMaps(),r=l.value,{minWidth:f}=r;if(f){const E=c.isFunction(f)?f(e):f;if(E!=="auto")return Math.max(1,c.toNumber(E))}const{showHeaderOverflow:i}=s,{showHeaderOverflow:d,minWidth:u}=n,h=c.isUndefined(d)||c.isNull(d)?i:d,T=h==="title"||(h===!0||h==="tooltip")||h==="ellipsis",U=c.floor((c.toNumber(getComputedStyle(o).fontSize)||14)*1.6),O=Ga(o)+Ga(is(o,""));let w=U+O;if(T){const E=Ga(is(o,"--title>.vxe-cell--checkbox")),M=cl(is(o,">.vxe-cell--required-icon")),L=cl(is(o,">.vxe-cell--edit-icon")),V=cl(is(o,">.vxe-cell-title-prefix-icon")),P=cl(is(o,">.vxe-cell-title-suffix-icon")),_=cl(is(o,">.vxe-cell--sort")),H=cl(is(o,">.vxe-cell--filter"));w+=E+M+L+V+P+H+_}if(u){const{refTableBody:E}=t.getRefMaps(),M=E.value,L=M?M.$el:null;if(L){if(ui(u)){const P=(L.clientWidth-1)/100;return Math.max(w,Math.floor(c.toInteger(u)*P))}else if(Oc(u))return Math.max(w,c.toInteger(u))}}return w}function Rr(e){return e&&(e.constructor===Sc||e instanceof Sc)}function Hx(e,t,n){return Rr(t)?t:Vt(new Sc(e,t,n))}function Ph(e,t,n){Object.keys(t).forEach(o=>{lt(()=>t[o],s=>{n.update(o,s),e&&(o==="filters"?(e.setFilter(n,s),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(o)&&e.handleRefreshColumnQueue())})})}function Lh(e,t,n,o){const{reactData:s}=e,{staticColumns:l}=s,r=t.parentNode,f=o?o.column:null,i=f?f.children:l;r&&i&&(i.splice(c.arrayIndexOf(r.children,t),0,n),s.staticColumns=l.slice(0))}function Ah(e,t){const{reactData:n}=e,{staticColumns:o}=n,s=c.findTree(o,l=>l.id===t.id,{children:"children"});s&&s.items.splice(s.index,1),n.staticColumns=o.slice(0)}function uf(e,t){const{internalData:n}=e,{fullColumnIdData:o}=n;if(!t)return null;let s=t.parentId;for(;o[s];){const l=o[s].column;if(s=l.parentId,!s)return l}return t}function Nh(e,t,n){for(let o=0;o<e.length;o++){const{row:s,col:l,rowspan:r,colspan:f}=e[o];if(l>-1&&s>-1&&r&&f){if(s===t&&l===n)return{rowspan:r,colspan:f};if(t>=s&&t<s+r&&n>=l&&n<l+f)return{rowspan:0,colspan:0}}}}function zx(e){const{props:t,internalData:n}=e;return n.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function Wx(e){return e.clearFilter&&e.clearFilter(),zx(e)}function df(e,t){const{reactData:n,internalData:o}=e,{refTableBody:s}=e.getRefMaps(),{scrollYLoad:l}=n,{afterFullData:r,scrollYStore:f}=o,i=s.value,d=i?i.$el:null;if(d){const u=d.querySelector(`[rowid="${Ye(e,t)}"]`);if(u){const h=d.clientHeight,b=d.scrollTop,S=u.offsetParent,F=u.offsetTop+(S?S.offsetTop:0),T=u.clientHeight;if(F<b||F>b+h)return e.scrollTo(null,F);if(F+T>=h+b)return e.scrollTo(null,b+T)}else if(l)return e.scrollTo(null,(r.indexOf(t)-1)*f.rowHeight)}return Promise.resolve()}function qx(e,t){const{reactData:n,internalData:o}=e,{refTableBody:s}=e.getRefMaps(),{scrollXLoad:l}=n,{visibleColumn:r}=o,f=s.value,i=f?f.$el:null;if(i){const d=i.querySelector(`.${t.id}`);if(d){const u=i.clientWidth,h=i.scrollLeft,b=d.offsetParent,S=d.offsetLeft+(b?b.offsetLeft:0),F=d.clientWidth;if(S<h||S>h+u)return e.scrollTo(S);if(S+F>=u+h)return e.scrollTo(h+F)}else if(l){let u=0;for(let h=0;h<r.length&&r[h]!==t;h++)u+=r[h].renderWidth;return e.scrollTo(u)}}return Promise.resolve()}function Rl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Nt(e){return c.isArray(e)?e:[e]}const cu="modelValue",uu={transfer:!0};function _h(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function Vh(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Ux(e,t){return e&&t.valueFormat?c.toStringDate(e,t.valueFormat):e}function Gx(e,t,n){const{dateConfig:o={}}=t;return c.toDateString(Ux(e,t),o.labelFormat||n)}function ff(e,t){return Gx(e,t,y.i18n(`vxe.input.date.labelFormat.${t.type}`))}function $h(e){return`vxe-${e.replace("$","")}`}function Do({name:e}){return Sn(e)}function Al({name:e}){return Sn($h(e))}function Bh(e,t,n){const{$panel:o}=e;o.changeOption({},t,n)}function Nl(e){let{name:t,attrs:n}=e;return t==="input"&&(n=Object.assign({type:"text"},n)),n}function jh(e){const{name:t,immediate:n,props:o}=e;if(!n){if(t==="VxeInput"||t==="$input"){const{type:s}=o||{};return!(!s||s==="text"||s==="number"||s==="integer"||s==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return n}function jl(e,t,n,o){return c.assign({immediate:jh(e)},uu,o,e.props,{[cu]:n})}function $r(e,t,n,o){return c.assign({},uu,o,e.props,{[cu]:n})}function Fo(e,t,n,o){return c.assign({},uu,o,e.props,{[cu]:n})}function ia(e,t){return t.$type==="cell"||jh(e)}function oi(e,t,n){const{placeholder:o}=e;return[m("span",{class:"vxe-cell--label"},o&&iu(n)?[m("span",{class:"vxe-cell--placeholder"},en(Ut(o),1))]:en(n,1))]}function du(e,t,n,o){const{events:s}=e,l=_h(e),r=Vh(e),f=r===l,i={};return s&&c.objectEach(s,(d,u)=>{i[Rl(u)]=function(...h){d(t,...h)}}),n&&(i[Rl(l)]=function(d){n(d),f&&o&&o(d),s&&s[l]&&s[l](t,d)}),!f&&o&&(i[Rl(r)]=function(...d){o(...d),s&&s[r]&&s[r](t,...d)}),i}function Hl(e,t,n,o){const{events:s}=e,l=_h(e),r=Vh(e),f={};return c.objectEach(s,(i,d)=>{f[Rl(d)]=function(...u){i(t,...u)}}),n&&(f[Rl(l)]=function(i){n(i),s&&s[l]&&s[l](t,i)}),o&&(f[Rl(r)]=function(...i){o(...i),s&&s[r]&&s[r](t,...i)}),f}function ra(e,t){const{$table:n,row:o,column:s}=t,{name:l}=e,{model:r}=s,f=ia(e,t);return Hl(e,t,i=>{f?qo(o,s,i):(r.update=!0,r.value=i)},i=>{if(!f&&["VxeInput","VxeTextarea","$input","$textarea"].includes(l)){const d=i.value;r.update=!0,r.value=d,n.updateStatus(t,d)}else n.updateStatus(t)})}function Br(e,t,n){return Hl(e,t,o=>{n.data=o},()=>{Bh(t,!c.eqNull(n.data),n)})}function Yo(e,t){const{$form:n,data:o,property:s}=t;return Hl(e,t,l=>{c.set(o,s,l)},()=>{n.updateStatus(t)})}function Hh(e,t){const{$table:n,row:o,column:s}=t,{model:l}=s;return du(e,t,r=>{const f=r.target.value;ia(e,t)?qo(o,s,f):(l.update=!0,l.value=f)},r=>{const f=r.target.value;n.updateStatus(t,f)})}function zh(e,t,n){return du(e,t,o=>{n.data=o.target.value},()=>{Bh(t,!c.eqNull(n.data),n)})}function Wh(e,t){const{$form:n,data:o,property:s}=t;return du(e,t,l=>{const r=l.target.value;c.set(o,s,r)},()=>{n.updateStatus(t)})}function Ya(e,t){const{row:n,column:o}=t,{name:s}=e,l=ia(e,t)?po(n,o):o.model.value;return[m(s,Object.assign(Object.assign(Object.assign({class:`vxe-default-${s}`},Nl(e)),{value:l}),Hh(e,t)))]}function pf(e,t){return[m(Do(e),Object.assign(Object.assign({},jl(e,t,null)),Hl(e,t)))]}function xr(e,t){const{row:n,column:o}=t,s=po(n,o);return[m(Do(e),Object.assign(Object.assign({},jl(e,t,s)),ra(e,t)))]}function yr(e,t){const{row:n,column:o}=t,s=po(n,o);return[m(Al(e),Object.assign(Object.assign({},jl(e,t,s)),ra(e,t)))]}function qh(e,t){return[m(Sn("vxe-button"),Object.assign(Object.assign({},jl(e,t,null)),Hl(e,t)))]}function Yx(e,t){return e.children.map(n=>qh(n,t)[0])}function Rc(e,t,n){const{optionGroups:o,optionGroupProps:s={}}=e,l=s.options||"options",r=s.label||"label";return o.map((f,i)=>m("optgroup",{key:i,label:f[r]},n(f[l],e,t)))}function jr(e,t,n){const{optionProps:o={}}=t,{row:s,column:l}=n,r=o.label||"label",f=o.value||"value",i=o.disabled||"disabled",d=ia(t,n)?po(s,l):l.model.value;return e.map((u,h)=>m("option",{key:h,value:u[f],disabled:u[i],selected:u[f]==d},u[r]))}function Kx(e,t){const{column:n}=t,{name:o}=e,s=Nl(e);return n.filters.map((l,r)=>m(o,Object.assign(Object.assign(Object.assign({key:r,class:`vxe-default-${o}`},s),{value:l.data}),zh(e,t,l))))}function Xx(e,t){const{column:n}=t;return n.filters.map((o,s)=>{const l=o.data;return m(Do(e),Object.assign(Object.assign({key:s},$r(e,e,l)),Br(e,t,o)))})}function Zx(e,t){const{column:n}=t;return n.filters.map((o,s)=>{const l=o.data;return m(Al(e),Object.assign(Object.assign({key:s},$r(e,e,l)),Br(e,t,o)))})}function ul({option:e,row:t,column:n}){const{data:o}=e;return c.get(t,n.property)==o}function hf(e,t){return[m("select",Object.assign(Object.assign({class:"vxe-default-select"},Nl(e)),Hh(e,t)),e.optionGroups?Rc(e,t,jr):jr(e.options,e,t))]}function mf(e,t){const{row:n,column:o}=t,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f}=e,i=po(n,o);return[m(Do(e),Object.assign(Object.assign({},jl(e,t,i,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f})),ra(e,t)))]}function gf(e,t){const{row:n,column:o}=t,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f}=e,i=po(n,o);return[m(Al(e),Object.assign(Object.assign({},jl(e,t,i,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f})),ra(e,t)))]}function Mr(e,{row:t,column:n}){const{props:o={},options:s,optionGroups:l,optionProps:r={},optionGroupProps:f={}}=e,i=c.get(t,n.property);let d;const u=r.label||"label",h=r.value||"value";return iu(i)?"":c.map(o.multiple?i:[i],l?b=>{const S=f.options||"options";for(let F=0;F<l.length&&(d=c.find(l[F][S],T=>T[h]==b),!d);F++);return d?d[u]:b}:b=>(d=c.find(s,S=>S[h]==b),d?d[u]:b)).join(", ")}function vf(e,t){const{data:n,property:o}=t,{name:s}=e,l=Nl(e),r=c.get(n,o);return[m(s,Object.assign(Object.assign(Object.assign({class:`vxe-default-${s}`},l),{value:l&&s==="input"&&(l.type==="submit"||l.type==="reset")?null:r}),Wh(e,t)))]}function Ka(e,t){const{data:n,property:o}=t,s=c.get(n,o);return[m(Do(e),Object.assign(Object.assign({},Fo(e,t,s)),Yo(e,t)))]}function Xa(e,t){const{data:n,property:o}=t,s=c.get(n,o);return[m(Al(e),Object.assign(Object.assign({},Fo(e,t,s)),Yo(e,t)))]}function Uh(e,t){return[m(Sn("vxe-button"),Object.assign(Object.assign({},Fo(e,t,null)),Hl(e,t)))]}function Jx(e,t){return e.children.map(n=>Uh(n,t)[0])}function bf(e,t,n){const{data:o,property:s}=n,{optionProps:l={}}=t,r=l.label||"label",f=l.value||"value",i=l.disabled||"disabled",d=c.get(o,s);return e.map((u,h)=>m("option",{key:h,value:u[f],disabled:u[i],selected:u[f]==d},u[r]))}function Za(e){const{row:t,column:n,options:o}=e;return o.original?po(t,n):Mr(n.editRender||n.cellRender,e)}function Ja(e,t){const{data:n,property:o}=t,s=c.get(n,o);return[m(Do(e),Object.assign(Object.assign({},Fo(e,t,s)),Yo(e,t)))]}function xf(e,t){const{options:n,optionProps:o}=e,{data:s,property:l}=t,r=c.get(s,l);return[m(Do(e),Object.assign(Object.assign({options:n,optionProps:o},Fo(e,t,r)),Yo(e,t)))]}function yf(e,t){const{name:n,options:o,optionProps:s={}}=e,{data:l,property:r}=t,f=s.label||"label",i=s.value||"value",d=s.disabled||"disabled",u=c.get(l,r),h=$h(n);return o?[m(Sn(`${h}-group`),Object.assign(Object.assign({},Fo(e,t,u)),Yo(e,t)),{default:()=>o.map((b,S)=>m(Sn(h),{key:S,label:b[i],content:b[f],disabled:b[d]}))})]:[m(Sn(h),Object.assign(Object.assign({},Fo(e,t,u)),Yo(e,t)))]}const Cr={input:{autofocus:"input",renderEdit:Ya,renderDefault:Ya,renderFilter:Kx,defaultFilterMethod:ul,renderItemContent:vf},textarea:{autofocus:"textarea",renderEdit:Ya,renderItemContent:vf},select:{renderEdit:hf,renderDefault:hf,renderCell(e,t){return oi(e,t,Mr(e,t))},renderFilter(e,t){const{column:n}=t;return n.filters.map((o,s)=>m("select",Object.assign(Object.assign({key:s,class:"vxe-default-select"},Nl(e)),zh(e,t,o)),e.optionGroups?Rc(e,t,jr):jr(e.options,e,t)))},defaultFilterMethod:ul,renderItemContent(e,t){return[m("select",Object.assign(Object.assign({class:"vxe-default-select"},Nl(e)),Wh(e,t)),e.optionGroups?Rc(e,t,bf):bf(e.options,e,t))]},exportMethod:Za},VxeInput:{autofocus:".vxe-input--inner",renderEdit:xr,renderCell(e,t){const{props:n={}}=e,{row:o,column:s}=t,l=n.digits||y.input.digits;let r=c.get(o,s.property);if(r)switch(n.type){case"date":case"week":case"month":case"year":r=ff(r,n);break;case"float":r=c.toFixed(c.floor(r,l),l);break}return oi(e,t,r)},renderDefault:xr,renderFilter:Xx,defaultFilterMethod:ul,renderItemContent:Ka},VxeTextarea:{autofocus:".vxe-textarea--inner",renderItemContent:Ka},VxeButton:{renderDefault:pf,renderItemContent:Ja},VxeButtonGroup:{renderDefault:pf,renderItemContent(e,t){const{options:n}=e,{data:o,property:s}=t,l=c.get(o,s);return[m(Do(e),Object.assign(Object.assign({options:n},Fo(e,t,l)),Yo(e,t)))]}},VxeSelect:{autofocus:".vxe-input--inner",renderEdit:mf,renderDefault:mf,renderCell(e,t){return oi(e,t,Mr(e,t))},renderFilter(e,t){const{column:n}=t,{options:o,optionProps:s,optionGroups:l,optionGroupProps:r}=e;return n.filters.map((f,i)=>{const d=f.data;return m(Do(e),Object.assign(Object.assign({key:i},$r(e,t,d,{options:o,optionProps:s,optionGroups:l,optionGroupProps:r})),Br(e,t,f)))})},defaultFilterMethod:ul,renderItemContent(e,t){const{data:n,property:o}=t,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f}=e,i=c.get(n,o);return[m(Do(e),Object.assign(Object.assign({},Fo(e,t,i,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f})),Yo(e,t)))]},exportMethod:Za},VxeRadio:{autofocus:".vxe-radio--input",renderItemContent:Ja},VxeRadioGroup:{autofocus:".vxe-radio--input",renderItemContent:xf},VxeCheckbox:{autofocus:".vxe-checkbox--input",renderItemContent:Ja},VxeCheckboxGroup:{autofocus:".vxe-checkbox--input",renderItemContent:xf},VxeSwitch:{autofocus:".vxe-switch--button",renderEdit:xr,renderDefault:xr,renderItemContent:Ka},$input:{autofocus:".vxe-input--inner",renderEdit:yr,renderCell(e,t){const{props:n={}}=e,{row:o,column:s}=t,l=n.digits||y.input.digits;let r=c.get(o,s.property);if(r)switch(n.type){case"date":case"week":case"month":case"year":r=ff(r,n);break;case"float":r=c.toFixed(c.floor(r,l),l);break}return oi(e,t,r)},renderDefault:yr,renderFilter:Zx,defaultFilterMethod:ul,renderItemContent:Xa},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:Xa},$button:{renderDefault:qh,renderItemContent:Uh},$buttons:{renderDefault:Yx,renderItemContent:Jx},$select:{autofocus:".vxe-input--inner",renderEdit:gf,renderDefault:gf,renderCell(e,t){return oi(e,t,Mr(e,t))},renderFilter(e,t){const{column:n}=t,{options:o,optionProps:s,optionGroups:l,optionGroupProps:r}=e;return n.filters.map((f,i)=>{const d=f.data;return m(Al(e),Object.assign(Object.assign({key:i},$r(e,t,d,{options:o,optionProps:s,optionGroups:l,optionGroupProps:r})),Br(e,t,f)))})},defaultFilterMethod:ul,renderItemContent(e,t){const{data:n,property:o}=t,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f}=e,i=c.get(n,o);return[m(Al(e),Object.assign(Object.assign({},Fo(e,t,i,{options:s,optionProps:l,optionGroups:r,optionGroupProps:f})),Yo(e,t)))]},exportMethod:Za},$radio:{autofocus:".vxe-radio--input",renderItemContent:yf},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:yf},$switch:{autofocus:".vxe-switch--button",renderEdit:yr,renderDefault:yr,renderItemContent:Xa}},Hs={mixin(e){return c.each(e,(t,n)=>Hs.add(n,t)),Hs},get(e){return Cr[e]||null},add(e,t){if(e&&t){const n=Cr[e];n?Object.assign(n,t):Cr[e]=t}return Hs},delete(e){return delete Cr[e],Hs}};class Qx{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return c.each(t,(n,o)=>{this.add(o,n)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,n){const o=this.store[t];return c.isFunction(n)&&(n={commandMethod:n}),this.store[t]=o?c.merge(o,n):n,this}delete(t){delete this.store[t]}forEach(t){c.objectEach(this.store,t)}}const Gh=new Qx;class ey{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return c.each(t,(n,o)=>{this.add(o,n)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,n){const o=this.store[t];return c.isFunction(n)&&(n={menuMethod:n}),this.store[t]=o?c.merge(o,n):n,this}delete(t){delete this.store[t]}forEach(t){c.objectEach(this.store,t)}}const Yh=new ey;class Kh{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return c.each(t,(n,o)=>{this.add(o,n)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,n){const o=this.store[t];return this.store[t]=o?c.merge(o,n):n,this}delete(t){delete this.store[t]}forEach(t){c.objectEach(this.store,t)}}const Xh=new Kh,Zh=new Kh;function aa(e){let t=e||y.theme;if((!t||t==="default")&&(t="light"),y.theme=t,typeof document<"u"){const n=document.documentElement;n&&n.setAttribute("data-vxe-ui-theme",t)}}function ty(){return y.theme}function Cf(e,t){const n=[];return c.objectEach(e,(o,s)=>{(o===0||o===t)&&n.push(s)}),n}const wf=[];function Jh(e,t){return e&&e.install&&wf.indexOf(e)===-1&&(e.install(tt,t),wf.push(e)),tt}function Qh(e,t){return y.i18n(e,t)}function em(e,t){return e?c.toValueString(y.translate?y.translate(e,t):e):""}const zl=e=>(e&&(e.theme&&aa(e.theme),e.zIndex&&Ic.setCurrent(e.zIndex),c.merge(y,e)),tt);class ny{get zIndex(){return Ao()}get nextZIndex(){return Co()}get exportTypes(){return Cf(y.export.types,1)}get importTypes(){return Cf(y.export.types,2)}}const tm=new ny,nm="v4",om=e=>(zl(e),y),sm=e=>(zl(e),y);function lm(e){return e&&Object.assign(y.icon,e),tt}const im={},rm={};function am(e){return rm[e]||null}function oy(e){e&&e.name&&(rm[e.name]=e)}const fu="4.6.18",cm=fu,tt={v:nm,version:fu,tableVersion:cm,setConfig:zl,setIcon:lm,globalStore:im,interceptor:xi,renderer:Hs,commands:Gh,formats:Rh,validators:Xh,menus:Yh,hooks:Zh,use:Jh,t:Qh,_t:em,setTheme:aa,getTheme:ty,getComponent:am,config:sm,setup:om,globalConfs:tm},sy=tt;aa("light");const yi=Mt({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=ct("$xetable",{}),{reactData:n,internalData:o,getComputeMaps:s}=t,{computeFilterOpts:l}=s(),r=Me(()=>{const{filterStore:w}=e;return w&&w.options.some(E=>E.checked)}),f=(w,E)=>{const{filterStore:M}=e;M.options.forEach(L=>{L._checked=E,L.checked=E}),M.isAllSelected=E,M.isIndeterminate=!1},i=w=>{const{filterStore:E}=e;E.options.forEach(M=>{M.checked=M._checked}),t.confirmFilterEvent(w)},d=(w,E,M)=>{const{filterStore:L}=e;L.options.forEach(V=>{V._checked=!1}),M._checked=E,t.checkFilterOptions(),i(w)},u=w=>{const{filterStore:E}=e;t.handleClearFilter(E.column),t.confirmFilterEvent(w)},h=(w,E,M)=>{M._checked=E,t.checkFilterOptions()},b=(w,E,M)=>{const{filterStore:L}=e;L.multiple?h(w,E,M):d(w,E,M)},S=(w,E)=>{const{filterStore:M}=e;M.multiple?f(w,E):u(w)},F={changeRadioOption:d,changeMultipleOption:h,changeAllOption:S,changeOption:b,confirmFilter:i,resetFilter:u},T=(w,E)=>{const{filterStore:M}=e,{column:L,multiple:V,maxHeight:P}=M,{slots:_}=L,H=_?_.filter:null,ae=Object.assign({},o._currFilterParams,{$panel:F,$table:t});if(H)return[m("div",{class:"vxe-table--filter-template"},t.callSlot(H,ae))];if(E&&E.renderFilter)return[m("div",{class:"vxe-table--filter-template"},Nt(E.renderFilter(w,ae)))];const be=V?M.isAllSelected:!M.options.some(le=>le._checked),ce=V&&M.isIndeterminate;return[m("ul",{class:"vxe-table--filter-header"},[m("li",{class:["vxe-table--filter-option",{"is--checked":be,"is--indeterminate":ce}],title:y.i18n(V?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:le=>{S(le,!M.isAllSelected)}},(V?[m("span",{class:["vxe-checkbox--icon",ce?y.icon.TABLE_CHECKBOX_INDETERMINATE:be?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([m("span",{class:"vxe-checkbox--label"},y.i18n("vxe.table.allFilter"))]))]),m("ul",{class:"vxe-table--filter-body",style:P?{maxHeight:`${P}px`}:{}},M.options.map(le=>{const pe=le._checked;return m("li",{class:["vxe-table--filter-option",{"is--checked":le._checked}],title:le.label,onClick:he=>{b(he,!le._checked,le)}},(V?[m("span",{class:["vxe-checkbox--icon",pe?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([m("span",{class:"vxe-checkbox--label"},en(le.label,1))]))}))]},U=()=>{const{filterStore:w}=e,{column:E,multiple:M}=w,L=l.value,V=r.value,P=E.filterRender,_=P?tt.renderer.get(P.name):null,H=!V&&!w.isAllSelected&&!w.isIndeterminate;return M&&(!_||_.showFilterFooter!==!1)?[m("div",{class:"vxe-table--filter-footer"},[m("button",{class:{"is--disabled":H},disabled:H,onClick:i},L.confirmButtonText||y.i18n("vxe.table.confirmFilter")),m("button",{onClick:u},L.resetButtonText||y.i18n("vxe.table.resetFilter"))])]:[]};return()=>{const{filterStore:w}=e,{initStore:E}=n,{column:M}=w,L=M?M.filterRender:null,V=L?tt.renderer.get(L.name):null,P=V?V.filterClassName:"",_=Object.assign({},o._currFilterParams,{$panel:F,$table:t});return m("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",vs(P,_),{"is--animat":t.props.animat,"is--multiple":w.multiple,"is--active":w.visible}],style:w.style},E.filter&&w.visible?T(L,V).concat(U()):[])}}}),ly=["setFilter","clearFilter","getCheckedFilters"],iy={setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refTableBody:s,refTableFilter:l}=e.getRefMaps(),{computeFilterOpts:r,computeMouseOpts:f}=e.getComputeMaps(),i={checkFilterOptions(){const{filterStore:u}=n;u.isAllSelected=u.options.every(h=>h._checked),u.isIndeterminate=!u.isAllSelected&&u.options.some(h=>h._checked)},triggerFilterEvent(u,h,b){const{initStore:S,filterStore:F}=n;if(F.column===h&&F.visible)F.visible=!1;else{const{target:T,pageX:U}=u,{visibleWidth:O}=ys(),{filters:w,filterMultiple:E,filterRender:M}=h,L=M?tt.renderer.get(M.name):null,V=h.filterRecoverMethod||(L?L.filterRecoverMethod:null);o._currFilterParams=b,Object.assign(F,{multiple:E,options:w,column:h,style:null}),F.options.forEach(P=>{const{_checked:_,checked:H}=P;P._checked=H,!H&&_!==H&&V&&V({option:P,column:h,$table:e})}),this.checkFilterOptions(),F.visible=!0,S.filter=!0,fe(()=>{const _=s.value.$el,H=l.value,ae=H?H.$el:null;let be=0,ce=0,le=null,pe=null;ae&&(be=ae.offsetWidth,ce=ae.offsetHeight,le=ae.querySelector(".vxe-table--filter-header"),pe=ae.querySelector(".vxe-table--filter-footer"));const he=be/2,se=10,B=_.clientWidth-be-se;let I,A;const Z={top:`${T.offsetTop+T.offsetParent.offsetTop+T.offsetHeight+8}px`};let ee=null;if(ce>=_.clientHeight&&(ee=Math.max(60,_.clientHeight-(pe?pe.offsetHeight:0)-(le?le.offsetHeight:0))),h.fixed==="left"?I=T.offsetLeft+T.offsetParent.offsetLeft-he:h.fixed==="right"?A=T.offsetParent.offsetWidth-T.offsetLeft+(T.offsetParent.offsetParent.offsetWidth-T.offsetParent.offsetLeft)-h.renderWidth-he:I=T.offsetLeft+T.offsetParent.offsetLeft-he-_.scrollLeft,I){const ye=U+be-he+se-O;ye>0&&(I-=ye),Z.left=`${Math.min(B,Math.max(se,I))}px`}else if(A){const ye=U+be-he+se-O;ye>0&&(A+=ye),Z.right=`${Math.max(se,A)}px`}F.style=Z,F.maxHeight=ee})}e.dispatchEvent("filter-visible",{column:h,field:h.field,property:h.field,filterList:e.getCheckedFilters(),visible:F.visible},u)},handleClearFilter(u){if(u){const{filters:h,filterRender:b}=u;if(h){const S=b?tt.renderer.get(b.name):null,F=u.filterResetMethod||(S?S.filterResetMethod:null);h.forEach(T=>{T._checked=!1,T.checked=!1,F||(T.data=c.clone(T.resetValue,!0))}),F&&F({options:h,column:u,$table:e})}}},confirmFilterEvent(u){const{mouseConfig:h}=t,{filterStore:b,scrollXLoad:S,scrollYLoad:F}=n,T=r.value,U=f.value,{column:O}=b,{field:w}=O,E=[],M=[];O.filters.forEach(P=>{P.checked&&(E.push(P.value),M.push(P.data))});const L=e.getCheckedFilters(),V={$table:e,$event:u,column:O,field:w,property:w,values:E,datas:M,filters:L,filterList:L};T.remote||(e.handleTableData(!0),e.checkSelectionStatus()),h&&U.area&&e.handleFilterEvent&&e.handleFilterEvent(u,V),e.dispatchEvent("filter-change",V,u),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:P,scrollYLoad:_}=n;if(S||P||F||_)return(S||P)&&e.updateScrollXSpace(),(F||_)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})}};return Object.assign(Object.assign({},{openFilter(u){const h=Ln(e,u);if(h&&h.filters){const{elemStore:b}=o,{fixed:S}=h;return e.scrollToColumn(h).then(()=>{const F=b[`${S||"main"}-header-wrapper`]||b["main-header-wrapper"],T=F?F.value:null;if(T){const U=T.querySelector(`.vxe-header--column.${h.id} .vxe-filter--btn`);Vx(U,"click")}})}return fe()},setFilter(u,h){const b=Ln(e,u);return b&&b.filters&&(b.filters=Fh(h||[])),fe()},clearFilter(u){const{filterStore:h}=n,{tableFullColumn:b}=o,S=r.value;let F;return u?(F=Ln(e,u),F&&i.handleClearFilter(F)):b.forEach(i.handleClearFilter),(!u||F!==h.column)&&Object.assign(h,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),S.remote?fe():e.updateData()},getCheckedFilters(){const{tableFullColumn:u}=o,h=[];return u.forEach(b=>{const{field:S,filters:F}=b,T=[],U=[];F&&F.length&&(F.forEach(O=>{O.checked&&(T.push(O.value),U.push(O.data))}),T.length&&h.push({column:b,field:S,property:S,values:T,datas:U}))}),h}}),i)},setupGrid(e){return e.extendTableMethods(ly)}};let si;const Ks=Vt({modals:[],drawers:[]}),ry=Mt({setup(){return()=>{const{modals:e,drawers:t}=Ks;return[e.length?m("div",{class:"vxe-dynamics--modal"},e.map(n=>m(Sn("vxe-modal"),n))):Et(),t.length?m("div",{class:"vxe-dynamics--drawer"},t.map(n=>m(Sn("vxe-drawer"),n))):Et()]}}}),Dt=ub(ry);function um(){si||(si=document.createElement("div"),si.className="vxe-dynamics",document.body.appendChild(si),Dt.mount(si))}const pu={Panel:yi,install(e){tt.hooks.add("$tableFilter",iy),e.component(yi.name,yi)}},ay=pu;Dt.component(yi.name,yi);const Ci=Mt({name:"VxeTableMenuPanel",setup(e,t){const n=c.uniqueId(),o=ct("$xetable",{}),{reactData:s}=o,l=Ue(),r={refElem:l},f={xID:n,props:e,context:t,getRefMaps:()=>r},i=()=>{const{ctxMenuStore:d}=s,{computeMenuOpts:u}=o.getComputeMaps(),h=u.value;return m(nl,{to:"body",disabled:!1},[m("div",{ref:l,class:["vxe-table--context-menu-wrapper",h.className,{"is--visible":d.visible}],style:d.style},d.list.map((b,S)=>b.every(F=>F.visible===!1)?Et():m("ul",{class:"vxe-context-menu--option-wrapper",key:S},b.map((F,T)=>{const U=F.children&&F.children.some(O=>O.visible!==!1);return F.visible===!1?null:m("li",{class:[F.className,{"link--disabled":F.disabled,"link--active":F===d.selected}],key:`${S}_${T}`},[m("a",{class:"vxe-context-menu--link",onClick(O){o.ctxMenuLinkEvent(O,F)},onMouseover(O){o.ctxMenuMouseoverEvent(O,F)},onMouseout(O){o.ctxMenuMouseoutEvent(O,F)}},[m("i",{class:["vxe-context-menu--link-prefix",F.prefixIcon]}),m("span",{class:"vxe-context-menu--link-content"},Ut(F.name)),m("i",{class:["vxe-context-menu--link-suffix",U?F.suffixIcon||"suffix--haschild":F.suffixIcon]})]),U?m("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":F===d.selected&&d.showChild}]},F.children.map((O,w)=>O.visible===!1?null:m("li",{class:[O.className,{"link--disabled":O.disabled,"link--active":O===d.selectChild}],key:`${S}_${T}_${w}`},[m("a",{class:"vxe-context-menu--link",onClick(E){o.ctxMenuLinkEvent(E,O)},onMouseover(E){o.ctxMenuMouseoverEvent(E,F,O)},onMouseout(E){o.ctxMenuMouseoutEvent(E,F)}},[m("i",{class:["vxe-context-menu--link-prefix",O.prefixIcon]}),m("span",{class:"vxe-context-menu--link-content"},Ut(O.name))])]))):null])}))))])};return f.renderVN=i,f},render(){return this.renderVN()}}),dt={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},Ef={" ":"Spacebar",Apps:dt.CONTEXT_MENU,Del:dt.DELETE,Up:dt.ARROW_UP,Down:dt.ARROW_DOWN,Left:dt.ARROW_LEFT,Right:dt.ARROW_RIGHT},dm=Jn.firefox?"DOMMouseScroll":"mousewheel",Mc=[],vt=(e,t)=>{const{key:n}=e;return t=t.toLowerCase(),n?t===n.toLowerCase()||!!(Ef[n]&&Ef[n].toLowerCase()===t):!1};function Ro(e){const t=e.type===dm;Mc.forEach(({type:n,cb:o})=>{e.cancelBubble||(n===e.type||t&&n==="mousewheel")&&o(e)})}const ht={on(e,t,n){Mc.push({comp:e,type:t,cb:n})},off(e,t){c.remove(Mc,n=>n.comp===e&&n.type===t)},trigger:Ro,eqKeypad(e,t){const{key:n}=e;return t.toLowerCase()===n.toLowerCase()}};Jn.isDoc&&(Jn.msie||(window.addEventListener("copy",Ro,!1),window.addEventListener("cut",Ro,!1),window.addEventListener("paste",Ro,!1)),document.addEventListener("keydown",Ro,!1),document.addEventListener("contextmenu",Ro,!1),window.addEventListener("mousedown",Ro,!1),window.addEventListener("blur",Ro,!1),window.addEventListener("resize",Ro,!1),window.addEventListener(dm,c.throttle(Ro,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const cy=["closeMenu"],uy={setupTable(e){const{xID:t,props:n,reactData:o,internalData:s}=e,{refElem:l,refTableFilter:r,refTableMenu:f}=e.getRefMaps(),{computeMouseOpts:i,computeIsMenu:d,computeMenuOpts:u}=e.getComputeMaps();let h={},b={};const S=(F,T,U)=>{const{ctxMenuStore:O}=o,w=d.value,E=u.value,M=E[T],L=E.visibleMethod;if(M){const{options:V,disabled:P}=M;P?F.preventDefault():w&&V&&V.length&&(U.options=V,e.preventEvent(F,"event.showMenu",U,()=>{if(!L||L(U)){F.preventDefault(),e.updateZindex();const{scrollTop:_,scrollLeft:H,visibleHeight:ae,visibleWidth:be}=ys();let ce=F.clientY+_,le=F.clientX+H;const pe=()=>{s._currMenuParams=U,Object.assign(O,{visible:!0,list:V,selected:null,selectChild:null,showChild:!1,style:{zIndex:s.tZindex,top:`${ce}px`,left:`${le}px`}}),fe(()=>{const A=f.value.getRefMaps().refElem.value,Z=A.clientHeight,ee=A.clientWidth,{boundingTop:ye,boundingLeft:Pe}=Io(A),ke=ye+Z-ae,_e=Pe+ee-be;ke>-10&&(O.style.top=`${Math.max(_+2,ce-Z-2)}px`),_e>-10&&(O.style.left=`${Math.max(H+2,le-ee-2)}px`)})},{keyboard:he,row:se,column:B}=U;he&&se&&B?e.scrollToRow(se,B).then(()=>{const I=e.getCell(se,B);if(I){const{boundingTop:A,boundingLeft:Z}=Io(I);ce=A+_+Math.floor(I.offsetHeight/2),le=Z+H+Math.floor(I.offsetWidth/2)}pe()}):pe()}else h.closeMenu()}))}e.closeFilter()};return h={closeMenu(){return Object.assign(o.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),fe()}},b={moveCtxMenu(F,T,U,O,w,E){let M;const L=c.findIndexOf(E,V=>T[U]===V);if(O)w&&xl(T.selected)?T.showChild=!0:(T.showChild=!1,T.selectChild=null);else if(vt(F,dt.ARROW_UP)){for(let V=L-1;V>=0;V--)if(E[V].visible!==!1){M=E[V];break}T[U]=M||E[E.length-1]}else if(vt(F,dt.ARROW_DOWN)){for(let V=L+1;V<E.length;V++)if(E[V].visible!==!1){M=E[V];break}T[U]=M||E[0]}else T[U]&&(vt(F,dt.ENTER)||vt(F,dt.SPACEBAR))&&b.ctxMenuLinkEvent(F,T[U])},handleOpenMenuEvent:S,handleGlobalContextmenuEvent(F){const{mouseConfig:T,menuConfig:U}=n,{editStore:O,ctxMenuStore:w}=o,{visibleColumn:E}=s,M=r.value,L=f.value,V=i.value,P=u.value,_=l.value,{selected:H}=O,ae=["header","body","footer"];if(gt(U)){if(w.visible&&L&&yt(F,L.getRefMaps().refElem.value).flag){F.preventDefault();return}if(s._keyCtx){const be="body",ce={type:be,$table:e,keyboard:!0,columns:E.slice(0),$event:F};if(T&&V.area){const le=e.getActiveCellArea();if(le&&le.row&&le.column){ce.row=le.row,ce.column=le.column,S(F,be,ce);return}}else if(T&&V.selected&&H.row&&H.column){ce.row=H.row,ce.column=H.column,S(F,be,ce);return}}for(let be=0;be<ae.length;be++){const ce=ae[be],le=yt(F,_,`vxe-${ce}--column`,he=>he.parentNode.parentNode.parentNode.getAttribute("xid")===t),pe={type:ce,$table:e,columns:E.slice(0),$event:F};if(le.flag){const he=le.targetElem,se=e.getColumnNode(he),B=se?se.item:null;let I=`${ce}-`;if(B&&Object.assign(pe,{column:B,columnIndex:e.getColumnIndex(B),cell:he}),ce==="body"){const Z=e.getRowNode(he.parentNode),ee=Z?Z.item:null;I="",ee&&(pe.row=ee,pe.rowIndex=e.getRowIndex(ee))}const A=`${I}cell-menu`;S(F,ce,pe),e.dispatchEvent(A,pe,F);return}else if(yt(F,_,`vxe-table--${ce}-wrapper`,he=>he.getAttribute("xid")===t).flag){P.trigger==="cell"?F.preventDefault():S(F,ce,pe);return}}}M&&!yt(F,M.$el).flag&&e.closeFilter(),h.closeMenu()},ctxMenuMouseoverEvent(F,T,U){const O=F.currentTarget,{ctxMenuStore:w}=o;F.preventDefault(),F.stopPropagation(),w.selected=T,w.selectChild=U,U||(w.showChild=xl(T),w.showChild&&fe(()=>{const E=O.nextElementSibling;if(E){const{boundingTop:M,boundingLeft:L,visibleHeight:V,visibleWidth:P}=Io(O),_=M+O.offsetHeight,H=L+O.offsetWidth;let ae="",be="";H+E.offsetWidth>P-10&&(ae="auto",be=`${O.offsetWidth}px`);let ce="",le="";_+E.offsetHeight>V-10&&(ce="auto",le="0"),E.style.left=ae,E.style.right=be,E.style.top=ce,E.style.bottom=le}}))},ctxMenuMouseoutEvent(F,T){const{ctxMenuStore:U}=o;T.children||(U.selected=null),U.selectChild=null},ctxMenuLinkEvent(F,T){if(!T.disabled&&(T.code||!T.children||!T.children.length)){const U=tt.menus.get(T.code),O=Object.assign({},s._currMenuParams,{menu:T,$table:e,$grid:e.xegrid,$event:F}),w=U?U.tableMenuMethod||U.menuMethod:null;w&&w(O,F),e.dispatchEvent("menu-click",O,F),h.closeMenu()}}},Object.assign(Object.assign({},h),b)},setupGrid(e){return e.extendTableMethods(cy)}},hu={Panel:Ci,install(e){tt.hooks.add("$tableMenu",uy),e.component(Ci.name,Ci)}},dy=hu;Dt.component(Ci.name,Ci);const fy=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],py={setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refElem:s}=e.getRefMaps(),{computeMouseOpts:l,computeEditOpts:r,computeCheckboxOpts:f,computeTreeOpts:i}=e.getComputeMaps();let d={},u={};const h=(O,w)=>{const{model:E,editRender:M}=w;M&&(E.value=po(O,w),E.update=!1)},b=(O,w)=>{const{model:E,editRender:M}=w;M&&E.update&&(qo(O,w,E.value),E.update=!1,E.value=null)},S=()=>{const O=s.value;if(O){const w=O.querySelector(".col--selected");w&&Zn(w,"col--selected")}};function F(){const{editStore:O,tableColumn:w}=n,E=r.value,{actived:M}=O,{row:L,column:V}=M;(L||V)&&(E.mode==="row"?w.forEach(P=>b(L,P)):b(L,V))}function T(O,w){const{tableFullTreeData:E,afterFullData:M,fullDataRowIdData:L,fullAllDataRowIdData:V}=o,P=i.value,{rowField:_,parentField:H,mapChildrenField:ae}=P,be=P.children||P.childrenField,ce=w?"push":"unshift";O.forEach(le=>{const pe=le[H],he=Ye(e,le),se=pe?c.findTree(E,B=>pe===B[_],{children:ae}):null;if(se){const{item:B}=se,I=V[Ye(e,B)],A=I?I.level:0;let Z=B[be],ee=B[ae];c.isArray(Z)||(Z=B[be]=[]),c.isArray(ee)||(ee=B[be]=[]),Z[ce](le),ee[ce](le);const ye={row:le,rowid:he,seq:-1,index:-1,_index:-1,$index:-1,items:Z,parent:B,level:A+1};L[he]=ye,V[he]=ye}else{M[ce](le),E[ce](le);const B={row:le,rowid:he,seq:-1,index:-1,_index:-1,$index:-1,items:E,parent:null,level:0};L[he]=B,V[he]=B}})}const U=(O,w,E)=>{const{treeConfig:M}=t,{mergeList:L,editStore:V}=n,{tableFullTreeData:P,afterFullData:_,tableFullData:H,fullDataRowIdData:ae,fullAllDataRowIdData:be}=o,ce=i.value,{transform:le,rowField:pe,mapChildrenField:he}=ce,se=ce.children||ce.childrenField;c.isArray(O)||(O=[O]);const B=Vt(e.defineField(O.map(A=>Object.assign(M&&le?{[he]:[],[se]:[]}:{},A))));if(c.eqNull(w))M&&le?T(B,!1):(_.unshift(...B),H.unshift(...B),L.forEach(A=>{const{row:Z}=A;Z>0&&(A.row=Z+B.length)}));else if(w===-1)M&&le?T(B,!0):(_.push(...B),H.push(...B),L.forEach(A=>{const{row:Z,rowspan:ee}=A;Z+ee>_.length&&(A.rowspan=ee+B.length)}));else if(M&&le){const A=c.findTree(P,Z=>w[pe]===Z[pe],{children:he});if(A){const{parent:Z}=A,ee=Z?Z[he]:P,ye=be[Ye(e,Z)],Pe=ye?ye.level:0;if(B.forEach((ke,_e)=>{const Ae=Ye(e,ke);Z&&(ke[ce.parentField]=Z[pe]);let q=A.index+_e;E&&(q=q+1),ee.splice(q,0,ke);const D={row:ke,rowid:Ae,seq:-1,index:-1,_index:-1,$index:-1,items:ee,parent:Z,level:Pe+1};ae[Ae]=D,be[Ae]=D}),Z){const ke=c.findTree(P,_e=>w[pe]===_e[pe],{children:se});if(ke){const _e=ke.items;let Ae=ke.index;E&&(Ae=Ae+1),_e.splice(Ae,0,...B)}}}else T(B,!0)}else{if(M)throw new Error(lu("vxe.error.noTree",["insert"]));let A=-1;if(c.isNumber(w)?w<_.length&&(A=w):A=e.findRowIndexOf(_,w),E&&(A=Math.min(_.length,A+1)),A===-1)throw new Error(sn("vxe.error.unableInsert"));_.splice(A,0,...B),H.splice(e.findRowIndexOf(H,w),0,...B),L.forEach(Z=>{const{row:ee,rowspan:ye}=Z;ee>A?Z.row=ee+B.length:ee+ye>A&&(Z.rowspan=ye+B.length)})}const{insertMaps:I}=V;return B.forEach(A=>{const Z=Ye(e,A);I[Z]=A}),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(M&&le),M&&le||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),fe().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:B.length?B[B.length-1]:null,rows:B}))};return d={insert(O){return U(O,null)},insertAt(O,w){return U(O,w)},insertNextAt(O,w){return U(O,w,!0)},remove(O){const{treeConfig:w}=t,{mergeList:E,editStore:M,selectCheckboxMaps:L}=n,{tableFullTreeData:V,afterFullData:P,tableFullData:_}=o,H=f.value,ae=i.value,{transform:be,mapChildrenField:ce}=ae,le=ae.children||ae.childrenField,{actived:pe,removeMaps:he,insertMaps:se}=M,{checkField:B}=H;let I=[];if(O?c.isArray(O)||(O=[O]):O=_,O.forEach(A=>{if(!e.isInsertByRow(A)){const Z=Ye(e,A);he[Z]=A}}),!B){const A=Object.assign({},L);O.forEach(Z=>{const ee=Ye(e,Z);A[ee]&&delete A[ee]}),n.selectCheckboxMaps=A}return _===O?(O=I=_.slice(0),o.tableFullData=[],o.afterFullData=[],e.clearMergeCells()):w&&be?O.forEach(A=>{const Z=Ye(e,A),ee=c.findTree(V,ke=>Z===Ye(e,ke),{children:ce});if(ee){const ke=ee.items.splice(ee.index,1);I.push(ke[0])}const ye=c.findTree(V,ke=>Z===Ye(e,ke),{children:le});ye&&ye.items.splice(ye.index,1);const Pe=e.findRowIndexOf(P,A);Pe>-1&&P.splice(Pe,1)}):O.forEach(A=>{const Z=e.findRowIndexOf(_,A);if(Z>-1){const ye=_.splice(Z,1);I.push(ye[0])}const ee=e.findRowIndexOf(P,A);ee>-1&&(E.forEach(ye=>{const{row:Pe,rowspan:ke}=ye;Pe>ee?ye.row=Pe-1:Pe+ke>ee&&(ye.rowspan=ke-1)}),P.splice(ee,1))}),pe.row&&e.findRowIndexOf(O,pe.row)>-1&&d.clearEdit(),O.forEach(A=>{const Z=Ye(e,A);se[Z]&&delete se[Z]}),e.updateFooter(),e.cacheRowMap(),e.handleTableData(w&&be),w&&be||e.updateAfterDataIndex(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),fe().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:I.length?I[I.length-1]:null,rows:I}))},removeCheckboxRow(){return d.remove(e.getCheckboxRecords()).then(O=>(e.clearCheckboxRow(),O))},removeRadioRow(){const O=e.getRadioRecord();return d.remove(O||[]).then(w=>(e.clearRadioRow(),w))},removeCurrentRow(){const O=e.getCurrentRecord();return d.remove(O||[]).then(w=>(e.clearCurrentRow(),w))},getRecordset(){return{insertRecords:d.getInsertRecords(),removeRecords:d.getRemoveRecords(),updateRecords:d.getUpdateRecords(),pendingRecords:e.getPendingRecords()}},getInsertRecords(){const{editStore:O}=n,{fullAllDataRowIdData:w}=o,{insertMaps:E}=O,M=[];return c.each(E,(L,V)=>{w[V]&&M.push(L)}),M},getRemoveRecords(){const{editStore:O}=n,{removeMaps:w}=O,E=[];return c.each(w,M=>{E.push(M)}),E},getUpdateRecords(){const{keepSource:O,treeConfig:w}=t,{tableFullData:E}=o,M=i.value;return O?(F(),w?c.filterTree(E,L=>e.isUpdateByRow(L),M):E.filter(L=>e.isUpdateByRow(L))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:O}=n,{afterFullData:w}=o,E=s.value,{args:M,row:L}=O.actived;return M&&e.findRowIndexOf(w,L)>-1&&E.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},M):null},getSelectedCell(){const{editStore:O}=n,{args:w,column:E}=O.selected;return w&&E?Object.assign({},w):null},clearActived(O){return this.clearEdit(O)},clearEdit(O){const{editStore:w}=n,{actived:E,focused:M}=w,{row:L,column:V}=E;return(L||V)&&(F(),E.args=null,E.row=null,E.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:L,rowIndex:e.getRowIndex(L),$rowIndex:e.getVMRowIndex(L),column:V,columnIndex:e.getColumnIndex(V),$columnIndex:e.getVMColumnIndex(V)},O||null)),y.cellVaildMode==="obsolete"&&e.clearValidate?e.clearValidate():(M.row=null,M.column=null,fe())},clearSelected(){const{editStore:O}=n,{selected:w}=O;return w.row=null,w.column=null,S(),fe()},isActiveByRow(O){return this.isEditByRow(O)},isEditByRow(O){const{editStore:w}=n;return w.actived.row===O},setActiveRow(O){return d.setEditRow(O)},setEditRow(O,w){const{visibleColumn:E}=o;let M=c.find(E,L=>gt(L.editRender));return w&&(M=c.isString(w)?e.getColumnByField(w):w),e.setEditCell(O,M)},setActiveCell(O,w){return d.setEditCell(O,w)},setEditCell(O,w){const{editConfig:E}=t,M=c.isString(w)?e.getColumnByField(w):w;return O&&M&&gt(E)&&gt(M.editRender)?e.scrollToRow(O,M).then(()=>{const L=e.getCell(O,M);return L&&(u.handleActived({row:O,rowIndex:e.getRowIndex(O),column:M,columnIndex:e.getColumnIndex(M),cell:L,$table:e}),o._lastCallTime=Date.now()),fe()}):fe()},setSelectCell(O,w){const{tableData:E}=n,M=r.value,L=c.isString(w)?e.getColumnByField(w):w;if(O&&L&&M.trigger!=="manual"){const V=e.findRowIndexOf(E,O);if(V>-1&&L){const P=e.getCell(O,L),_={row:O,rowIndex:V,column:L,columnIndex:e.getColumnIndex(L),cell:P};e.handleSelected(_,{})}}return fe()}},u={handleActived(O,w){const{editConfig:E,mouseConfig:M}=t,{editStore:L,tableColumn:V}=n,P=r.value,{mode:_}=P,{actived:H,focused:ae}=L,{row:be,column:ce}=O,{editRender:le}=ce,pe=O.cell||e.getCell(be,ce),he=P.beforeEditMethod||P.activeMethod;if(O.cell=pe,pe&&gt(E)&&gt(le)&&!e.hasPendingByRow(be)){if(H.row!==be||_==="cell"&&H.column!==ce){let se="edit-disabled";if(!he||he(Object.assign(Object.assign({},O),{$table:e,$grid:e.xegrid}))){M&&(d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),H.column&&d.clearEdit(w),se="edit-activated",ce.renderHeight=pe.offsetHeight,H.args=O,H.row=be,H.column=ce,_==="row"?V.forEach(I=>h(be,I)):h(be,ce);const B=P.afterEditMethod;fe(()=>{u.handleFocus(O,w),B&&B(Object.assign(Object.assign({},O),{$table:e,$grid:e.xegrid}))})}e.dispatchEvent(se,{row:be,rowIndex:e.getRowIndex(be),$rowIndex:e.getVMRowIndex(be),column:ce,columnIndex:e.getColumnIndex(ce),$columnIndex:e.getVMColumnIndex(ce)},w),se==="edit-activated"&&e.dispatchEvent("edit-actived",{row:be,rowIndex:e.getRowIndex(be),$rowIndex:e.getVMRowIndex(be),column:ce,columnIndex:e.getColumnIndex(ce),$columnIndex:e.getVMColumnIndex(ce)},w)}else{const{column:se}=H;if(M&&(d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),se!==ce){const{model:B}=se;B.update&&qo(be,se,B.value),e.clearValidate&&e.clearValidate(be,ce)}ce.renderHeight=pe.offsetHeight,H.args=O,H.column=ce,setTimeout(()=>{u.handleFocus(O,w)})}ae.column=null,ae.row=null,e.focus()}return fe()},handleFocus(O){const{row:w,column:E,cell:M}=O,{editRender:L}=E;if(gt(L)){const V=Hs.get(L.name);let{autofocus:P,autoselect:_}=L,H;if(!P&&V&&(P=V.autofocus),!_&&V&&(_=V.autoselect),c.isFunction(P)?H=P.call(this,O):P&&(H=M.querySelector(P),H&&H.focus()),H){if(_)H.select();else if(Jn.msie){const ae=H.createTextRange();ae.collapse(!1),ae.select()}}else e.scrollToRow(w,E)}},handleSelected(O,w){const{mouseConfig:E}=t,{editStore:M}=n,L=l.value,V=r.value,{actived:P,selected:_}=M,{row:H,column:ae}=O,be=E&&L.selected;return be&&(_.row!==H||_.column!==ae)&&(P.row!==H||V.mode==="cell"&&P.column!==ae)&&(d.clearEdit(w),d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),_.args=O,_.row=H,_.column=ae,be&&u.addCellSelectedClass(),e.focus(),w&&e.dispatchEvent("cell-selected",O,w)),fe()},addCellSelectedClass(){const{editStore:O}=n,{selected:w}=O,{row:E,column:M}=w;if(S(),E&&M){const L=e.getCell(E,M);L&&Uo(L,"col--selected")}}},Object.assign(Object.assign({},d),u)},setupGrid(e){return e.extendTableMethods(fy)}},mu={install(){tt.hooks.add("$tableEdit",py)}},hy=mu;function cn(e){const t=ct("xesize",null),n=Me(()=>e.size||(t?t.value:null));return qt("xesize",n),n}const On=Mt({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>y.button.size||y.size},name:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>y.button.transfer}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Vt({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),f={showTime:null},i=Ue(),d=Ue(),u=Ue(),h={refElem:i},b={xID:s,props:e,context:t,reactData:r,internalData:f,getRefMaps:()=>h},S=ct("$xebuttongroup",null);let F={};const T=Me(()=>{const{type:I}=e;return I?["submit","reset","button"].indexOf(I)>-1:!1}),U=Me(()=>{const{type:I,mode:A}=e;return A==="text"||I==="text"||S&&S.props.mode==="text"?"text":"button"}),O=Me(()=>{const{status:I}=e;return I||(S?S.props.status:"")}),w=Me(()=>{const{round:I}=e;return I||(S?S.props.round:!1)}),E=Me(()=>{const{circle:I}=e;return I||(S?S.props.circle:!1)}),M=()=>{r.panelIndex<Ao()&&(r.panelIndex=Co())},L=()=>fe().then(()=>{const{transfer:I,placement:A}=e,{panelIndex:Z}=r,ee=d.value,ye=u.value;if(ye&&ee){const Pe=ee.offsetHeight,ke=ee.offsetWidth,_e=ye.offsetHeight,Ae=ye.offsetWidth,q=5,D={zIndex:Z},{top:G,left:te,boundingTop:me,visibleHeight:Ie,visibleWidth:v}=Io(ee);let C="bottom";if(I){let N=te+ke-Ae,Y=G+Pe;A==="top"?(C="top",Y=G-_e):A||(me+Pe+_e+q>Ie&&(C="top",Y=G-_e),Y<q&&(C="bottom",Y=G+Pe)),N+Ae+q>v&&(N-=N+Ae+q-v),N<q&&(N=q),Object.assign(D,{left:`${N}px`,right:"auto",top:`${Y}px`,minWidth:`${ke}px`})}else A==="top"?(C="top",D.bottom=`${Pe}px`):A||me+Pe+_e>Ie&&me-Pe-_e>q&&(C="top",D.bottom=`${Pe}px`);return r.panelStyle=D,r.panelPlacement=C,fe()}}),V=I=>{S?S.handleClick({name:e.name},I):F.dispatchEvent("click",{$event:I},I)},P=I=>{I.button===0&&I.stopPropagation()},_=I=>{const A=I.currentTarget,Z=u.value,{flag:ee,targetElem:ye}=yt(I,A,"vxe-button");ee&&(Z&&(Z.dataset.active="N"),r.showPanel=!1,setTimeout(()=>{(!Z||Z.dataset.active!=="Y")&&(r.animatVisible=!1)},350),F.dispatchEvent("dropdown-click",{name:ye.getAttribute("name"),$event:I},I))},H=()=>{const I=u.value;I&&(I.dataset.active="Y",r.animatVisible=!0,setTimeout(()=>{I.dataset.active==="Y"&&(r.showPanel=!0,M(),L(),setTimeout(()=>{r.showPanel&&L()},50))},20))},ae=I=>{const A=u.value;A&&(A.dataset.active="Y",r.inited||(r.inited=!0),f.showTime=setTimeout(()=>{A.dataset.active==="Y"?H():r.animatVisible=!1},250)),ce(I)},be=I=>{pe(),le(I)},ce=I=>{o("mouseenter",{$event:I})},le=I=>{o("mouseleave",{$event:I})},pe=()=>{const I=u.value;clearTimeout(f.showTime),I?(I.dataset.active="N",setTimeout(()=>{I.dataset.active!=="Y"&&(r.showPanel=!1,setTimeout(()=>{I.dataset.active!=="Y"&&(r.animatVisible=!1)},350))},100)):(r.animatVisible=!1,r.showPanel=!1)},he=()=>{pe()},se=()=>{const{content:I,icon:A,loading:Z}=e,ee=[];return Z?ee.push(m("i",{class:["vxe-button--loading-icon",y.icon.BUTTON_LOADING]})):n.icon?ee.push(m("span",{class:"vxe-button--custom-icon"},n.icon({}))):A&&ee.push(m("i",{class:["vxe-button--icon",A]})),n.default?ee.push(m("span",{class:"vxe-button--content"},n.default({}))):I&&ee.push(m("span",{class:"vxe-button--content"},Ut(I))),ee};F={dispatchEvent(I,A,Z){o(I,Object.assign({$button:b,$event:Z},A))},focus(){return d.value.focus(),fe()},blur(){return d.value.blur(),fe()}},Object.assign(b,F),pn(()=>{ht.on(b,"mousewheel",I=>{const A=u.value;r.showPanel&&!yt(I,A).flag&&pe()})}),an(()=>{ht.off(b,"mousewheel")});const B=()=>{const{className:I,popupClassName:A,transfer:Z,title:ee,type:ye,destroyOnClose:Pe,name:ke,disabled:_e,loading:Ae}=e,{inited:q,showPanel:D}=r,G=T.value,te=U.value,me=O.value,Ie=w.value,v=E.value,C=l.value;return n.dropdowns?m("div",{ref:i,class:["vxe-button--dropdown",I?c.isFunction(I)?I({$button:b}):I:"",{[`size--${C}`]:C,"is--active":D}]},[m("button",{ref:d,class:["vxe-button",`type--${te}`,{[`size--${C}`]:C,[`theme--${me}`]:me,"is--round":Ie,"is--circle":v,"is--disabled":_e||Ae,"is--loading":Ae}],title:ee,name:ke,type:G?ye:"button",disabled:_e||Ae,onMouseenter:ae,onMouseleave:be,onClick:V},se().concat([m("i",{class:`vxe-button--dropdown-arrow ${y.icon.BUTTON_DROPDOWN}`})])),m(nl,{to:"body",disabled:Z?!q:!0},[m("div",{ref:u,class:["vxe-button--dropdown-panel",A?c.isFunction(A)?A({$button:b}):A:"",{[`size--${C}`]:C,"animat--leave":r.animatVisible,"animat--enter":D}],placement:r.panelPlacement,style:r.panelStyle},q?[m("div",{class:"vxe-button--dropdown-wrapper",onMousedown:P,onClick:_,onMouseenter:H,onMouseleave:he},Pe&&!D?[]:n.dropdowns({}))]:[])])]):m("button",{ref:d,class:["vxe-button",`type--${te}`,I?c.isFunction(I)?I({$button:b}):I:"",{[`size--${C}`]:C,[`theme--${me}`]:me,"is--round":Ie,"is--circle":v,"is--disabled":_e||Ae,"is--loading":Ae}],title:ee,name:ke,type:G?ye:"button",disabled:_e||Ae,onClick:V,onMouseenter:ce,onMouseleave:le},se())};return b.renderVN=B,b},render(){return this.renderVN()}}),Qa=Mt({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const n=Me(()=>e.icon||y.icon.LOADING),o=Me(()=>{const s=y.loadingText;return e.text||(s===null?s:y.i18n("vxe.loading.text"))});return()=>{const s=n.value,l=o.value;return m("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[m("div",{class:"vxe-loading--wrapper"},t.default({}))]:[m("div",{class:"vxe-loading--chunk"},[s?m("i",{class:s}):m("div",{class:"vxe-loading--spinner"}),l?m("div",{class:"vxe-loading--text"},`${l}`):null])])}}}),er=Object.assign(Qa,{install(e){e.component(Qa.name,Qa)}}),zs=[],li=[],Cs=Mt({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>y.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>y.modal.duration},message:[Number,String],content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>y.modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>y.modal.showConfirmButton},confirmButtonText:{type:String,default:()=>y.modal.confirmButtonText},lockView:{type:Boolean,default:()=>y.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>y.modal.mask},maskClosable:{type:Boolean,default:()=>y.modal.maskClosable},escClosable:{type:Boolean,default:()=>y.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>y.modal.showHeader},showFooter:{type:Boolean,default:()=>y.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>y.modal.showClose},dblclickZoom:{type:Boolean,default:()=>y.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>y.modal.minWidth},minHeight:{type:[Number,String],default:()=>y.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>y.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>y.modal.draggable},remember:{type:Boolean,default:()=>y.modal.remember},destroyOnClose:{type:Boolean,default:()=>y.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>y.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>y.modal.transfer},storage:{type:Boolean,default:()=>y.modal.storage},storageKey:{type:String,default:()=>y.modal.storageKey},animat:{type:Boolean,default:()=>y.modal.animat},size:{type:String,default:()=>y.modal.size||y.size},beforeHideMethod:{type:Function,default:()=>y.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Vt({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),f=Ue(),i=Ue(),d=Ue(),u=Ue(),h={refElem:f},b={xID:s,props:e,context:t,reactData:r,getRefMaps:()=>h};let S={};const F=Me(()=>e.type==="message"),T=()=>i.value,U=()=>{const{width:v,height:C}=e,N=T();return N.style.width=`${v?isNaN(v)?v:`${v}px`:""}`,N.style.height=`${C?isNaN(C)?C:`${C}px`:""}`,fe()},O=()=>{const{zIndex:v}=e,{modalZindex:C}=r;v?r.modalZindex=v:C<Ao()&&(r.modalZindex=Co())},w=()=>fe().then(()=>{const{position:v}=e,C=c.toNumber(e.marginSize),N=T(),Y=document.documentElement.clientWidth||document.body.clientWidth,X=document.documentElement.clientHeight||document.body.clientHeight,ne=v==="center",{top:ve,left:Ce}=c.isString(v)?{top:v,left:v}:Object.assign({},v),Se=ne||ve==="center",ge=ne||Ce==="center";let xe="",we="";Ce&&!ge?we=isNaN(Ce)?Ce:`${Ce}px`:we=`${Math.max(C,Y/2-N.offsetWidth/2)}px`,ve&&!Se?xe=isNaN(ve)?ve:`${ve}px`:xe=`${Math.max(C,X/2-N.offsetHeight/2)}px`,N.style.top=xe,N.style.left=we}),E=()=>{fe(()=>{let v=0;li.forEach(C=>{const N=C.getBox();v+=c.toNumber(C.props.top),C.reactData.modalTop=v,v+=N.clientHeight})})},M=()=>{li.indexOf(b)>-1&&c.remove(li,v=>v===b),E()},L=v=>{const{remember:C,beforeHideMethod:N}=e,{visible:Y}=r,X=F.value,ne={type:v};return Y&&Promise.resolve(N?N(ne):null).then(ve=>{c.isError(ve)||(X&&M(),r.contentVisible=!1,C||(r.zoomLocat=null),c.remove(zs,Ce=>Ce===b),S.dispatchEvent("before-hide",ne),setTimeout(()=>{r.visible=!1,o("update:modelValue",!1),S.dispatchEvent("hide",ne)},200))}).catch(ve=>ve),fe()},V=v=>{const C="close";S.dispatchEvent(C,{type:C},v),L(C)},P=v=>{const C="confirm";S.dispatchEvent(C,{type:C},v),L(C)},_=v=>{const C="cancel";S.dispatchEvent(C,{type:C},v),L(C)},H=v=>{const C=y.version,N=c.toStringJSON(localStorage.getItem(v)||"");return N&&N._v===C?N:{_v:C}},ae=()=>{const{id:v,remember:C,storage:N,storageKey:Y}=e;return!!(v&&C&&N&&H(Y)[v])},be=()=>{const{id:v,remember:C,storage:N,storageKey:Y}=e;if(v&&C&&N){const X=H(Y)[v];if(X){const ne=T(),[ve,Ce,Se,ge,xe,we,K,ie]=X.split(",");ve&&(ne.style.left=`${ve}px`),Ce&&(ne.style.top=`${Ce}px`),Se&&(ne.style.width=`${Se}px`),ge&&(ne.style.height=`${ge}px`),xe&&we&&(r.zoomLocat={left:xe,top:we,width:K,height:ie})}}},ce=()=>{li.indexOf(b)===-1&&li.push(b),E()},le=()=>{const{id:v,remember:C,storage:N,storageKey:Y}=e,{zoomLocat:X}=r;if(v&&C&&N){const ne=T(),ve=H(Y);ve[v]=[ne.style.left,ne.style.top,ne.style.width,ne.style.height].concat(X?[X.left,X.top,X.width,X.height]:[]).map(Ce=>Ce?c.toNumber(Ce):"").join(","),localStorage.setItem(Y,c.toJSONString(ve))}},pe=()=>fe().then(()=>{if(!r.zoomLocat){const v=Math.max(0,c.toNumber(e.marginSize)),C=T(),{visibleHeight:N,visibleWidth:Y}=ys();r.zoomLocat={top:C.offsetTop,left:C.offsetLeft,width:C.offsetWidth+(C.style.width?0:1),height:C.offsetHeight+(C.style.height?0:1)},Object.assign(C.style,{top:`${v}px`,left:`${v}px`,width:`${Y-v*2}px`,height:`${N-v*2}px`}),le()}}),he=()=>{const{duration:v,remember:C,showFooter:N}=e,{inited:Y,visible:X}=r,ne=F.value;return Y||(r.inited=!0),X||(C||U(),r.visible=!0,r.contentVisible=!1,O(),zs.push(b),setTimeout(()=>{r.contentVisible=!0,fe(()=>{if(N){const Se=d.value,ge=u.value,xe=Se||ge;xe&&xe.focus()}const Ce={type:""};o("update:modelValue",!0),S.dispatchEvent("show",Ce)})},10),ne?(ce(),v!==-1&&setTimeout(()=>L("close"),c.toNumber(v))):fe(()=>{const{fullscreen:ve}=e,{firstOpen:Ce}=r;(!C||Ce)&&w().then(()=>{setTimeout(()=>w(),20)}),Ce?(r.firstOpen=!1,ae()?be():ve&&fe(()=>pe())):ve&&fe(()=>pe())})),fe()},se=v=>{const C=f.value;e.maskClosable&&v.target===C&&L("mask")},B=v=>{if(vt(v,dt.ESCAPE)){const N=c.max(zs,Y=>Y.reactData.modalZindex);N&&setTimeout(()=>{N===b&&N.props.escClosable&&L("exit")},10)}},I=()=>!!r.zoomLocat,A=()=>fe().then(()=>{const{zoomLocat:v}=r;if(v){const C=T();r.zoomLocat=null,Object.assign(C.style,{top:`${v.top}px`,left:`${v.left}px`,width:`${v.width}px`,height:`${v.height}px`}),le()}}),Z=()=>r.zoomLocat?A().then(()=>I()):pe().then(()=>I()),ee=v=>{const{zoomLocat:C}=r,N={type:C?"revert":"max"};return Z().then(()=>{S.dispatchEvent("zoom",N,v)})},ye=()=>{if(!F.value){const C=T();if(C)return{top:C.offsetTop,left:C.offsetLeft}}return null},Pe=(v,C)=>{if(!F.value){const Y=T();c.isNumber(v)&&(Y.style.top=`${v}px`),c.isNumber(C)&&(Y.style.left=`${C}px`)}return fe()},ke=()=>{const{modalZindex:v}=r;zs.some(C=>C.reactData.visible&&C.reactData.modalZindex>v)&&O()},_e=v=>{const{remember:C,storage:N}=e,{zoomLocat:Y}=r,X=c.toNumber(e.marginSize),ne=T();if(!Y&&v.button===0&&!yt(v,ne,"trigger--btn").flag){v.preventDefault();const ve=document.onmousemove,Ce=document.onmouseup,Se=v.clientX-ne.offsetLeft,ge=v.clientY-ne.offsetTop,{visibleHeight:xe,visibleWidth:we}=ys();document.onmousemove=K=>{K.preventDefault();const ie=ne.offsetWidth,Ee=ne.offsetHeight,Te=X,z=we-ie-X-1,oe=X,Re=xe-Ee-X-1;let He=K.clientX-Se,ze=K.clientY-ge;He>z&&(He=z),He<Te&&(He=Te),ze>Re&&(ze=Re),ze<oe&&(ze=oe),ne.style.left=`${He}px`,ne.style.top=`${ze}px`,ne.className=ne.className.replace(/\s?is--drag/,"")+" is--drag",o("move",{type:"move",$event:K})},document.onmouseup=()=>{document.onmousemove=ve,document.onmouseup=Ce,C&&N&&fe(()=>{le()}),setTimeout(()=>{ne.className=ne.className.replace(/\s?is--drag/,"")},50)}}},Ae=v=>{v.preventDefault();const{remember:C,storage:N}=e,{visibleHeight:Y,visibleWidth:X}=ys(),ne=c.toNumber(e.marginSize),Ce=v.target.getAttribute("type"),Se=c.toNumber(e.minWidth),ge=c.toNumber(e.minHeight),xe=X,we=Y,K=T(),ie=document.onmousemove,Ee=document.onmouseup,Te=K.clientWidth,z=K.clientHeight,oe=v.clientX,Re=v.clientY,He=K.offsetTop,ze=K.offsetLeft,qe={type:"resize"};document.onmousemove=Qe=>{Qe.preventDefault();let Xe,Ze,Je,st;switch(Ce){case"wl":Xe=oe-Qe.clientX,Je=Xe+Te,ze-Xe>ne&&Je>Se&&(K.style.width=`${Je<xe?Je:xe}px`,K.style.left=`${ze-Xe}px`);break;case"swst":Xe=oe-Qe.clientX,Ze=Re-Qe.clientY,Je=Xe+Te,st=Ze+z,ze-Xe>ne&&Je>Se&&(K.style.width=`${Je<xe?Je:xe}px`,K.style.left=`${ze-Xe}px`),He-Ze>ne&&st>ge&&(K.style.height=`${st<we?st:we}px`,K.style.top=`${He-Ze}px`);break;case"swlb":Xe=oe-Qe.clientX,Ze=Qe.clientY-Re,Je=Xe+Te,st=Ze+z,ze-Xe>ne&&Je>Se&&(K.style.width=`${Je<xe?Je:xe}px`,K.style.left=`${ze-Xe}px`),He+st+ne<Y&&st>ge&&(K.style.height=`${st<we?st:we}px`);break;case"st":Ze=Re-Qe.clientY,st=z+Ze,He-Ze>ne&&st>ge&&(K.style.height=`${st<we?st:we}px`,K.style.top=`${He-Ze}px`);break;case"wr":Xe=Qe.clientX-oe,Je=Xe+Te,ze+Je+ne<X&&Je>Se&&(K.style.width=`${Je<xe?Je:xe}px`);break;case"sest":Xe=Qe.clientX-oe,Ze=Re-Qe.clientY,Je=Xe+Te,st=Ze+z,ze+Je+ne<X&&Je>Se&&(K.style.width=`${Je<xe?Je:xe}px`),He-Ze>ne&&st>ge&&(K.style.height=`${st<we?st:we}px`,K.style.top=`${He-Ze}px`);break;case"selb":Xe=Qe.clientX-oe,Ze=Qe.clientY-Re,Je=Xe+Te,st=Ze+z,ze+Je+ne<X&&Je>Se&&(K.style.width=`${Je<xe?Je:xe}px`),He+st+ne<Y&&st>ge&&(K.style.height=`${st<we?st:we}px`);break;case"sb":Ze=Qe.clientY-Re,st=Ze+z,He+st+ne<Y&&st>ge&&(K.style.height=`${st<we?st:we}px`);break}K.className=K.className.replace(/\s?is--drag/,"")+" is--drag",C&&N&&le(),S.dispatchEvent("resize",qe,Qe)},document.onmouseup=()=>{r.zoomLocat=null,document.onmousemove=ie,document.onmouseup=Ee,setTimeout(()=>{K.className=K.className.replace(/\s?is--drag/,"")},50)}};S={dispatchEvent(v,C,N){o(v,Object.assign({$modal:b,$event:N},C))},open:he,close(){return L("close")},getBox:T,getPosition:ye,setPosition:Pe,isMaximized:I,zoom:Z,maximize:pe,revert:A},Object.assign(b,S);const q=()=>{const{slots:v={},showClose:C,showZoom:N,title:Y}=e,{zoomLocat:X}=r,ne=n.title||v.title,ve=n.corner||v.corner,Ce=[m("div",{class:"vxe-modal--header-title"},ne?Nt(ne({$modal:b})):Y?Ut(Y):y.i18n("vxe.alert.title"))],Se=[];return ve&&Se.push(m("span",{class:"vxe-modal--corner-wrapper"},Nt(ve({$modal:b})))),N&&Se.push(m("i",{class:["vxe-modal--zoom-btn","trigger--btn",X?y.icon.MODAL_ZOOM_OUT:y.icon.MODAL_ZOOM_IN],title:y.i18n(`vxe.modal.zoom${X?"Out":"In"}`),onClick:ee})),C&&Se.push(m("i",{class:["vxe-modal--close-btn","trigger--btn",y.icon.MODAL_CLOSE],title:y.i18n("vxe.modal.close"),onClick:V})),Ce.push(m("div",{class:"vxe-modal--header-right"},Se)),Ce},D=()=>{const{slots:v={},showZoom:C,draggable:N}=e,Y=F.value,X=n.header||v.header,ne=[];if(e.showHeader){const ve={};N&&(ve.onMousedown=_e),C&&e.dblclickZoom&&e.type==="modal"&&(ve.onDblclick=ee),ne.push(m("div",Object.assign({class:["vxe-modal--header",{"is--draggable":N,"is--ellipsis":!Y&&e.showTitleOverflow}]},ve),X?!r.inited||e.destroyOnClose&&!r.visible?[]:Nt(X({$modal:b})):q()))}return ne},G=()=>{const{slots:v={},status:C,message:N}=e,Y=e.content||N,X=F.value,ne=n.default||v.default,ve=[];return C&&ve.push(m("div",{class:"vxe-modal--status-wrapper"},[m("i",{class:["vxe-modal--status-icon",e.iconStatus||y.icon[`MODAL_${C}`.toLocaleUpperCase()]]})])),ve.push(m("div",{class:"vxe-modal--content"},ne?!r.inited||e.destroyOnClose&&!r.visible?[]:Nt(ne({$modal:b})):Ut(Y))),X||ve.push(m(er,{class:"vxe-modal--loading",modelValue:e.loading})),[m("div",{class:"vxe-modal--body"},ve)]},te=()=>{const{showCancelButton:v,showConfirmButton:C,type:N}=e,Y=[];return(c.isBoolean(v)?v:N==="confirm")&&Y.push(m(On,{key:1,ref:u,content:e.cancelButtonText||y.i18n("vxe.button.cancel"),onClick:_})),(c.isBoolean(C)?C:N==="confirm"||N==="alert")&&Y.push(m(On,{key:2,ref:d,status:"primary",content:e.confirmButtonText||y.i18n("vxe.button.confirm"),onClick:P})),Y},me=()=>{const{slots:v={}}=e,C=F.value,N=n.footer||v.footer,Y=[];return e.showFooter&&Y.push(m("div",{class:"vxe-modal--footer"},N?!r.inited||e.destroyOnClose&&!r.visible?[]:Nt(N({$modal:b})):te())),!C&&e.resize&&Y.push(m("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(X=>m("span",{class:`${X}-resize`,type:X,onMousedown:Ae})))),Y},Ie=()=>{const{className:v,type:C,animat:N,loading:Y,status:X,lockScroll:ne,lockView:ve,mask:Ce,resize:Se}=e,{inited:ge,zoomLocat:xe,modalTop:we,contentVisible:K,visible:ie}=r,Ee=l.value;return m(nl,{to:"body",disabled:e.transfer?!ge:!0},[m("div",{ref:f,class:["vxe-modal--wrapper",`type--${C}`,v||"",{[`size--${Ee}`]:Ee,[`status--${X}`]:X,"is--animat":N,"lock--scroll":ne,"lock--view":ve,"is--resize":Se,"is--mask":Ce,"is--maximize":xe,"is--visible":K,"is--active":ie,"is--loading":Y}],style:{zIndex:r.modalZindex,top:we?`${we}px`:null},onClick:se},[m("div",{ref:i,class:"vxe-modal--box",onMousedown:ke},D().concat(G(),me()))])])};return b.renderVN=Ie,lt(()=>e.width,U),lt(()=>e.height,U),lt(()=>e.modelValue,v=>{v?he():L("model")}),pn(()=>{fe(()=>{e.storage&&!e.id&&sn("vxe.error.reqProp",["modal.id"]),e.modelValue&&he(),U()}),e.escClosable&&ht.on(b,"keydown",B)}),an(()=>{ht.off(b,"keydown"),M()}),b},render(){return this.renderVN()}});function my(e){if(e){const t=new Date;let n=0,o=0,s=0;if(c.isDate(e))n=e.getHours(),o=e.getMinutes(),s=e.getSeconds();else{e=c.toValueString(e);const l=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);l&&(n=c.toNumber(l[1]),o=c.toNumber(l[3]),s=c.toNumber(l[5]))}return t.setHours(n),t.setMinutes(o),t.setSeconds(s),t}return new Date("")}function Sf(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function dl(e){return c.isString(e)?e.replace(/,/g,""):e}function Of(e,t){return/^-/.test(""+e)?c.toFixed(c.ceil(e,t),t):c.toFixed(c.floor(e,t),t)}const jo=12,gy=20,vy=8,Ko=Mt({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>y.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>c.eqNull(y.input.placeholder)?y.i18n("vxe.base.pleaseInput"):y.input.placeholder},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>y.input.size||y.size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>y.input.exponential},controls:{type:Boolean,default:()=>y.input.controls},digits:{type:[String,Number],default:()=>y.input.digits},startDate:{type:[String,Number,Date],default:()=>y.input.startDate},endDate:{type:[String,Number,Date],default:()=>y.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>y.input.startDay},labelFormat:{type:String,default:()=>y.input.labelFormat},valueFormat:{type:String,default:()=>y.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>y.input.festivalMethod},disabledMethod:{type:Function,default:()=>y.input.disabledMethod},selectDay:{type:[String,Number],default:()=>y.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>y.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),r=c.uniqueId(),f=cn(e),i=Vt({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),d=Ue(),u=Ue(),h=Ue(),b=Ue(),S={refElem:d,refInput:u},F={xID:r,props:e,context:t,reactData:i,getRefMaps:()=>S};let T={};const U=(R,ue)=>{const{type:Oe}=e;return Oe==="time"?my(R):c.toStringDate(R,ue)},O=Me(()=>{const{type:R}=e;return R==="time"||R==="datetime"}),w=Me(()=>["number","integer","float"].indexOf(e.type)>-1),E=Me(()=>c.getSize(i.inputValue)),M=Me(()=>{const R=E.value;return e.maxlength&&R>c.toNumber(e.maxlength)}),L=Me(()=>O.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),V=Me(()=>e.type==="password"),P=Me(()=>e.type==="search"),_=Me(()=>c.toInteger(e.digits)||1),H=Me(()=>{const{type:R}=e,ue=_.value,Oe=e.step;return R==="integer"?c.toInteger(Oe)||1:R==="float"?c.toNumber(Oe)||1/Math.pow(10,ue):c.toNumber(Oe)||1}),ae=Me(()=>{const{type:R}=e,ue=w.value,Oe=L.value,$e=V.value;return e.clearable&&($e||ue||Oe||R==="text"||R==="search")}),be=Me(()=>e.startDate?c.toStringDate(e.startDate):null),ce=Me(()=>e.endDate?c.toStringDate(e.endDate):null),le=Me(()=>["date","week","month","quarter","year"].includes(e.type)),pe=Me(()=>{const{modelValue:R,multiple:ue}=e,Oe=L.value,$e=B.value;return ue&&R&&Oe?c.toValueString(R).split(",").map(Ke=>{const We=U(Ke,$e);return c.isValidDate(We)?We:null}):[]}),he=Me(()=>{const R=pe.value,ue=B.value;return R.map(Oe=>c.toDateString(Oe,ue))}),se=Me(()=>{const R=pe.value,ue=Pe.value;return R.map(Oe=>c.toDateString(Oe,ue)).join(", ")}),B=Me(()=>{const{type:R}=e;return R==="time"?"HH:mm:ss":e.valueFormat||(R==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),I=Me(()=>{const{modelValue:R}=e,ue=L.value,Oe=B.value;let $e=null;if(R&&ue){const Ke=U(R,Oe);c.isValidDate(Ke)&&($e=Ke)}return $e}),A=Me(()=>{const R=be.value,{selectMonth:ue}=i;return ue&&R?ue<=R:!1}),Z=Me(()=>{const R=ce.value,{selectMonth:ue}=i;return ue&&R?ue>=R:!1}),ee=Me(()=>{const{datetimePanelValue:R}=i;return R?c.toDateString(R,"HH:mm:ss"):""}),ye=Me(()=>{const R=I.value,ue=O.value;return R&&ue?(R.getHours()*3600+R.getMinutes()*60+R.getSeconds())*1e3:0}),Pe=Me(()=>L.value?e.labelFormat||y.i18n(`vxe.input.date.labelFormat.${e.type}`):null),ke=Me(()=>{const{selectMonth:R,currentDate:ue}=i,Oe=[];if(R&&ue){const $e=ue.getFullYear(),Ke=R.getFullYear(),We=new Date(Ke-Ke%jo,0,1);for(let nt=-4;nt<jo+4;nt++){const a=c.getWhatYear(We,nt,"first"),p=a.getFullYear();Oe.push({date:a,isCurrent:!0,isPrev:nt<0,isNow:$e===p,isNext:nt>=jo,year:p})}}return Oe}),_e=Me(()=>{if(L.value){const{datePanelType:ue,selectMonth:Oe}=i,$e=ke.value;let Ke="",We;return Oe&&(Ke=Oe.getFullYear(),We=Oe.getMonth()+1),ue==="quarter"?y.i18n("vxe.input.date.quarterLabel",[Ke]):ue==="month"?y.i18n("vxe.input.date.monthLabel",[Ke]):ue==="year"?$e.length?`${$e[0].year} - ${$e[$e.length-1].year}`:"":y.i18n("vxe.input.date.dayLabel",[Ke,We?y.i18n(`vxe.input.date.m${We}`):"-"])}return""}),Ae=Me(()=>{const{startDay:R,startWeek:ue}=e;return c.toNumber(c.isNumber(R)||c.isString(R)?R:ue)}),q=Me(()=>{const R=[];if(L.value){let Oe=Ae.value;R.push(Oe);for(let $e=0;$e<6;$e++)Oe>=6?Oe=0:Oe++,R.push(Oe)}return R}),D=Me(()=>L.value?q.value.map(Oe=>({value:Oe,label:y.i18n(`vxe.input.date.weeks.w${Oe}`)})):[]),G=Me(()=>{if(L.value){const ue=D.value;return[{label:y.i18n("vxe.input.date.weeks.w")}].concat(ue)}return[]}),te=Me(()=>{const R=ke.value;return c.chunk(R,4)}),me=Me(()=>{const{selectMonth:R,currentDate:ue}=i,Oe=[];if(R&&ue){const $e=ue.getFullYear(),Ke=Sf(ue),We=c.getWhatYear(R,0,"first"),nt=We.getFullYear();for(let a=-2;a<vy-2;a++){const p=c.getWhatQuarter(We,a),g=p.getFullYear(),x=Sf(p),k=g<nt;Oe.push({date:p,isPrev:k,isCurrent:g===nt,isNow:g===$e&&x===Ke,isNext:!k&&g>nt,quarter:x})}}return Oe}),Ie=Me(()=>{const R=me.value;return c.chunk(R,2)}),v=Me(()=>{const{selectMonth:R,currentDate:ue}=i,Oe=[];if(R&&ue){const $e=ue.getFullYear(),Ke=ue.getMonth(),We=c.getWhatYear(R,0,"first").getFullYear();for(let nt=-4;nt<gy-4;nt++){const a=c.getWhatYear(R,0,nt),p=a.getFullYear(),g=a.getMonth(),x=p<We;Oe.push({date:a,isPrev:x,isCurrent:p===We,isNow:p===$e&&g===Ke,isNext:!x&&p>We,month:g})}}return Oe}),C=Me(()=>{const R=v.value;return c.chunk(R,4)}),N=Me(()=>{const{selectMonth:R,currentDate:ue}=i,Oe=[];if(R&&ue){const $e=ye.value,Ke=q.value,We=ue.getFullYear(),nt=ue.getMonth(),a=ue.getDate(),p=R.getFullYear(),g=R.getMonth(),x=R.getDay(),k=-Ke.indexOf(x),$=new Date(c.getWhatDay(R,k).getTime()+$e);for(let j=0;j<42;j++){const Q=c.getWhatDay($,j),J=Q.getFullYear(),de=Q.getMonth(),re=Q.getDate(),De=Q<R;Oe.push({date:Q,isPrev:De,isCurrent:J===p&&de===g,isNow:J===We&&de===nt&&re===a,isNext:!De&&g!==de,label:re})}}return Oe}),Y=Me(()=>{const R=N.value;return c.chunk(R,7)}),X=Me(()=>{const R=Y.value,ue=Ae.value;return R.map(Oe=>{const $e=Oe[0];return[{date:$e.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:c.getYearWeek($e.date,ue)}].concat(Oe)})}),ne=Me(()=>{const R=[];if(O.value)for(let Oe=0;Oe<24;Oe++)R.push({value:Oe,label:(""+Oe).padStart(2,"0")});return R}),ve=Me(()=>{const R=[];if(O.value)for(let Oe=0;Oe<60;Oe++)R.push({value:Oe,label:(""+Oe).padStart(2,"0")});return R}),Ce=Me(()=>ve.value),Se=Me(()=>{const{type:R,readonly:ue,editable:Oe,multiple:$e}=e;return ue||$e||!Oe||R==="week"||R==="quarter"}),ge=Me(()=>{const{type:R}=e,{showPwd:ue}=i,Oe=w.value,$e=L.value,Ke=V.value;return $e||Oe||Ke&&ue||R==="number"?"text":R}),xe=Me(()=>{const{placeholder:R}=e;return R?Ut(R):""}),we=Me(()=>{const{maxlength:R}=e;return w.value&&!c.toNumber(R)?16:R}),K=Me(()=>{const{type:R,immediate:ue}=e;return ue||!(R==="text"||R==="number"||R==="integer"||R==="float")}),ie=Me(()=>{const{type:R}=e,{inputValue:ue}=i;return w.value?R==="integer"?c.toInteger(dl(ue)):c.toNumber(dl(ue)):0}),Ee=Me(()=>{const{min:R}=e,{inputValue:ue}=i,Oe=w.value,$e=ie.value;return(ue||ue===0)&&Oe&&R!==null?$e<=c.toNumber(R):!1}),Te=Me(()=>{const{max:R}=e,{inputValue:ue}=i,Oe=w.value,$e=ie.value;return(ue||ue===0)&&Oe&&R!==null?$e>=c.toNumber(R):!1}),z=R=>{const{type:ue,exponential:Oe}=e,$e=we.value,Ke=_.value,We=ue==="float"?Of(R,Ke):c.toValueString(R);return Oe&&(R===We||c.toValueString(R).toLowerCase()===c.toNumber(We).toExponential())?R:We.slice(0,$e)},oe=R=>{const{inputValue:ue}=i;T.dispatchEvent(R.type,{value:ue},R)},Re=(R,ue)=>{i.inputValue=R,o("update:modelValue",R),T.dispatchEvent("input",{value:R},ue),c.toValueString(e.modelValue)!==R&&(T.dispatchEvent("change",{value:R},ue),s&&l&&s.triggerItemEvent(ue,l.itemConfig.field,R))},He=(R,ue)=>{const Oe=L.value,$e=K.value;i.inputValue=R,Oe||($e?Re(R,ue):T.dispatchEvent("input",{value:R},ue))},ze=R=>{const Oe=R.target.value;He(Oe,R)},qe=R=>{K.value||oe(R)},Qe=R=>{i.isActivated=!0,L.value&&Rs(R),oe(R)},Xe=R=>{const{disabled:ue}=e;if(!ue){const{inputValue:Oe}=i;T.dispatchEvent("prefix-click",{value:Oe},R)}};let Ze;const Je=()=>new Promise(R=>{i.visiblePanel=!1,Ze=window.setTimeout(()=>{i.animatVisible=!1,R()},350)}),st=(R,ue)=>{const{type:Oe}=e,$e=w.value;L.value&&Je(),($e||["text","search","password"].indexOf(Oe)>-1)&&focus(),T.dispatchEvent("clear",{value:ue},R)},St=R=>{const{disabled:ue}=e;if(!ue)if(Zo(R.currentTarget,"is--clear"))Re("",R),st(R,"");else{const{inputValue:Oe}=i;T.dispatchEvent("suffix-click",{value:Oe},R)}},W=R=>{const{type:ue}=e,{valueFormat:Oe}=e,$e=Pe.value,Ke=Ae.value;let We=null,nt="";if(R&&(We=U(R,Oe)),c.isValidDate(We)){if(nt=c.toDateString(We,$e,{firstDay:Ke}),$e&&ue==="week"&&c.getWhatWeek(We,0,Ke,Ke).getFullYear()<We.getFullYear()){const p=$e.indexOf("yyyy");if(p>-1){const g=Number(nt.substring(p,p+4));g&&!isNaN(g)&&(nt=nt.replace(`${g}`,`${g-1}`))}}}else We=null;i.datePanelValue=We,i.datePanelLabel=nt},Tt=()=>{const R=L.value,{inputValue:ue}=i;R&&(W(ue),i.inputValue=e.multiple?se.value:i.datePanelLabel)},bt=()=>{const{type:R}=e,{inputValue:ue}=i,Oe=L.value,$e=_.value;if(Oe)Tt();else if(R==="float"&&ue){const Ke=Of(ue,$e);ue!==Ke&&Re(Ke,{type:"init"})}},mt=R=>e.max===null||c.toNumber(R)<=c.toNumber(e.max),it=R=>e.min===null||c.toNumber(R)>=c.toNumber(e.min),kt=()=>{i.inputValue=e.multiple?se.value:i.datePanelLabel},xt=R=>{const ue=c.getWhatMonth(R,0,"first");c.isEqual(ue,i.selectMonth)||(i.selectMonth=ue)},Ft=R=>{const{modelValue:ue,multiple:Oe}=e,{datetimePanelValue:$e}=i,Ke=O.value,We=B.value,nt=Ae.value;if(e.type==="week"){const p=c.toNumber(e.selectDay);R=c.getWhatWeek(R,0,p,nt)}else Ke&&(R.setHours($e.getHours()),R.setMinutes($e.getMinutes()),R.setSeconds($e.getSeconds()));const a=c.toDateString(R,We,{firstDay:nt});if(xt(R),Oe){const p=he.value;if(Ke){const g=[...pe.value],x=[],k=c.findIndexOf(g,$=>c.isDateSame(R,$,"yyyyMMdd"));k===-1?g.push(R):g.splice(k,1),g.forEach($=>{$&&($.setHours($e.getHours()),$.setMinutes($e.getMinutes()),$.setSeconds($e.getSeconds()),x.push($))}),Re(x.map($=>c.toDateString($,We)).join(","),{type:"update"})}else p.some(g=>c.isEqual(g,a))?Re(p.filter(g=>!c.isEqual(g,a)).join(","),{type:"update"}):Re(p.concat([a]).join(","),{type:"update"})}else c.isEqual(ue,a)||Re(a,{type:"update"})},wt=()=>{const{type:R,min:ue,max:Oe,exponential:$e}=e,{inputValue:Ke,datetimePanelValue:We}=i,nt=w.value,a=L.value,p=Pe.value;if(!Se.value){if(nt){if(Ke){let x=R==="integer"?c.toInteger(dl(Ke)):c.toNumber(dl(Ke));if(it(x)?mt(x)||(x=Oe):x=ue,$e){const k=c.toValueString(Ke).toLowerCase();k===c.toNumber(x).toExponential()&&(x=k)}Re(z(x),{type:"check"})}}else if(a)if(Ke){let x=U(Ke,p);if(c.isValidDate(x))if(R==="time")x=c.toDateString(x,p),Ke!==x&&Re(x,{type:"check"}),i.inputValue=x;else{let k=!1;const $=Ae.value;if(R==="datetime"){const j=I.value;(Ke!==c.toDateString(j,p)||Ke!==c.toDateString(x,p))&&(k=!0,We.setHours(x.getHours()),We.setMinutes(x.getMinutes()),We.setSeconds(x.getSeconds()))}else k=!0;i.inputValue=c.toDateString(x,p,{firstDay:$}),k&&Ft(x)}else kt()}else Re("",{type:"check"})}},It=R=>{const{inputValue:ue}=i;K.value||Re(ue,R),wt(),i.visiblePanel||(i.isActivated=!1),T.dispatchEvent("blur",{value:ue},R)},$t=R=>{const{readonly:ue,disabled:Oe}=e,{showPwd:$e}=i;!Oe&&!ue&&(i.showPwd=!$e),T.dispatchEvent("toggle-visible",{visible:i.showPwd},R)},Gt=R=>{T.dispatchEvent("search-click",{},R)},ln=(R,ue)=>{const{min:Oe,max:$e,type:Ke}=e,{inputValue:We}=i,nt=H.value,a=Ke==="integer"?c.toInteger(dl(We)):c.toNumber(dl(We)),p=R?c.add(a,nt):c.subtract(a,nt);let g;it(p)?mt(p)?g=p:g=$e:g=Oe,He(z(g),ue)};let Jt;const Qt=R=>{const{readonly:ue,disabled:Oe}=e,$e=Ee.value;clearTimeout(Jt),!Oe&&!ue&&!$e&&ln(!1,R),T.dispatchEvent("next-number",{},R)},dn=R=>{Jt=window.setTimeout(()=>{Qt(R),dn(R)},60)},Bt=R=>{const{readonly:ue,disabled:Oe}=e,$e=Te.value;clearTimeout(Jt),!Oe&&!ue&&!$e&&ln(!0,R),T.dispatchEvent("prev-number",{},R)},zt=R=>{const ue=vt(R,dt.ARROW_UP),Oe=vt(R,dt.ARROW_DOWN);(ue||Oe)&&(R.preventDefault(),ue?Bt(R):Qt(R))},Wt=R=>{const{exponential:ue,controls:Oe}=e;if(w.value){const Ke=R.ctrlKey,We=R.shiftKey,nt=R.altKey,a=R.keyCode;!Ke&&!We&&!nt&&(vt(R,dt.SPACEBAR)||(!ue||a!==69)&&a>=65&&a<=90||a>=186&&a<=188||a>=191)&&R.preventDefault(),Oe&&zt(R)}oe(R)},nn=R=>{oe(R)},yn=()=>{clearTimeout(Jt)},on=R=>{Jt=window.setTimeout(()=>{Bt(R),on(R)},60)},_n=R=>{if(yn(),R.button===0){const ue=Zo(R.currentTarget,"is--prev");ue?Bt(R):Qt(R),Jt=window.setTimeout(()=>{ue?on(R):dn(R)},500)}},eo=R=>{if(w.value&&e.controls&&i.isActivated){const Oe=R.deltaY;Oe>0?Qt(R):Oe<0&&Bt(R),R.preventDefault()}oe(R)},ho=(R,ue)=>{i.selectMonth=c.getWhatMonth(R,ue,"first")},Os=()=>{const R=c.getWhatDay(Date.now(),0,"first");i.currentDate=R,ho(R,0)},Qo=()=>{let{datePanelType:R}=i;R==="month"||R==="quarter"?R="year":R="month",i.datePanelType=R},sl=R=>{const{type:ue}=e,{datePanelType:Oe,selectMonth:$e}=i;A.value||(ue==="year"?i.selectMonth=c.getWhatYear($e,-jo,"first"):ue==="month"||ue==="quarter"?Oe==="year"?i.selectMonth=c.getWhatYear($e,-jo,"first"):i.selectMonth=c.getWhatYear($e,-1,"first"):Oe==="year"?i.selectMonth=c.getWhatYear($e,-jo,"first"):Oe==="month"?i.selectMonth=c.getWhatYear($e,-1,"first"):i.selectMonth=c.getWhatMonth($e,-1,"first"),T.dispatchEvent("date-prev",{type:ue},R))},Ts=R=>{Os(),e.multiple||(Ft(i.currentDate),Je()),T.dispatchEvent("date-today",{type:e.type},R)},Vn=R=>{const{type:ue}=e,{datePanelType:Oe,selectMonth:$e}=i;Z.value||(ue==="year"?i.selectMonth=c.getWhatYear($e,jo,"first"):ue==="month"||ue==="quarter"?Oe==="year"?i.selectMonth=c.getWhatYear($e,jo,"first"):i.selectMonth=c.getWhatYear($e,1,"first"):Oe==="year"?i.selectMonth=c.getWhatYear($e,jo,"first"):Oe==="month"?i.selectMonth=c.getWhatYear($e,1,"first"):i.selectMonth=c.getWhatMonth($e,1,"first"),T.dispatchEvent("date-next",{type:ue},R))},hn=R=>{const{disabledMethod:ue}=e,{datePanelType:Oe}=i;return ue&&ue({type:Oe,viewType:Oe,date:R.date,$input:F})},to=R=>{const{type:ue,multiple:Oe}=e,{datePanelType:$e}=i;ue==="month"?$e==="year"?(i.datePanelType="month",xt(R)):(Ft(R),Oe||Je()):ue==="year"?(Ft(R),Oe||Je()):ue==="quarter"?$e==="year"?(i.datePanelType="quarter",xt(R)):(Ft(R),Oe||Je()):$e==="month"?(i.datePanelType=ue==="week"?ue:"day",xt(R)):$e==="year"?(i.datePanelType="month",xt(R)):(Ft(R),ue==="datetime"||Oe||Je())},no=R=>{hn(R)||to(R.date)},mo=R=>{hn({date:R})||(N.value.some(Oe=>c.isDateSame(Oe.date,R,"yyyyMMdd"))||xt(R),W(R))},No=R=>{hn({date:R})||(ke.value.some(Oe=>c.isDateSame(Oe.date,R,"yyyy"))||xt(R),W(R))},wo=R=>{hn({date:R})||(me.value.some(Oe=>c.isDateSame(Oe.date,R,"yyyyq"))||xt(R),W(R))},oo=R=>{hn({date:R})||(v.value.some(Oe=>c.isDateSame(Oe.date,R,"yyyyMM"))||xt(R),W(R))},Tn=R=>{if(!hn(R)){const{datePanelType:ue}=i;ue==="month"?oo(R.date):ue==="quarter"?wo(R.date):ue==="year"?No(R.date):mo(R.date)}},so=R=>{if(R){const ue=R.offsetHeight,Oe=R.parentNode;Oe.scrollTop=R.offsetTop-ue*4}},es=R=>{i.datetimePanelValue=new Date(i.datetimePanelValue.getTime()),so(R.currentTarget)},Eo=(R,ue)=>{i.datetimePanelValue.setHours(ue.value),es(R)},So=()=>{const{multiple:R}=e,{datetimePanelValue:ue}=i,Oe=I.value,$e=O.value;if($e){const Ke=B.value;if(R){const We=he.value;if($e){const nt=[...pe.value],a=[];nt.forEach(p=>{p&&(p.setHours(ue.getHours()),p.setMinutes(ue.getMinutes()),p.setSeconds(ue.getSeconds()),a.push(p))}),Re(a.map(p=>c.toDateString(p,Ke)).join(","),{type:"update"})}else Re(We.join(","),{type:"update"})}else Ft(Oe||i.currentDate)}Je()},lo=(R,ue)=>{i.datetimePanelValue.setMinutes(ue.value),es(R)},ts=(R,ue)=>{i.datetimePanelValue.setSeconds(ue.value),es(R)},$n=R=>{const{isActivated:ue,datePanelValue:Oe,datePanelType:$e}=i;if(ue){R.preventDefault();const Ke=vt(R,dt.ARROW_LEFT),We=vt(R,dt.ARROW_UP),nt=vt(R,dt.ARROW_RIGHT),a=vt(R,dt.ARROW_DOWN);if($e==="year"){let p=c.getWhatYear(Oe||Date.now(),0,"first");Ke?p=c.getWhatYear(p,-1):We?p=c.getWhatYear(p,-4):nt?p=c.getWhatYear(p,1):a&&(p=c.getWhatYear(p,4)),No(p)}else if($e==="quarter"){let p=c.getWhatQuarter(Oe||Date.now(),0,"first");Ke?p=c.getWhatQuarter(p,-1):We?p=c.getWhatQuarter(p,-2):nt?p=c.getWhatQuarter(p,1):a&&(p=c.getWhatQuarter(p,2)),wo(p)}else if($e==="month"){let p=c.getWhatMonth(Oe||Date.now(),0,"first");Ke?p=c.getWhatMonth(p,-1):We?p=c.getWhatMonth(p,-4):nt?p=c.getWhatMonth(p,1):a&&(p=c.getWhatMonth(p,4)),oo(p)}else{let p=Oe||c.getWhatDay(Date.now(),0,"first");const g=Ae.value;Ke?p=c.getWhatDay(p,-1):We?p=c.getWhatWeek(p,-1,g):nt?p=c.getWhatDay(p,1):a&&(p=c.getWhatWeek(p,1,g)),mo(p)}}},un=R=>{const{isActivated:ue}=i;if(ue){const Oe=vt(R,dt.PAGE_UP);R.preventDefault(),Oe?sl(R):Vn(R)}},_o=()=>{const{type:R}=e,ue=O.value,Oe=I.value;["year","quarter","month","week"].indexOf(R)>-1?i.datePanelType=R:i.datePanelType="day",i.currentDate=c.getWhatDay(Date.now(),0,"first"),Oe?(ho(Oe,0),W(Oe)):Os(),ue&&(i.datetimePanelValue=i.datePanelValue||c.getWhatDay(Date.now(),0,"first"),fe(()=>{const $e=b.value;c.arrayEach($e.querySelectorAll("li.is--selected"),so)}))},At=()=>{i.panelIndex<Ao()&&(i.panelIndex=Co())},Cn=()=>fe().then(()=>{const{transfer:R,placement:ue}=e,{panelIndex:Oe}=i,$e=u.value,Ke=h.value;if($e&&Ke){const We=$e.offsetHeight,nt=$e.offsetWidth,a=Ke.offsetHeight,p=Ke.offsetWidth,g=5,x={zIndex:Oe},{boundingTop:k,boundingLeft:$,visibleHeight:j,visibleWidth:Q}=Io($e);let J="bottom";if(console.log(Io($e)),R){let de=$,re=k+We;ue==="top"?(J="top",re=k-a):ue||(re+a+g>j&&(J="top",re=k-a),re<g&&(J="bottom",re=k+We)),de+p+g>Q&&(de-=de+p+g-Q),de<g&&(de=g),Object.assign(x,{left:`${de}px`,top:`${re}px`,minWidth:`${nt}px`})}else ue==="top"?(J="top",x.bottom=`${We}px`):ue||k+We+a>j&&k-We-a>g&&(J="top",x.bottom=`${We}px`);return i.panelStyle=x,i.panelPlacement=J,fe()}}),go=()=>{const{disabled:R}=e,{visiblePanel:ue}=i,Oe=L.value;return!R&&!ue?(i.inited||(i.inited=!0),clearTimeout(Ze),i.isActivated=!0,i.animatVisible=!0,Oe&&_o(),setTimeout(()=>{i.visiblePanel=!0},10),At(),Cn()):fe()},Rs=R=>{const{readonly:ue}=e;ue||(R.preventDefault(),go())},Wl=R=>{oe(R)},tr=R=>{const{disabled:ue}=e,{visiblePanel:Oe,isActivated:$e}=i,Ke=L.value,We=d.value,nt=h.value;!ue&&$e&&(i.isActivated=yt(R,We).flag||yt(R,nt).flag,i.isActivated||(Ke?Oe&&(Je(),wt()):wt()))},ha=R=>{const{clearable:ue,disabled:Oe}=e,{visiblePanel:$e}=i,Ke=L.value;if(!Oe){const We=vt(R,dt.TAB),nt=vt(R,dt.DELETE),a=vt(R,dt.ESCAPE),p=vt(R,dt.ENTER),g=vt(R,dt.ARROW_LEFT),x=vt(R,dt.ARROW_UP),k=vt(R,dt.ARROW_RIGHT),$=vt(R,dt.ARROW_DOWN),j=vt(R,dt.PAGE_UP),Q=vt(R,dt.PAGE_DOWN),J=g||x||k||$;let de=i.isActivated;We?(de&&wt(),de=!1,i.isActivated=de):J?Ke&&de&&($e?$n(R):(x||$)&&Rs(R)):p?Ke&&($e?i.datePanelValue?to(i.datePanelValue):Je():de&&Rs(R)):(j||Q)&&Ke&&de&&un(R),We||a?$e&&Je():nt&&ue&&de&&st(R,null)}},nr=R=>{const{disabled:ue}=e,{visiblePanel:Oe}=i;if(!ue&&Oe){const $e=h.value;yt(R,$e).flag?Cn():(Je(),wt())}},ll=()=>{const{isActivated:R,visiblePanel:ue}=i;ue?(Je(),wt()):R&&wt()},Vo=(R,ue)=>{const{festivalMethod:Oe}=e;if(Oe){const{datePanelType:$e}=i,Ke=Oe({type:$e,viewType:$e,date:R.date,$input:F}),We=Ke?c.isString(Ke)?{label:Ke}:Ke:{},nt=We.extra?c.isString(We.extra)?{label:We.extra}:We.extra:null,a=[m("span",{class:["vxe-input--date-label",{"is-notice":We.notice}]},nt&&nt.label?[m("span",ue),m("span",{class:["vxe-input--date-label--extra",nt.important?"is-important":"",nt.className],style:nt.style},c.toValueString(nt.label))]:ue)],p=We.label;if(p){const g=c.toValueString(p).split(",");a.push(m("span",{class:["vxe-input--date-festival",We.important?"is-important":"",We.className],style:We.style},[g.length>1?m("span",{class:["vxe-input--date-festival--overlap",`overlap--${g.length}`]},g.map(x=>m("span",x.substring(0,3)))):m("span",{class:"vxe-input--date-festival--label"},g[0].substring(0,3))]))}return a}return ue},ma=()=>{const{multiple:R}=e,{datePanelType:ue,datePanelValue:Oe}=i,$e=I.value,Ke=D.value,We=Y.value,nt=pe.value,a="yyyyMMdd";return[m("table",{class:`vxe-input--date-${ue}-view`,cellspacing:0,cellpadding:0,border:0},[m("thead",[m("tr",Ke.map(p=>m("th",p.label)))]),m("tbody",We.map(p=>m("tr",p.map(g=>m("td",{class:{"is--prev":g.isPrev,"is--current":g.isCurrent,"is--now":g.isNow,"is--next":g.isNext,"is--disabled":hn(g),"is--selected":R?nt.some(x=>c.isDateSame(x,g.date,a)):c.isDateSame($e,g.date,a),"is--hover":c.isDateSame(Oe,g.date,a)},onClick:()=>no(g),onMouseenter:()=>Tn(g)},Vo(g,g.label))))))])]},or=()=>{const{multiple:R}=e,{datePanelType:ue,datePanelValue:Oe}=i,$e=I.value,Ke=G.value,We=X.value,nt=pe.value,a="yyyyMMdd";return[m("table",{class:`vxe-input--date-${ue}-view`,cellspacing:0,cellpadding:0,border:0},[m("thead",[m("tr",Ke.map(p=>m("th",p.label)))]),m("tbody",We.map(p=>{const g=R?p.some(k=>nt.some($=>c.isDateSame($,k.date,a))):p.some(k=>c.isDateSame($e,k.date,a)),x=p.some(k=>c.isDateSame(Oe,k.date,a));return m("tr",p.map(k=>m("td",{class:{"is--prev":k.isPrev,"is--current":k.isCurrent,"is--now":k.isNow,"is--next":k.isNext,"is--disabled":hn(k),"is--selected":g,"is--hover":x},onClick:()=>no(k),onMouseenter:()=>Tn(k)},Vo(k,k.label))))}))])]},ga=()=>{const{multiple:R}=e,{datePanelType:ue,datePanelValue:Oe}=i,$e=I.value,Ke=C.value,We=pe.value,nt="yyyyMM";return[m("table",{class:`vxe-input--date-${ue}-view`,cellspacing:0,cellpadding:0,border:0},[m("tbody",Ke.map(a=>m("tr",a.map(p=>m("td",{class:{"is--prev":p.isPrev,"is--current":p.isCurrent,"is--now":p.isNow,"is--next":p.isNext,"is--disabled":hn(p),"is--selected":R?We.some(g=>c.isDateSame(g,p.date,nt)):c.isDateSame($e,p.date,nt),"is--hover":c.isDateSame(Oe,p.date,nt)},onClick:()=>no(p),onMouseenter:()=>Tn(p)},Vo(p,y.i18n(`vxe.input.date.months.m${p.month}`)))))))])]},va=()=>{const{multiple:R}=e,{datePanelType:ue,datePanelValue:Oe}=i,$e=I.value,Ke=Ie.value,We=pe.value,nt="yyyyq";return[m("table",{class:`vxe-input--date-${ue}-view`,cellspacing:0,cellpadding:0,border:0},[m("tbody",Ke.map(a=>m("tr",a.map(p=>m("td",{class:{"is--prev":p.isPrev,"is--current":p.isCurrent,"is--now":p.isNow,"is--next":p.isNext,"is--disabled":hn(p),"is--selected":R?We.some(g=>c.isDateSame(g,p.date,nt)):c.isDateSame($e,p.date,nt),"is--hover":c.isDateSame(Oe,p.date,nt)},onClick:()=>no(p),onMouseenter:()=>Tn(p)},Vo(p,y.i18n(`vxe.input.date.quarters.q${p.quarter}`)))))))])]},ba=()=>{const{multiple:R}=e,{datePanelType:ue,datePanelValue:Oe}=i,$e=I.value,Ke=te.value,We=pe.value,nt="yyyy";return[m("table",{class:`vxe-input--date-${ue}-view`,cellspacing:0,cellpadding:0,border:0},[m("tbody",Ke.map(a=>m("tr",a.map(p=>m("td",{class:{"is--prev":p.isPrev,"is--current":p.isCurrent,"is--now":p.isNow,"is--next":p.isNext,"is--disabled":hn(p),"is--selected":R?We.some(g=>c.isDateSame(g,p.date,nt)):c.isDateSame($e,p.date,nt),"is--hover":c.isDateSame(Oe,p.date,nt)},onClick:()=>no(p),onMouseenter:()=>Tn(p)},Vo(p,p.year))))))])]},xa=()=>{const{datePanelType:R}=i;switch(R){case"week":return or();case"month":return ga();case"quarter":return va();case"year":return ba()}return ma()},sr=()=>{const{multiple:R}=e,{datePanelType:ue}=i,Oe=A.value,$e=Z.value,Ke=_e.value;return[m("div",{class:"vxe-input--date-picker-header"},[m("div",{class:"vxe-input--date-picker-type-wrapper"},[ue==="year"?m("span",{class:"vxe-input--date-picker-label"},Ke):m("span",{class:"vxe-input--date-picker-btn",onClick:Qo},Ke)]),m("div",{class:"vxe-input--date-picker-btn-wrapper"},[m("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":Oe}],onClick:sl},[m("i",{class:"vxe-icon-caret-left"})]),m("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Ts},[m("i",{class:"vxe-icon-dot"})]),m("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":$e}],onClick:Vn},[m("i",{class:"vxe-icon-caret-right"})]),R&&le.value?m("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[m("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:So},y.i18n("vxe.button.confirm"))]):null])]),m("div",{class:"vxe-input--date-picker-body"},xa())]},lr=()=>{const{datetimePanelValue:R}=i,ue=ee.value,Oe=ne.value,$e=ve.value,Ke=Ce.value;return[m("div",{class:"vxe-input--time-picker-header"},[m("span",{class:"vxe-input--time-picker-title"},ue),m("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:So},y.i18n("vxe.button.confirm"))]),m("div",{ref:b,class:"vxe-input--time-picker-body"},[m("ul",{class:"vxe-input--time-picker-hour-list"},Oe.map((We,nt)=>m("li",{key:nt,class:{"is--selected":R&&R.getHours()===We.value},onClick:a=>Eo(a,We)},We.label))),m("ul",{class:"vxe-input--time-picker-minute-list"},$e.map((We,nt)=>m("li",{key:nt,class:{"is--selected":R&&R.getMinutes()===We.value},onClick:a=>lo(a,We)},We.label))),m("ul",{class:"vxe-input--time-picker-second-list"},Ke.map((We,nt)=>m("li",{key:nt,class:{"is--selected":R&&R.getSeconds()===We.value},onClick:a=>ts(a,We)},We.label)))])]},ya=()=>{const{type:R,transfer:ue}=e,{inited:Oe,animatVisible:$e,visiblePanel:Ke,panelPlacement:We,panelStyle:nt}=i,a=f.value,p=L.value,g=[];return p?(R==="datetime"?g.push(m("div",{class:"vxe-input--panel-layout-wrapper"},[m("div",{class:"vxe-input--panel-left-wrapper"},sr()),m("div",{class:"vxe-input--panel-right-wrapper"},lr())])):R==="time"?g.push(m("div",{class:"vxe-input--panel-wrapper"},lr())):g.push(m("div",{class:"vxe-input--panel-wrapper"},sr())),m(nl,{to:"body",disabled:ue?!Oe:!0},[m("div",{ref:h,class:["vxe-table--ignore-clear vxe-input--panel",`type--${R}`,{[`size--${a}`]:a,"is--transfer":ue,"animat--leave":$e,"animat--enter":Ke}],placement:We,style:nt},g)])):null},Ca=()=>{const R=Te.value,ue=Ee.value;return m("span",{class:"vxe-input--number-suffix"},[m("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":R}],onMousedown:_n,onMouseup:yn,onMouseleave:yn},[m("i",{class:["vxe-input--number-prev-icon",y.icon.INPUT_PREV_NUM]})]),m("span",{class:["vxe-input--number-next is--next",{"is--disabled":ue}],onMousedown:_n,onMouseup:yn,onMouseleave:yn},[m("i",{class:["vxe-input--number-next-icon",y.icon.INPUT_NEXT_NUM]})])])},wa=()=>m("span",{class:"vxe-input--date-picker-suffix",onClick:Rs},[m("i",{class:["vxe-input--date-picker-icon",y.icon.INPUT_DATE]})]),il=()=>m("span",{class:"vxe-input--search-suffix",onClick:Gt},[m("i",{class:["vxe-input--search-icon",y.icon.INPUT_SEARCH]})]),ql=()=>{const{showPwd:R}=i;return m("span",{class:"vxe-input--password-suffix",onClick:$t},[m("i",{class:["vxe-input--password-icon",R?y.icon.INPUT_SHOW_PWD:y.icon.INPUT_PWD]})])},ir=()=>{const{prefixIcon:R}=e,ue=n.prefix,Oe=[];return ue?Oe.push(m("span",{class:"vxe-input--prefix-icon"},ue({}))):R&&Oe.push(m("i",{class:["vxe-input--prefix-icon",R]})),Oe.length?m("span",{class:"vxe-input--prefix",onClick:Xe},Oe):null},Ea=()=>{const{disabled:R,suffixIcon:ue}=e,{inputValue:Oe}=i,$e=n.suffix,Ke=ae.value,We=[];return $e?We.push(m("span",{class:"vxe-input--suffix-icon"},$e({}))):ue&&We.push(m("i",{class:["vxe-input--suffix-icon",ue]})),Ke&&We.push(m("i",{class:["vxe-input--clear-icon",y.icon.INPUT_CLEAR]})),We.length?m("span",{class:["vxe-input--suffix",{"is--clear":Ke&&!R&&!(Oe===""||c.eqNull(Oe))}],onClick:St},We):null},Ul=()=>{const{controls:R}=e,ue=w.value,Oe=L.value,$e=V.value,Ke=P.value;let We;return $e?We=ql():ue?R&&(We=Ca()):Oe?We=wa():Ke&&(We=il()),We?m("span",{class:"vxe-input--extra-suffix"},[We]):null};T={dispatchEvent(R,ue,Oe){o(R,Object.assign({$input:F,$event:Oe},ue))},focus(){const R=u.value;return i.isActivated=!0,R.focus(),fe()},blur(){return u.value.blur(),i.isActivated=!1,fe()},select(){return u.value.select(),i.isActivated=!1,fe()},showPanel:go,hidePanel:Je,updatePlacement:Cn},Object.assign(F,T),lt(()=>e.modelValue,R=>{i.inputValue=R,Tt()}),lt(()=>e.type,()=>{Object.assign(i,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),bt()}),lt(Pe,()=>{L.value&&(W(i.datePanelValue),i.inputValue=e.multiple?se.value:i.datePanelLabel)}),fe(()=>{ht.on(F,"mousewheel",nr),ht.on(F,"mousedown",tr),ht.on(F,"keydown",ha),ht.on(F,"blur",ll)}),an(()=>{yn(),ht.off(F,"mousewheel"),ht.off(F,"mousedown"),ht.off(F,"keydown"),ht.off(F,"blur")}),bt();const Gl=()=>{const{className:R,controls:ue,type:Oe,align:$e,showWordCount:Ke,countMethod:We,name:nt,disabled:a,readonly:p,autocomplete:g}=e,{inputValue:x,visiblePanel:k,isActivated:$}=i,j=f.value,Q=M.value,J=E.value,de=L.value,re=Se.value,De=we.value,Ve=ge.value,Le=xe.value,Be=[],Ne=ir(),je=Ea();Ne&&Be.push(Ne),Be.push(m("input",{ref:u,class:"vxe-input--inner",value:x,name:nt,type:Ve,placeholder:Le,maxlength:De,readonly:re,disabled:a,autocomplete:g,onKeydown:Wt,onKeyup:nn,onWheel:eo,onClick:Wl,onInput:ze,onChange:qe,onFocus:Qe,onBlur:It})),je&&Be.push(je),Be.push(Ul()),de&&Be.push(ya());let Fe=!1;return Ke&&["text","search"].includes(Oe)&&(Fe=!0,Be.push(m("span",{class:["vxe-input--count",{"is--error":Q}]},We?`${We({value:x})}`:`${J}${De?`/${De}`:""}`))),m("div",{ref:d,class:["vxe-input",`type--${Oe}`,R,{[`size--${j}`]:j,[`is--${$e}`]:$e,"is--controls":ue,"is--prefix":!!Ne,"is--suffix":!!je,"is--readonly":p,"is--visivle":k,"is--count":Fe,"is--disabled":a,"is--active":$}]},Be)};return F.renderVN=Gl,F},render(){return this.renderVN()}}),Kn=Mt({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>y.checkbox.size||y.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),f={xID:c.uniqueId(),props:e,context:t};let i={};const d=cn(e),u=ct("$xecheckboxgroup",null),h=Me(()=>u?c.includes(u.props.modelValue,e.label):e.modelValue===e.checkedValue),b=Me(()=>{if(e.disabled)return!0;if(u){const{props:T}=u,{computeIsMaximize:U}=u.getComputeMaps(),O=U.value,w=h.value;return T.disabled||O&&!w}return!1}),S=T=>{const{checkedValue:U,uncheckedValue:O}=e;if(!b.value){const E=T.target.checked,M=E?U:O,L={checked:E,value:M,label:e.label};u?u.handleChecked(L,T):(o("update:modelValue",M),i.dispatchEvent("change",L,T),s&&l&&s.triggerItemEvent(T,l.itemConfig.field,M))}};i={dispatchEvent(T,U,O){o(T,Object.assign({$checkbox:f,$event:O},U))}},Object.assign(f,i);const F=()=>{const T=d.value,U=b.value,O=h.value,w=e.indeterminate;return m("label",{class:["vxe-checkbox",{[`size--${T}`]:T,"is--indeterminate":w,"is--disabled":U,"is--checked":O}],title:e.title},[m("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:U,checked:O,onChange:S}),m("span",{class:["vxe-checkbox--icon",w?"vxe-icon-checkbox-indeterminate":O?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),m("span",{class:"vxe-checkbox--label"},n.default?n.default({}):Ut(e.content))])};return f.renderVN=F,f},render(){return this.renderVN()}});function rs(e){return e.visible!==!1}function by(){return c.uniqueId("opt_")}const Xs=Mt({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:()=>c.eqNull(y.select.placeholder)?y.i18n("vxe.base.pleaseSelect"):y.select.placeholder},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>y.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>y.select.size||y.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>y.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>y.select.transfer}},emits:["update:modelValue","change","clear","blur","focus"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),r=c.uniqueId(),f=cn(e),i=Vt({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),d=Ue(),u=Ue(),h=Ue(),b=Ue(),S=Ue(),F={refElem:d},T={xID:r,props:e,context:t,reactData:i,getRefMaps:()=>F};let U={};const O=Me(()=>e.optionProps||{}),w=Me(()=>e.optionGroupProps||{}),E=Me(()=>O.value.label||"label"),M=Me(()=>O.value.value||"value"),L=Me(()=>w.value.label||"label"),V=Me(()=>w.value.options||"options"),P=Me(()=>{const{modelValue:z,multiple:oe,max:Re}=e;return oe&&Re?(z?z.length:0)>=c.toNumber(Re):!1}),_=Me(()=>Object.assign({},y.select.optionConfig,e.optionConfig)),H=Me(()=>i.fullGroupList.some(z=>z.options&&z.options.length)),ae=Me(()=>c.toNumber(e.multiCharOverflow)),be=(z,oe)=>z&&(c.isString(z)&&(z=n[z]||null),c.isFunction(z))?Nt(z(oe)):[],ce=z=>{const{fullOptionList:oe,fullGroupList:Re}=i,He=H.value,ze=M.value;if(He)for(let qe=0;qe<Re.length;qe++){const Qe=Re[qe];if(Qe.options)for(let Xe=0;Xe<Qe.options.length;Xe++){const Ze=Qe.options[Xe];if(z===Ze[ze])return Ze}}return oe.find(qe=>z===qe[ze])},le=z=>{const{remoteValueList:oe}=i,Re=E.value,He=oe.find(qe=>z===qe.key),ze=He?He.result:null;return c.toValueString(ze?ze[Re]:z)},pe=z=>{const oe=E.value,Re=ce(z);return c.toValueString(Re?Re[oe]:z)},he=Me(()=>{const{modelValue:z,multiple:oe,remote:Re}=e,He=ae.value;if(z&&oe){const ze=c.isArray(z)?z:[z];return Re?ze.map(qe=>le(qe)).join(", "):ze.map(qe=>{const Qe=pe(qe);return He>0&&Qe.length>He?`${Qe.substring(0,He)}...`:Qe}).join(", ")}return Re?le(z):pe(z)}),se=()=>_.value.keyField||e.optionId||"_X_OPTION_KEY",B=z=>{const oe=z[se()];return oe?encodeURIComponent(oe):""},I=()=>{const{filterable:z,filterMethod:oe}=e,{fullOptionList:Re,fullGroupList:He,searchValue:ze}=i,qe=H.value,Qe=L.value,Xe=E.value;return qe?z&&oe?i.visibleGroupList=He.filter(Ze=>rs(Ze)&&oe({group:Ze,option:null,searchValue:ze})):z?i.visibleGroupList=He.filter(Ze=>rs(Ze)&&(!ze||`${Ze[Qe]}`.indexOf(ze)>-1)):i.visibleGroupList=He.filter(rs):z&&oe?i.visibleOptionList=Re.filter(Ze=>rs(Ze)&&oe({group:null,option:Ze,searchValue:ze})):z?i.visibleOptionList=Re.filter(Ze=>rs(Ze)&&(!ze||`${Ze[Xe]}`.indexOf(ze)>-1)):i.visibleOptionList=Re.filter(rs),fe()},A=()=>{const{fullOptionList:z,fullGroupList:oe}=i,Re=V.value,He=se(),ze=qe=>{B(qe)||(qe[He]=by())};oe.length?oe.forEach(qe=>{ze(qe),qe[Re]&&qe[Re].forEach(ze)}):z.length&&z.forEach(ze),I()},Z=z=>{const oe=M.value;z&&(i.currentOption=z,i.currentValue=z[oe])},ee=(z,oe)=>fe().then(()=>{if(z){const Re=b.value,ze=S.value.querySelector(`[optid='${B(z)}']`);if(Re&&ze){const qe=Re.offsetHeight,Qe=5;oe?ze.offsetTop+ze.offsetHeight-Re.scrollTop>qe&&(Re.scrollTop=ze.offsetTop+ze.offsetHeight-qe):(ze.offsetTop+Qe<Re.scrollTop||ze.offsetTop+Qe>Re.scrollTop+Re.clientHeight)&&(Re.scrollTop=ze.offsetTop-Qe)}}}),ye=()=>{i.panelIndex<Ao()&&(i.panelIndex=Co())},Pe=()=>fe().then(()=>{const{transfer:z,placement:oe}=e,{panelIndex:Re}=i,He=d.value,ze=S.value;if(ze&&He){const qe=He.offsetHeight,Qe=He.offsetWidth,Xe=ze.offsetHeight,Ze=ze.offsetWidth,Je=5,st={zIndex:Re},{boundingTop:St,boundingLeft:W,visibleHeight:Tt,visibleWidth:bt}=Io(He);let mt="bottom";if(z){let it=W,kt=St+qe;oe==="top"?(mt="top",kt=St-Xe):oe||(kt+Xe+Je>Tt&&(mt="top",kt=St-Xe),kt<Je&&(mt="bottom",kt=St+qe)),it+Ze+Je>bt&&(it-=it+Ze+Je-bt),it<Je&&(it=Je),Object.assign(st,{left:`${it}px`,top:`${kt}px`,minWidth:`${Qe}px`})}else oe==="top"?(mt="top",st.bottom=`${qe}px`):oe||St+qe+Xe>Tt&&St-qe-Xe>Je&&(mt="top",st.bottom=`${qe}px`);return i.panelStyle=st,i.panelPlacement=mt,fe()}});let ke;const _e=()=>{const{loading:z,disabled:oe,filterable:Re}=e;!z&&!oe&&(clearTimeout(ke),i.inited||(i.inited=!0),i.isActivated=!0,i.animatVisible=!0,Re&&I(),setTimeout(()=>{const{modelValue:He,multiple:ze}=e,qe=ce(ze&&He?He[0]:He);i.visiblePanel=!0,qe&&(Z(qe),ee(qe)),Y()},10),ye(),Pe())},Ae=()=>{i.searchValue="",i.searchLoading=!1,i.visiblePanel=!1,ke=window.setTimeout(()=>{i.animatVisible=!1},350)},q=(z,oe)=>{oe!==e.modelValue&&(o("update:modelValue",oe),U.dispatchEvent("change",{value:oe},z),s&&l&&s.triggerItemEvent(z,l.itemConfig.field,oe))},D=(z,oe)=>{i.remoteValueList=[],q(z,oe),U.dispatchEvent("clear",{value:oe},z)},G=(z,oe)=>{D(oe,null),Ae()},te=(z,oe,Re)=>{const{modelValue:He,multiple:ze}=e,{remoteValueList:qe}=i;if(ze){let Qe;He?He.indexOf(oe)===-1?Qe=He.concat([oe]):Qe=He.filter(Ze=>Ze!==oe):Qe=[oe];const Xe=qe.find(Ze=>Ze.key===oe);Xe?Xe.result=Re:qe.push({key:oe,result:Re}),q(z,Qe)}else i.remoteValueList=[{key:oe,result:Re}],q(z,oe),Ae()},me=z=>{const{disabled:oe}=e,{visiblePanel:Re}=i;if(!oe&&Re){const He=S.value;yt(z,He).flag?Pe():Ae()}},Ie=z=>{const{disabled:oe}=e,{visiblePanel:Re}=i;if(!oe){const He=d.value,ze=S.value;i.isActivated=yt(z,He).flag||yt(z,ze).flag,Re&&!i.isActivated&&Ae()}},v=(z,oe)=>{const{visibleOptionList:Re,visibleGroupList:He}=i,ze=H.value,qe=M.value,Qe=V.value;let Xe,Ze,Je,st;if(ze)for(let St=0;St<He.length;St++){const W=He[St],Tt=W[Qe],bt=W.disabled;if(Tt)for(let mt=0;mt<Tt.length;mt++){const it=Tt[mt],kt=rs(it),xt=bt||it.disabled;if(!Xe&&!xt&&(Xe=it),st&&kt&&!xt&&(Je=it,!oe))return{offsetOption:Je};if(z===it[qe]){if(st=it,oe)return{offsetOption:Ze}}else kt&&!xt&&(Ze=it)}}else for(let St=0;St<Re.length;St++){const W=Re[St],Tt=W.disabled;if(!Xe&&!Tt&&(Xe=W),st&&!Tt&&(Je=W,!oe))return{offsetOption:Je};if(z===W[qe]){if(st=W,oe)return{offsetOption:Ze}}else Tt||(Ze=W)}return{firstOption:Xe}},C=z=>{const{clearable:oe,disabled:Re}=e,{visiblePanel:He,currentValue:ze,currentOption:qe}=i;if(!Re){const Qe=vt(z,dt.TAB),Xe=vt(z,dt.ENTER),Ze=vt(z,dt.ESCAPE),Je=vt(z,dt.ARROW_UP),st=vt(z,dt.ARROW_DOWN),St=vt(z,dt.DELETE),W=vt(z,dt.SPACEBAR);if(Qe&&(i.isActivated=!1),He)if(Ze||Qe)Ae();else if(Xe)z.preventDefault(),z.stopPropagation(),te(z,ze,qe);else if(Je||st){z.preventDefault();let{firstOption:Tt,offsetOption:bt}=v(ze,Je);!bt&&!ce(ze)&&(bt=Tt),Z(bt),ee(bt,st)}else W&&z.preventDefault();else(Je||st||Xe||W)&&i.isActivated&&(z.preventDefault(),_e());i.isActivated&&St&&oe&&D(z,null)}},N=()=>{Ae()},Y=()=>{e.filterable&&fe(()=>{const z=h.value;z&&z.focus()})},X=z=>{e.disabled||(i.isActivated=!0),U.dispatchEvent("focus",{},z)},ne=z=>{i.isActivated=!1,U.dispatchEvent("blur",{},z)},ve=z=>{i.searchValue=z},Ce=()=>{i.isActivated=!0},Se=z=>{const{$event:oe}=z;vt(oe,dt.ENTER)&&(oe.preventDefault(),oe.stopPropagation())},ge=c.debounce(function(){const{remote:z,remoteMethod:oe}=e,{searchValue:Re}=i;z&&oe?(i.searchLoading=!0,Promise.resolve(oe({searchValue:Re})).then(()=>fe()).catch(()=>fe()).finally(()=>{i.searchLoading=!1,I()})):I()},350,{trailing:!0}),xe=z=>{const{$event:oe}=z;oe.preventDefault(),i.visiblePanel?Ae():_e()},we=(z,oe,Re)=>!!(oe.disabled||Re&&Re.disabled||P.value&&!z),K=(z,oe)=>{const{optionKey:Re,modelValue:He,multiple:ze}=e,{currentValue:qe}=i,Qe=_.value,Xe=E.value,Ze=M.value,Je=H.value,{useKey:st}=Qe,St=n.option;return z.map((W,Tt)=>{const{slots:bt,className:mt}=W,it=W[Ze],kt=ze?He&&He.indexOf(it)>-1:He===it,xt=!Je||rs(W),Ft=we(kt,W,oe),wt=B(W),It=bt?bt.default:null,$t={option:W,group:null,$select:T};return xt?m("div",{key:st||Re?wt:Tt,class:["vxe-select-option",mt?c.isFunction(mt)?mt($t):mt:"",{"is--disabled":Ft,"is--selected":kt,"is--hover":qe===it}],optid:wt,onMousedown:Gt=>{Gt.button===0&&Gt.stopPropagation()},onClick:Gt=>{Ft||te(Gt,it,W)},onMouseenter:()=>{Ft||Z(W)}},St?be(St,$t):It?be(It,$t):en(Ut(W[Xe]))):null})},ie=()=>{const{optionKey:z}=e,{visibleGroupList:oe}=i,Re=_.value,He=L.value,ze=V.value,{useKey:qe}=Re,Qe=n.option;return oe.map((Xe,Ze)=>{const{slots:Je,className:st}=Xe,St=B(Xe),W=Xe.disabled,Tt=Je?Je.default:null,bt={option:Xe,group:Xe,$select:T};return m("div",{key:qe||z?St:Ze,class:["vxe-optgroup",st?c.isFunction(st)?st(bt):st:"",{"is--disabled":W}],optid:St},[m("div",{class:"vxe-optgroup--title"},Qe?be(Qe,bt):Tt?be(Tt,bt):Ut(Xe[He])),m("div",{class:"vxe-optgroup--wrapper"},K(Xe[ze]||[],Xe))])})},Ee=()=>{const{visibleGroupList:z,visibleOptionList:oe,searchLoading:Re}=i,He=H.value;if(Re)return[m("div",{class:"vxe-select--search-loading"},[m("i",{class:["vxe-select--search-icon",y.icon.SELECT_LOADED]}),m("span",{class:"vxe-select--search-text"},y.i18n("vxe.select.loadingText"))])];if(He){if(z.length)return ie()}else if(oe.length)return K(oe);return[m("div",{class:"vxe-select--empty-placeholder"},e.emptyText||y.i18n("vxe.select.emptyText"))]};U={dispatchEvent(z,oe,Re){o(z,Object.assign({$select:T,$event:Re},oe))},isPanelVisible(){return i.visiblePanel},togglePanel(){return i.visiblePanel?Ae():_e(),fe()},hidePanel(){return i.visiblePanel&&Ae(),fe()},showPanel(){return i.visiblePanel||_e(),fe()},refreshOption:I,focus(){const z=u.value;return i.isActivated=!0,z.blur(),fe()},blur(){return u.value.blur(),i.isActivated=!1,fe()}},Object.assign(T,U),lt(()=>i.staticOptions,z=>{z.some(oe=>oe.options&&oe.options.length)?(i.fullOptionList=[],i.fullGroupList=z):(i.fullGroupList=[],i.fullOptionList=z||[]),A()}),lt(()=>e.options,z=>{i.fullGroupList=[],i.fullOptionList=z||[],A()}),lt(()=>e.optionGroups,z=>{i.fullOptionList=[],i.fullGroupList=z||[],A()}),pn(()=>{fe(()=>{const{options:z,optionGroups:oe}=e;oe?i.fullGroupList=oe:z&&(i.fullOptionList=z),A()}),ht.on(T,"mousewheel",me),ht.on(T,"mousedown",Ie),ht.on(T,"keydown",C),ht.on(T,"blur",N)}),an(()=>{ht.off(T,"mousewheel"),ht.off(T,"mousedown"),ht.off(T,"keydown"),ht.off(T,"blur")});const Te=()=>{const{className:z,popupClassName:oe,transfer:Re,disabled:He,loading:ze,filterable:qe}=e,{inited:Qe,isActivated:Xe,visiblePanel:Ze}=i,Je=f.value,st=he.value,St=n.default,W=n.header,Tt=n.footer,bt=n.prefix;return m("div",{ref:d,class:["vxe-select",z?c.isFunction(z)?z({$select:T}):z:"",{[`size--${Je}`]:Je,"is--visivle":Ze,"is--disabled":He,"is--filter":qe,"is--loading":ze,"is--active":Xe}]},[m("div",{class:"vxe-select-slots",ref:"hideOption"},St?St({}):[]),m(Ko,{ref:u,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:He,type:"text",prefixIcon:e.prefixIcon,suffixIcon:ze?y.icon.SELECT_LOADED:Ze?y.icon.SELECT_OPEN:y.icon.SELECT_CLOSE,modelValue:st,onClear:G,onClick:xe,onFocus:X,onBlur:ne,onSuffixClick:xe},bt?{prefix:()=>bt({})}:{}),m(nl,{to:"body",disabled:Re?!Qe:!0},[m("div",{ref:S,class:["vxe-table--ignore-clear vxe-select--panel",oe?c.isFunction(oe)?oe({$select:T}):oe:"",{[`size--${Je}`]:Je,"is--transfer":Re,"animat--leave":!ze&&i.animatVisible,"animat--enter":!ze&&Ze}],placement:i.panelPlacement,style:i.panelStyle},Qe?[qe?m("div",{class:"vxe-select--panel-search"},[m(Ko,{ref:h,class:"vxe-select-search--input",modelValue:i.searchValue,clearable:!0,placeholder:y.i18n("vxe.select.search"),prefixIcon:y.icon.INPUT_SEARCH,"onUpdate:modelValue":ve,onFocus:Ce,onKeydown:Se,onChange:ge,onSearch:ge})]):Et(),m("div",{class:"vxe-select--panel-wrapper"},[W?m("div",{class:"vxe-select--panel-header"},W({})):Et(),m("div",{class:"vxe-select--panel-body"},[m("div",{ref:b,class:"vxe-select-option--wrapper"},Ee())]),Tt?m("div",{class:"vxe-select--panel-footer"},Tt({})):Et()])]:[])])])};return T.renderVN=Te,qt("$xeselect",T),T},render(){return this.renderVN()}}),wi=Mt({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ct("$xetable",{}),{computeExportOpts:n,computePrintOpts:o}=t.getComputeMaps(),s=Vt({isAll:!1,isIndeterminate:!1,loading:!1}),l=Ue(),r=Ue(),f=Ue(),i=Me(()=>{const{storeData:P}=e;return P.columns.every(_=>_.checked)}),d=Me(()=>{const{defaultOptions:P}=e;return["html","xml","xlsx","pdf"].indexOf(P.type)>-1}),u=Me(()=>{const{storeData:P,defaultOptions:_}=e;return!_.original&&_.mode==="current"&&(P.isPrint||["html","xlsx"].indexOf(_.type)>-1)}),h=Me(()=>{const{defaultOptions:P}=e;return!P.original&&["xlsx"].indexOf(P.type)>-1}),b=P=>{const{storeData:_}=e,H=c.findTree(_.columns,ae=>ae===P);if(H&&H.parent){const{parent:ae}=H;ae.children&&ae.children.length&&(ae.checked=ae.children.every(be=>be.checked),ae.halfChecked=!ae.checked&&ae.children.some(be=>be.checked||be.halfChecked),b(ae))}},S=()=>{const{storeData:P}=e,_=P.columns;s.isAll=_.every(H=>H.disabled||H.checked),s.isIndeterminate=!s.isAll&&_.some(H=>!H.disabled&&(H.checked||H.halfChecked))},F=P=>{const _=!P.checked;c.eachTree([P],H=>{H.checked=_,H.halfChecked=!1}),b(P),S()},T=()=>{const{storeData:P}=e,_=!s.isAll;c.eachTree(P.columns,H=>{H.disabled||(H.checked=_,H.halfChecked=!1)}),s.isAll=_,S()},U=()=>{fe(()=>{const P=r.value,_=f.value,H=l.value,ae=P||_||H;ae&&ae.focus()}),S()},O=()=>{const{storeData:P,defaultOptions:_}=e,{hasMerge:H,columns:ae}=P,be=i.value,ce=u.value,le=c.searchTree(ae,pe=>pe.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},_,{columns:le,isMerge:H&&ce&&be?_.isMerge:!1})},w=()=>{const{storeData:P}=e,_=o.value;P.visible=!1,t.print(Object.assign({},_,O()))},E=()=>{const{storeData:P}=e,_=n.value;s.loading=!0,t.exportData(Object.assign({},_,O())).then(()=>{s.loading=!1,P.visible=!1}).catch(()=>{s.loading=!1})},M=()=>{const{storeData:P}=e;P.visible=!1},L=()=>{const{storeData:P}=e;P.isPrint?w():E()};return()=>{const{defaultOptions:P,storeData:_}=e,{isAll:H,isIndeterminate:ae}=s,{hasTree:be,hasMerge:ce,isPrint:le,hasColgroup:pe}=_,{isHeader:he}=P,se=[],B=i.value,I=d.value,A=u.value,Z=h.value;return c.eachTree(_.columns,ee=>{const ye=en(ee.getTitle(),1),Pe=ee.children&&ee.children.length,ke=ee.checked,_e=ee.halfChecked;se.push(m("li",{class:["vxe-export--panel-column-option",`level--${ee.level}`,{"is--group":Pe,"is--checked":ke,"is--indeterminate":_e,"is--disabled":ee.disabled}],title:ye,onClick:()=>{ee.disabled||F(ee)}},[m("span",{class:["vxe-checkbox--icon",_e?y.icon.TABLE_CHECKBOX_INDETERMINATE:ke?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},ye)]))}),m(Cs,{modelValue:_.visible,title:y.i18n(le?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:s.loading,"onUpdate:modelValue"(ee){_.visible=ee},onShow:U},{default:()=>m("div",{class:"vxe-export--panel"},[m("table",{cellspacing:0,cellpadding:0,border:0},[m("tbody",[[le?Et():m("tr",[m("td",y.i18n("vxe.export.expName")),m("td",[m(Ko,{ref:r,modelValue:P.filename,type:"text",clearable:!0,placeholder:y.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(ee){P.filename=ee}})])]),le?Et():m("tr",[m("td",y.i18n("vxe.export.expType")),m("td",[m(Xs,{modelValue:P.type,options:_.typeList.map(ee=>({value:ee.value,label:y.i18n(ee.label)})),"onUpdate:modelValue"(ee){P.type=ee}})])]),le||I?m("tr",[m("td",y.i18n("vxe.export.expSheetName")),m("td",[m(Ko,{ref:f,modelValue:P.sheetName,type:"text",clearable:!0,placeholder:y.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(ee){P.sheetName=ee}})])]):Et(),m("tr",[m("td",y.i18n("vxe.export.expMode")),m("td",[m(Xs,{modelValue:P.mode,options:_.modeList.map(ee=>({value:ee.value,label:y.i18n(ee.label)})),"onUpdate:modelValue"(ee){P.mode=ee}})])]),m("tr",[m("td",[y.i18n("vxe.export.expColumn")]),m("td",[m("div",{class:"vxe-export--panel-column"},[m("ul",{class:"vxe-export--panel-column-header"},[m("li",{class:["vxe-export--panel-column-option",{"is--checked":H,"is--indeterminate":ae}],title:y.i18n("vxe.table.allTitle"),onClick:T},[m("span",{class:["vxe-checkbox--icon",ae?y.icon.TABLE_CHECKBOX_INDETERMINATE:H?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},y.i18n("vxe.export.expCurrentColumn"))])]),m("ul",{class:"vxe-export--panel-column-body"},se)])])]),m("tr",[m("td",y.i18n("vxe.export.expOpts")),m("td",[m("div",{class:"vxe-export--panel-option-row"},[m(Kn,{modelValue:P.isHeader,title:y.i18n("vxe.export.expHeaderTitle"),content:y.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(ee){P.isHeader=ee}}),m(Kn,{modelValue:P.isFooter,disabled:!_.hasFooter,title:y.i18n("vxe.export.expFooterTitle"),content:y.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(ee){P.isFooter=ee}}),m(Kn,{modelValue:P.original,title:y.i18n("vxe.export.expOriginalTitle"),content:y.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(ee){P.original=ee}})]),m("div",{class:"vxe-export--panel-option-row"},[m(Kn,{modelValue:he&&pe&&A?P.isColgroup:!1,title:y.i18n("vxe.export.expColgroupTitle"),disabled:!he||!pe||!A,content:y.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(ee){P.isColgroup=ee}}),m(Kn,{modelValue:ce&&A&&B?P.isMerge:!1,title:y.i18n("vxe.export.expMergeTitle"),disabled:!ce||!A||!B,content:y.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(ee){P.isMerge=ee}}),le?Et():m(Kn,{modelValue:Z?P.useStyle:!1,disabled:!Z,title:y.i18n("vxe.export.expUseStyleTitle"),content:y.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(ee){P.useStyle=ee}}),m(Kn,{modelValue:be?P.isAllExpand:!1,disabled:!be,title:y.i18n("vxe.export.expAllExpandTitle"),content:y.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(ee){P.isAllExpand=ee}})])])])]])]),m("div",{class:"vxe-export--panel-btns"},[m(On,{content:y.i18n("vxe.export.expCancel"),onClick:M}),m(On,{ref:l,status:"primary",content:y.i18n(le?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:L})])])})}}}),Zs=Mt({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>y.radio.strict},size:{type:String,default:()=>y.radio.size||y.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),f={xID:c.uniqueId(),props:e,context:t},i=cn(e),d=ct("$xeradiogroup",null);let u={};const h=Me(()=>e.disabled||d&&d.props.disabled),b=Me(()=>d?d.name:e.name),S=Me(()=>d?d.props.strict:e.strict),F=Me(()=>{const{modelValue:E,label:M}=e;return d?d.props.modelValue===M:E===M}),T=(E,M)=>{d?d.handleChecked({label:E},M):(o("update:modelValue",E),u.dispatchEvent("change",{label:E},M),s&&l&&s.triggerItemEvent(M,l.itemConfig.field,E))},U=E=>{h.value||T(e.label,E)},O=E=>{const M=h.value,L=S.value;!M&&!L&&e.label===(d?d.props.modelValue:e.modelValue)&&T(null,E)};u={dispatchEvent(E,M,L){o(E,Object.assign({$radio:f,$event:L},M))}},Object.assign(f,u);const w=()=>{const E=i.value,M=h.value,L=b.value,V=F.value;return m("label",{class:["vxe-radio",{[`size--${E}`]:E,"is--checked":V,"is--disabled":M}],title:e.title},[m("input",{class:"vxe-radio--input",type:"radio",name:L,checked:V,disabled:M,onChange:U,onClick:O}),m("span",{class:["vxe-radio--icon",V?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),m("span",{class:"vxe-radio--label"},n.default?n.default({}):Ut(e.content))])};return f.renderVN=w,f},render(){return this.renderVN()}}),Ml=Mt({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>y.radioButton.strict},size:{type:String,default:()=>y.radioButton.size||y.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),r=c.uniqueId(),f=cn(e),i={xID:r,props:e,context:t};let d={};const u=ct("$xeradiogroup",null),h=Me(()=>e.disabled||u&&u.props.disabled),b=Me(()=>u?u.name:null),S=Me(()=>u?u.props.strict:e.strict),F=Me(()=>{const{modelValue:E,label:M}=e;return u?u.props.modelValue===M:E===M});d={dispatchEvent(E,M,L){o(E,Object.assign({$radioButton:i,$event:L},M))}},Object.assign(i,d);const T=(E,M)=>{u?u.handleChecked({label:E},M):(o("update:modelValue",E),d.dispatchEvent("change",{label:E},M),s&&l&&s.triggerItemEvent(M,l.itemConfig.field,E))},U=E=>{h.value||T(e.label,E)},O=E=>{const M=h.value,L=S.value;!M&&!L&&e.label===(u?u.props.modelValue:e.modelValue)&&T(null,E)},w=()=>{const E=f.value,M=h.value,L=b.value,V=F.value;return m("label",{class:["vxe-radio","vxe-radio-button",{[`size--${E}`]:E,"is--disabled":M}],title:e.title},[m("input",{class:"vxe-radio--input",type:"radio",name:L,checked:V,disabled:M,onChange:U,onClick:O}),m("span",{class:"vxe-radio--label"},n.default?n.default({}):Ut(e.content))])};return Object.assign(i,{renderVN:w,dispatchEvent}),w}}),Js=Mt({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>y.radioGroup.strict},size:{type:String,default:()=>y.radioGroup.size||y.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),f={xID:c.uniqueId(),props:e,context:t,name:c.uniqueId("xegroup_")},i=Me(()=>e.optionProps||{}),d=Me(()=>i.value.label||"label"),u=Me(()=>i.value.value||"value"),h=Me(()=>i.value.disabled||"disabled");let b={};cn(e);const S={handleChecked(T,U){o("update:modelValue",T.label),b.dispatchEvent("change",T),s&&l&&s.triggerItemEvent(U,l.itemConfig.field,T.label)}};b={dispatchEvent(T,U,O){o(T,Object.assign({$radioGroup:f,$event:O},U))}};const F=()=>{const{options:T,type:U}=e,O=n.default,w=u.value,E=d.value,M=h.value,L=U==="button"?Ml:Zs;return m("div",{class:"vxe-radio-group"},O?O({}):T?T.map(V=>m(L,{label:V[w],content:V[E],disabled:V[M]})):[])};return Object.assign(f,S,{renderVN:F,dispatchEvent}),qt("$xeradiogroup",f),F}}),Ei=Mt({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ct("$xetable",{}),{computeImportOpts:n}=t.getComputeMaps(),o=Vt({loading:!1}),s=Ue(),l=Me(()=>{const{storeData:F}=e;return`${F.filename}.${F.type}`}),r=Me(()=>{const{storeData:F}=e;return F.file&&F.type}),f=Me(()=>{const{storeData:F}=e,{type:T,typeList:U}=F;if(T){const O=c.find(U,w=>T===w.value);return O?y.i18n(O.label):"*.*"}return`*.${U.map(O=>O.value).join(", *.")}`}),i=()=>{const{storeData:F}=e;Object.assign(F,{filename:"",sheetName:"",type:""})},d=()=>{const{storeData:F,defaultOptions:T}=e;t.readFile(T).then(U=>{const{file:O}=U;Object.assign(F,ru(O),{file:O})}).catch(U=>U)},u=()=>{fe(()=>{const F=s.value;F&&F.focus()})},h=()=>{const{storeData:F}=e;F.visible=!1},b=()=>{const{storeData:F,defaultOptions:T}=e,U=n.value;o.loading=!0,t.importByFile(F.file,Object.assign({},U,T)).then(()=>{o.loading=!1,F.visible=!1}).catch(()=>{o.loading=!1})};return()=>{const{defaultOptions:F,storeData:T}=e,U=l.value,O=r.value,w=f.value;return m(Cs,{modelValue:T.visible,title:y.i18n("vxe.import.impTitle"),className:"vxe-table-import-popup-wrapper",width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:o.loading,"onUpdate:modelValue"(E){T.visible=E},onShow:u},{default:()=>m("div",{class:"vxe-export--panel"},[m("table",{cellspacing:0,cellpadding:0,border:0},[m("tbody",[m("tr",[m("td",y.i18n("vxe.import.impFile")),m("td",[O?m("div",{class:"vxe-import-selected--file",title:U},[m("span",U),m("i",{class:y.icon.INPUT_CLEAR,onClick:i})]):m("button",{ref:s,class:"vxe-import-select--file",onClick:d},y.i18n("vxe.import.impSelect"))])]),m("tr",[m("td",y.i18n("vxe.import.impType")),m("td",w)]),m("tr",[m("td",y.i18n("vxe.import.impOpts")),m("td",[m(Js,{modelValue:F.mode,"onUpdate:modelValue"(E){F.mode=E}},{default:()=>T.modeList.map(E=>m(Zs,{label:E.value,content:y.i18n(E.label)}))})])])])]),m("div",{class:"vxe-export--panel-btns"},[m(On,{content:y.i18n("vxe.import.impCancel"),onClick:h}),m(On,{status:"primary",disabled:!O,content:y.i18n("vxe.import.impConfirm"),onClick:b})])])})}}});let fl,as,An;const xy='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Tf(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function gu(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function fm(e,t){const{style:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${xy}</style>`,n?`<style>${n}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const Hr=e=>{const t=Object.assign({},e);return fl||(fl=document.createElement("form"),as=document.createElement("input"),fl.className="vxe-table--file-form",as.name="file",as.type="file",fl.appendChild(as),document.body.appendChild(fl)),new Promise((n,o)=>{const s=t.types||[],l=!s.length||s.some(r=>r==="*");as.multiple=!!t.multiple,as.accept=l?"":`.${s.join(", .")}`,as.onchange=r=>{const{files:f}=r.target,i=f[0];let d="";if(!l)for(let u=0;u<f.length;u++){const{type:h}=ru(f[u]);if(!c.includes(s,h)){d=h;break}}d?(t.message!==!1&&tt.modal.message({content:y.i18n("vxe.error.notType",[d]),status:"error"}),o({status:!1,files:f,file:i})):n({status:!0,files:f,file:i})},fl.reset(),as.click()})};function pm(){if(An){if(An.parentNode){try{An.contentDocument.write("")}catch{}An.parentNode.removeChild(An)}An=null}}function Rf(){An.parentNode||document.body.appendChild(An)}function yy(){requestAnimationFrame(pm)}function kc(e,t,n=""){const{beforePrintMethod:o}=t;o&&(n=o({content:n,options:t,$table:e})||""),n=fm(t,n);const s=gu(n,t);Jn.msie?(pm(),An=Tf(),Rf(),An.contentDocument.write(n),An.contentDocument.execCommand("print")):(An||(An=Tf(),An.onload=l=>{l.target.src&&(l.target.contentWindow.onafterprint=yy,l.target.contentWindow.print())}),Rf(),An.src=URL.createObjectURL(s))}const zr=e=>{const{filename:t,type:n,content:o}=e,s=`${t}.${n}`;if(window.Blob){const l=o instanceof Blob?o:gu(c.toValueString(o),e);if(navigator.msSaveBlob)navigator.msSaveBlob(l,s);else{const r=URL.createObjectURL(l),f=document.createElement("a");f.target="_blank",f.download=s,f.href=r,document.body.appendChild(f),f.click(),requestAnimationFrame(()=>{f.parentNode&&f.parentNode.removeChild(f),URL.revokeObjectURL(r)})}return Promise.resolve()}return Promise.reject(new Error(lu("vxe.error.notExp")))};let pl;const Cy="\uFEFF",$s=`\r
`;function Mf(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const hm=e=>{const t=[];return e.forEach(n=>{n.childNodes&&n.childNodes.length?(t.push(n),t.push(...hm(n.childNodes))):t.push(n)}),t},wy=e=>{let t=1;const n=(l,r)=>{if(r&&(l._level=r._level+1,t<l._level&&(t=l._level)),l.childNodes&&l.childNodes.length){let f=0;l.childNodes.forEach(i=>{n(i,l),f+=i._colSpan}),l._colSpan=f}else l._colSpan=1};e.forEach(l=>{l._level=1,n(l)});const o=[];for(let l=0;l<t;l++)o.push([]);return hm(e).forEach(l=>{l.childNodes&&l.childNodes.length?l._rowSpan=1:l._rowSpan=t-l._level+1,o[l._level-1].push(l)}),o};function Ey(e){return e===!0?"full":e||"default"}function hl(e){return e==="TRUE"||e==="true"||e===!0}function wr(e,t){const{footerFilterMethod:n}=e;return n?t.filter((o,s)=>n({items:o,$rowIndex:s})):t}function Sy(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function ml(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Yn(e,t){return e.getElementsByTagName(t)}function kf(e){return`#${e}@${c.uniqueId()}`}function mm(e,t){return e.replace(/#\d+@\d+/g,n=>c.hasOwnProp(t,n)?t[n]:n)}function If(e,t){return mm(e,t).replace(/^"+$/g,o=>'"'.repeat(Math.ceil(o.length/2)))}function gm(e,t,n){const o=t.split($s),s=[];let l=[];if(o.length){const r={},f=Date.now();o.forEach(i=>{if(i){const d={};i=i.replace(/("")|(\n)/g,(h,b)=>{const S=kf(f);return r[S]=b?'"':`
`,S}).replace(/"(.*?)"/g,(h,b)=>{const S=kf(f);return r[S]=mm(b,r),S});const u=i.split(n);l.length?(u.forEach((h,b)=>{b<l.length&&(d[l[b]]=If(h.trim(),r))}),s.push(d)):l=u.map(h=>If(h.trim(),r))}})}return{fields:l,rows:s}}function Oy(e,t){return gm(e,t,",")}function Ty(e,t){return gm(e,t,"	")}function Ry(e,t){const o=new DOMParser().parseFromString(t,"text/html"),s=Yn(o,"body"),l=[],r=[];if(s.length){const f=Yn(s[0],"table");if(f.length){const i=Yn(f[0],"thead");if(i.length){c.arrayEach(Yn(i[0],"tr"),u=>{c.arrayEach(Yn(u,"th"),h=>{r.push(h.textContent)})});const d=Yn(f[0],"tbody");d.length&&c.arrayEach(Yn(d[0],"tr"),u=>{const h={};c.arrayEach(Yn(u,"td"),(b,S)=>{r[S]&&(h[r[S]]=b.textContent||"")}),l.push(h)})}}}return{fields:r,rows:l}}function My(e,t){const o=new DOMParser().parseFromString(t,"application/xml"),s=Yn(o,"Worksheet"),l=[],r=[];if(s.length){const f=Yn(s[0],"Table");if(f.length){const i=Yn(f[0],"Row");i.length&&(c.arrayEach(Yn(i[0],"Cell"),d=>{r.push(d.textContent)}),c.arrayEach(i,(d,u)=>{if(u){const h={},b=Yn(d,"Cell");c.arrayEach(b,(S,F)=>{r[F]&&(h[r[F]]=S.textContent)}),l.push(h)}}))}}return{fields:r,rows:l}}function Df(e){c.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}function ky(e,t){const n=[];return e.forEach(o=>{const s=o.property;s&&n.push(s)}),t.some(o=>n.indexOf(o)>-1)}const Iy=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],Dy={setupTable(e){const{props:t,reactData:n,internalData:o}=e,{computeTreeOpts:s,computePrintOpts:l,computeExportOpts:r,computeImportOpts:f,computeCustomOpts:i,computeSeqOpts:d,computeRadioOpts:u,computeCheckboxOpts:h,computeColumnOpts:b}=e.getComputeMaps(),S=ct("$xegrid",null),F=B=>{const I=s.value,A=I.children||I.childrenField;return B[A]&&B[A].length},T=(B,I,A,Z)=>{const ye=d.value.seqMethod||A.seqMethod;return ye?ye({row:B,rowIndex:e.getRowIndex(B),$rowIndex:I,column:A,columnIndex:e.getColumnIndex(A),$columnIndex:Z}):e.getRowSeq(B)};function U(B,I){const A=b.value,Z=I.headerExportMethod||A.headerExportMethod;return Z?Z({column:I,options:B,$table:e}):(B.original?I.property:I.getTitle())||""}const O=B=>c.isBoolean(B)?B?"TRUE":"FALSE":B,w=(B,I,A)=>{const{isAllExpand:Z,mode:ee}=B,{treeConfig:ye}=t,Pe=u.value,ke=h.value,_e=s.value,Ae=b.value;if(pl||(pl=document.createElement("div")),ye){const q=_e.children||_e.childrenField,D=[],G=new Map;return c.eachTree(A,(te,me,Ie,v,C,N)=>{const Y=te._row||te,X=C&&C._row?C._row:C;if(Z||!X||G.has(X)&&e.isTreeExpandByRow(X)){const ne=F(Y),ve={_row:Y,_level:N.length-1,_hasChild:ne,_expand:ne&&e.isTreeExpandByRow(Y)};I.forEach((Ce,Se)=>{let ge="";const xe=Ce.editRender||Ce.cellRender;let we=Ce.exportMethod;if(!we&&xe&&xe.name){const K=tt.renderer.get(xe.name);K&&(we=K.exportMethod)}if(we||(we=Ae.exportMethod),we)ge=we({$table:e,row:Y,column:Ce,options:B});else switch(Ce.type){case"seq":ge=ee==="all"?v.map((K,ie)=>ie%2===0?Number(K)+1:".").join(""):T(Y,me,Ce,Se);break;case"checkbox":ge=O(e.isCheckedByCheckboxRow(Y)),ve._checkboxLabel=ke.labelField?c.get(Y,ke.labelField):"",ve._checkboxDisabled=ke.checkMethod&&!ke.checkMethod({row:Y});break;case"radio":ge=O(e.isCheckedByRadioRow(Y)),ve._radioLabel=Pe.labelField?c.get(Y,Pe.labelField):"",ve._radioDisabled=Pe.checkMethod&&!Pe.checkMethod({row:Y});break;default:if(B.original)ge=po(Y,Ce);else if(ge=e.getCellLabel(Y,Ce),Ce.type==="html")pl.innerHTML=ge,ge=pl.innerText.trim();else{const K=e.getCell(Y,Ce);K&&(ge=K.innerText.trim())}}ve[Ce.id]=c.toValueString(ge)}),G.set(Y,1),D.push(Object.assign(ve,Y))}},{children:q}),D}return A.map((q,D)=>{const G={_row:q};return I.forEach((te,me)=>{let Ie="";const v=te.editRender||te.cellRender;let C=te.exportMethod;if(!C&&v&&v.name){const N=tt.renderer.get(v.name);N&&(C=N.exportMethod)}if(C)Ie=C({$table:e,row:q,column:te,options:B});else switch(te.type){case"seq":Ie=ee==="all"?D+1:T(q,D,te,me);break;case"checkbox":Ie=O(e.isCheckedByCheckboxRow(q)),G._checkboxLabel=ke.labelField?c.get(q,ke.labelField):"",G._checkboxDisabled=ke.checkMethod&&!ke.checkMethod({row:q});break;case"radio":Ie=O(e.isCheckedByRadioRow(q)),G._radioLabel=Pe.labelField?c.get(q,Pe.labelField):"",G._radioDisabled=Pe.checkMethod&&!Pe.checkMethod({row:q});break;default:if(B.original)Ie=po(q,te);else if(Ie=e.getCellLabel(q,te),te.type==="html")pl.innerHTML=Ie,Ie=pl.innerText.trim();else{const N=e.getCell(q,te);N&&(Ie=N.innerText.trim())}}G[te.id]=c.toValueString(Ie)}),G})},E=B=>{const{columns:I,dataFilterMethod:A}=B;let Z=B.data;return A&&(Z=Z.filter((ee,ye)=>A({row:ee,$rowIndex:ye}))),w(B,I,Z)},M=(B,I,A)=>{const Z=b.value,ee=A.editRender||A.cellRender;let ye=A.footerExportMethod;if(!ye&&ee&&ee.name){const _e=tt.renderer.get(ee.name);_e&&(ye=_e.footerExportMethod)}ye||(ye=Z.footerExportMethod);const Pe=e.getVTColumnIndex(A);return ye?ye({$table:e,items:I,itemIndex:Pe,row:I,_columnIndex:Pe,column:A,options:B}):c.toValueString(I[Pe])},L=(B,I,A)=>{let Z=Cy;if(B.isHeader&&(Z+=I.map(ee=>ml(U(B,ee))).join(",")+$s),A.forEach(ee=>{Z+=I.map(ye=>ml(Sy(ye,ee[ye.id]))).join(",")+$s}),B.isFooter){const{footerTableData:ee}=n;wr(B,ee).forEach(Pe=>{Z+=I.map(ke=>ml(M(B,Pe,ke))).join(",")+$s})}return Z},V=(B,I,A)=>{let Z="";if(B.isHeader&&(Z+=I.map(ee=>ml(U(B,ee))).join("	")+$s),A.forEach(ee=>{Z+=I.map(ye=>ml(ee[ye.id])).join("	")+$s}),B.isFooter){const{footerTableData:ee}=n;wr(B,ee).forEach(Pe=>{Z+=I.map(ke=>ml(M(B,Pe,ke))).join(",")+$s})}return Z},P=(B,I,A)=>{const Z=B[I],ee=c.isUndefined(Z)||c.isNull(Z)?A:Z;let _e=ee==="title"||(ee===!0||ee==="tooltip")||ee==="ellipsis";const{scrollXLoad:Ae,scrollYLoad:q}=n;return(Ae||q)&&!_e&&(_e=!0),_e},_=(B,I,A)=>{const{id:Z,border:ee,treeConfig:ye,headerAlign:Pe,align:ke,footerAlign:_e,showOverflow:Ae,showHeaderOverflow:q}=t,{isAllSelected:D,isIndeterminate:G,mergeList:te}=n,me=s.value,{print:Ie,isHeader:v,isFooter:C,isColgroup:N,isMerge:Y,colgroups:X,original:ne}=B,ve="check-all",Se=[`<table class="${["vxe-table",`border--${Ey(ee)}`,Ie?"is--print":"",v?"is--header":""].filter(xe=>xe).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${I.map(xe=>`<col style="width:${xe.renderWidth}px">`).join("")}</colgroup>`];if(v&&(Se.push("<thead>"),N&&!ne?X.forEach(xe=>{Se.push(`<tr>${xe.map(we=>{const K=we.headerAlign||we.align||Pe||ke,ie=P(we,"showHeaderOverflow",q)?["col--ellipsis"]:[],Ee=U(B,we);let Te=0,z=0;c.eachTree([we],Re=>{(!Re.childNodes||!we.childNodes.length)&&z++,Te+=Re.renderWidth},{children:"childNodes"});const oe=Te-z;return K&&ie.push(`col--${K}`),we.type==="checkbox"?`<th class="${ie.join(" ")}" colspan="${we._colSpan}" rowspan="${we._rowSpan}"><div ${Ie?"":`style="width: ${oe}px"`}><input type="checkbox" class="${ve}" ${D?"checked":""}><span>${Ee}</span></div></th>`:`<th class="${ie.join(" ")}" colspan="${we._colSpan}" rowspan="${we._rowSpan}" title="${Ee}"><div ${Ie?"":`style="width: ${oe}px"`}><span>${en(Ee,!0)}</span></div></th>`}).join("")}</tr>`)}):Se.push(`<tr>${I.map(xe=>{const we=xe.headerAlign||xe.align||Pe||ke,K=P(xe,"showHeaderOverflow",q)?["col--ellipsis"]:[],ie=U(B,xe);return we&&K.push(`col--${we}`),xe.type==="checkbox"?`<th class="${K.join(" ")}"><div ${Ie?"":`style="width: ${xe.renderWidth}px"`}><input type="checkbox" class="${ve}" ${D?"checked":""}><span>${ie}</span></div></th>`:`<th class="${K.join(" ")}" title="${ie}"><div ${Ie?"":`style="width: ${xe.renderWidth}px"`}><span>${en(ie,!0)}</span></div></th>`}).join("")}</tr>`),Se.push("</thead>")),A.length&&(Se.push("<tbody>"),ye?A.forEach(xe=>{Se.push("<tr>"+I.map(we=>{const K=we.align||ke,ie=P(we,"showOverflow",Ae)?["col--ellipsis"]:[],Ee=xe[we.id];if(K&&ie.push(`col--${K}`),we.treeNode){let Te="";return xe._hasChild&&(Te=`<i class="${xe._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),ie.push("vxe-table--tree-node"),we.type==="radio"?`<td class="${ie.join(" ")}" title="${Ee}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${xe._level*me.indent}px"><div class="vxe-table--tree-icon-wrapper">${Te}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${Z}" ${xe._radioDisabled?"disabled ":""}${hl(Ee)?"checked":""}><span>${xe._radioLabel}</span></div></div></div></td>`:we.type==="checkbox"?`<td class="${ie.join(" ")}" title="${Ee}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${xe._level*me.indent}px"><div class="vxe-table--tree-icon-wrapper">${Te}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${xe._checkboxDisabled?"disabled ":""}${hl(Ee)?"checked":""}><span>${xe._checkboxLabel}</span></div></div></div></td>`:`<td class="${ie.join(" ")}" title="${Ee}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${xe._level*me.indent}px"><div class="vxe-table--tree-icon-wrapper">${Te}</div><div class="vxe-table--tree-cell">${Ee}</div></div></div></td>`}return we.type==="radio"?`<td class="${ie.join(" ")}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><input type="radio" name="radio_${Z}" ${xe._radioDisabled?"disabled ":""}${hl(Ee)?"checked":""}><span>${xe._radioLabel}</span></div></td>`:we.type==="checkbox"?`<td class="${ie.join(" ")}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><input type="checkbox" ${xe._checkboxDisabled?"disabled ":""}${hl(Ee)?"checked":""}><span>${xe._checkboxLabel}</span></div></td>`:`<td class="${ie.join(" ")}" title="${Ee}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}>${en(Ee,!0)}</div></td>`}).join("")+"</tr>")}):A.forEach(xe=>{Se.push("<tr>"+I.map(we=>{const K=we.align||ke,ie=P(we,"showOverflow",Ae)?["col--ellipsis"]:[],Ee=xe[we.id];let Te=1,z=1;if(Y&&te.length){const oe=e.getVTRowIndex(xe._row),Re=e.getVTColumnIndex(we),He=Nh(te,oe,Re);if(He){const{rowspan:ze,colspan:qe}=He;if(!ze||!qe)return"";ze>1&&(Te=ze),qe>1&&(z=qe)}}return K&&ie.push(`col--${K}`),we.type==="radio"?`<td class="${ie.join(" ")}" rowspan="${Te}" colspan="${z}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><input type="radio" name="radio_${Z}" ${xe._radioDisabled?"disabled ":""}${hl(Ee)?"checked":""}><span>${xe._radioLabel}</span></div></td>`:we.type==="checkbox"?`<td class="${ie.join(" ")}" rowspan="${Te}" colspan="${z}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}><input type="checkbox" ${xe._checkboxDisabled?"disabled ":""}${hl(Ee)?"checked":""}><span>${xe._checkboxLabel}</span></div></td>`:`<td class="${ie.join(" ")}" rowspan="${Te}" colspan="${z}" title="${Ee}"><div ${Ie?"":`style="width: ${we.renderWidth}px"`}>${en(Ee,!0)}</div></td>`}).join("")+"</tr>")}),Se.push("</tbody>")),C){const{footerTableData:xe}=n,we=wr(B,xe);we.length&&(Se.push("<tfoot>"),we.forEach(K=>{Se.push(`<tr>${I.map(ie=>{const Ee=ie.footerAlign||ie.align||_e||ke,Te=P(ie,"showOverflow",Ae)?["col--ellipsis"]:[],z=M(B,K,ie);return Ee&&Te.push(`col--${Ee}`),`<td class="${Te.join(" ")}" title="${z}"><div ${Ie?"":`style="width: ${ie.renderWidth}px"`}>${en(z,!0)}</div></td>`}).join("")}</tr>`)}),Se.push("</tfoot>"))}const ge=!D&&G?`<script>(function(){var a=document.querySelector(".${ve}");if(a){a.indeterminate=true}})()<\/script>`:"";return Se.push("</table>",ge),Ie?Se.join(""):fm(B,Se.join(""))},H=(B,I,A)=>{let Z=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${B.sheetName}">`,"<Table>",I.map(ee=>`<Column ss:Width="${ee.renderWidth}"/>`).join("")].join("");if(B.isHeader&&(Z+=`<Row>${I.map(ee=>`<Cell><Data ss:Type="String">${U(B,ee)}</Data></Cell>`).join("")}</Row>`),A.forEach(ee=>{Z+="<Row>"+I.map(ye=>`<Cell><Data ss:Type="String">${ee[ye.id]}</Data></Cell>`).join("")+"</Row>"}),B.isFooter){const{footerTableData:ee}=n;wr(B,ee).forEach(Pe=>{Z+=`<Row>${I.map(ke=>`<Cell><Data ss:Type="String">${M(B,Pe,ke)}</Data></Cell>`).join("")}</Row>`})}return`${Z}</Table></Worksheet></Workbook>`},ae=(B,I,A)=>{if(I.length)switch(B.type){case"csv":return L(B,I,A);case"txt":return V(B,I,A);case"html":return _(B,I,A);case"xml":return H(B,I,A)}return""},be=(B,I)=>{const{filename:A,type:Z,download:ee}=B;if(!ee){const ye=gu(I,B);return Promise.resolve({type:Z,content:I,blob:ye})}zr({filename:A,type:Z,content:I}).then(()=>{B.message!==!1&&tt.modal.message({content:y.i18n("vxe.table.expSuccess"),status:"success"})})},ce=B=>{const{remote:I,columns:A,colgroups:Z,exportMethod:ee,afterExportMethod:ye}=B;return new Promise(Pe=>{if(I){const ke={options:B,$table:e,$grid:S};Pe(ee?ee(ke):ke)}else{const ke=E(B);Pe(e.preventEvent(null,"event.export",{options:B,columns:A,colgroups:Z,datas:ke},()=>be(B,ae(B,A,ke))))}}).then(Pe=>(Df(A),B.print||ye&&ye({status:!0,options:B,$table:e,$grid:S}),Object.assign({status:!0},Pe))).catch(()=>{Df(A),B.print||ye&&ye({status:!1,options:B,$table:e,$grid:S});const Pe={status:!1};return Promise.reject(Pe)})},le=(B,I)=>{const{tableFullColumn:A,_importResolve:Z,_importReject:ee}=o;let ye={fields:[],rows:[]};switch(I.type){case"csv":ye=Oy(A,B);break;case"txt":ye=Ty(A,B);break;case"html":ye=Ry(A,B);break;case"xml":ye=My(A,B);break}const{fields:Pe,rows:ke}=ye;ky(A,Pe)?e.createData(ke).then(Ae=>{let q;return I.mode==="insert"?q=e.insert(Ae):q=e.reloadData(Ae),I.message!==!1&&tt.modal.message({content:y.i18n("vxe.table.impSuccess",[ke.length]),status:"success"}),q.then(()=>{Z&&Z({status:!0})})}):I.message!==!1&&(tt.modal.message({content:y.i18n("vxe.error.impFields"),status:"error"}),ee&&ee({status:!1}))},pe=(B,I)=>{const{importMethod:A,afterImportMethod:Z}=I,{type:ee,filename:ye}=ru(B);if(!A&&!c.includes(tt.globalConfs.importTypes,ee)){I.message!==!1&&tt.modal.message({content:y.i18n("vxe.error.notType",[ee]),status:"error"});const ke={status:!1};return Promise.reject(ke)}return new Promise((ke,_e)=>{const Ae=D=>{ke(D),o._importResolve=null,o._importReject=null},q=D=>{_e(D),o._importResolve=null,o._importReject=null};if(o._importResolve=Ae,o._importReject=q,window.FileReader){const D=Object.assign({mode:"insert"},I,{type:ee,filename:ye});if(D.remote)A?Promise.resolve(A({file:B,options:D,$table:e})).then(()=>{Ae({status:!0})}).catch(()=>{Ae({status:!0})}):Ae({status:!0});else{const{tableFullColumn:G}=o;e.preventEvent(null,"event.import",{file:B,options:D,columns:G},()=>{const te=new FileReader;te.onerror=()=>{sn("vxe.error.notType",[ee]),q({status:!1})},te.onload=me=>{le(me.target.result,D)},te.readAsText(B,D.encoding||"UTF-8")})}}else Ae({status:!0})}).then(()=>{Z&&Z({status:!0,options:I,$table:e})}).catch(ke=>(Z&&Z({status:!1,options:I,$table:e}),Promise.reject(ke)))},he=(B,I)=>{const{treeConfig:A,showHeader:Z,showFooter:ee}=t,{initStore:ye,mergeList:Pe,isGroup:ke,footerTableData:_e,exportStore:Ae,exportParams:q}=n,{collectColumn:D}=o,G=A,te=i.value,me=e.getCheckboxRecords(),Ie=!!_e.length,v=!G&&Pe.length,C=Object.assign({message:!0,isHeader:Z,isFooter:ee},B),N=C.types||tt.globalConfs.exportTypes,Y=C.modes,X=te.checkMethod,ne=D.slice(0),{columns:ve}=C,Ce=N.map(ge=>({value:ge,label:`vxe.export.types.${ge}`})),Se=Y.map(ge=>({value:ge,label:`vxe.export.modes.${ge}`}));return c.eachTree(ne,(ge,xe,we,K,ie)=>{(ge.children&&ge.children.length||Mf(ge))&&(ge.checked=ve?ve.some(Te=>{if(Rr(Te))return ge===Te;if(c.isString(Te))return ge.field===Te;{const z=Te.id||Te.colId,oe=Te.type,Re=Te.property||Te.field;if(z)return ge.id===z;if(Re&&oe)return ge.property===Re&&ge.type===oe;if(Re)return ge.property===Re;if(oe)return ge.type===oe}return!1}):ge.visible,ge.halfChecked=!1,ge.disabled=ie&&ie.disabled||(X?!X({column:ge}):!1))}),Object.assign(Ae,{columns:ne,typeList:Ce,modeList:Se,hasFooter:Ie,hasMerge:v,hasTree:G,isPrint:I,hasColgroup:ke,visible:!0}),Object.assign(q,{mode:me.length?"selected":"current"},C),Y.indexOf(q.mode)===-1&&(q.mode=Y[0]),N.indexOf(q.type)===-1&&(q.type=N[0]),ye.export=!0,fe()},se={exportData(B){const{treeConfig:I}=t,{isGroup:A,tableGroupColumn:Z}=n,{tableFullColumn:ee,afterFullData:ye}=o,Pe=r.value,ke=s.value,_e=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},Pe,{print:!1},B),{type:Ae,mode:q,columns:D,original:G,beforeExportMethod:te}=_e;let me=[];const Ie=D&&D.length?D:null;let v=_e.columnFilterMethod;!Ie&&!v&&(v=G?({column:N})=>N.property:({column:N})=>Mf(N)),Ie?(_e._isCustomColumn=!0,me=c.searchTree(c.mapTree(Ie,N=>{let Y;if(N){if(Rr(N))Y=N;else if(c.isString(N))Y=e.getColumnByField(N);else{const X=N.id||N.colId,ne=N.type,ve=N.property||N.field;X?Y=e.getColumnById(X):ve&&ne?Y=ee.find(Ce=>Ce.property===ve&&Ce.type===ne):ve?Y=e.getColumnByField(ve):ne&&(Y=ee.find(Ce=>Ce.type===ne))}return Y||{}}},{children:"childNodes",mapChildren:"_children"}),(N,Y)=>Rr(N)&&(!v||v({column:N,$columnIndex:Y})),{children:"_children",mapChildren:"childNodes",original:!0})):me=c.searchTree(A?Z:ee,(N,Y)=>N.visible&&(!v||v({column:N,$columnIndex:Y})),{children:"children",mapChildren:"childNodes",original:!0});const C=[];if(c.eachTree(me,N=>{N.children&&N.children.length||C.push(N)},{children:"childNodes"}),_e.columns=C,_e.colgroups=wy(me),_e.filename||(_e.filename=y.i18n(_e.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[c.toDateString(Date.now(),"yyyyMMddHHmmss")])),_e.sheetName||(_e.sheetName=document.title),!_e.exportMethod&&!c.includes(tt.globalConfs.exportTypes,Ae)){const N={status:!1};return Promise.reject(N)}if(_e.print||te&&te({options:_e,$table:e,$grid:S}),!_e.data){if(_e.data=ye,q==="selected"){const N=e.getCheckboxRecords();["html","pdf"].indexOf(Ae)>-1&&I?_e.data=c.searchTree(e.getTableData().fullData,Y=>e.findRowIndexOf(N,Y)>-1,Object.assign({},ke,{data:"_row"})):_e.data=N}else if(q==="all"&&S&&!_e.remote){const{reactData:N}=S,{computeProxyOpts:Y}=S.getComputeMaps(),X=Y.value,{beforeQueryAll:ne,afterQueryAll:ve,ajax:Ce={},props:Se={}}=X,ge=Ce.queryAll;if(ge){const xe={$table:e,$grid:S,sort:N.sortData,filters:N.filterData,form:N.formData,target:ge,options:_e};return Promise.resolve((ne||ge)(xe)).catch(we=>we).then(we=>(_e.data=(Se.list?c.get(we,Se.list):we)||[],ve&&ve(xe),ce(_e)))}}}return ce(_e)},importByFile(B,I){const A=Object.assign({},I),{beforeImportMethod:Z}=A;return Z&&Z({options:A,$table:e}),pe(B,A)},importData(B){const I=f.value,A=Object.assign({types:tt.globalConfs.importTypes},I,B),{beforeImportMethod:Z,afterImportMethod:ee}=A;return Z&&Z({options:A,$table:e}),Hr(A).catch(ye=>(ee&&ee({status:!1,options:A,$table:e}),Promise.reject(ye))).then(ye=>{const{file:Pe}=ye;return pe(Pe,A)})},saveFile(B){return zr(B)},readFile(B){return Hr(B)},print(B){const I=l.value,A=Object.assign({original:!1},I,B,{type:"html",download:!1,remote:!1,print:!0});return A.sheetName||(A.sheetName=document.title),new Promise(Z=>{A.content?Z(kc(e,A,A.content)):Z(se.exportData(A).then(({content:ee})=>kc(e,A,ee)))})},openImport(B){const{treeConfig:I,importConfig:A}=t,{initStore:Z,importStore:ee,importParams:ye}=n,Pe=f.value,ke=Object.assign({mode:"insert",message:!0,types:tt.globalConfs.importTypes},B,Pe),{types:_e}=ke;if(!!I){ke.message&&tt.modal.message({content:y.i18n("vxe.error.treeNotImp"),status:"error"});return}A||sn("vxe.error.reqProp",["import-config"]);const q=_e.map(G=>({value:G,label:`vxe.export.types.${G}`})),D=ke.modes.map(G=>({value:G,label:`vxe.import.modes.${G}`}));Object.assign(ee,{file:null,type:"",filename:"",modeList:D,typeList:q,visible:!0}),Object.assign(ye,ke),Z.import=!0},openExport(B){const I=r.value;he(Object.assign({},I,B))},openPrint(B){const I=l.value;he(Object.assign({},I,B),!0)}};return se},setupGrid(e){return e.extendTableMethods(Iy)}},vm=e=>{const t=Object.assign({},e,{type:"html"});kc(null,t,t.content)},vu={ExportPanel:wi,ImportPanel:Ei,install(e){tt.saveFile=zr,tt.readFile=Hr,tt.print=vm,tt.setConfig({export:{types:{csv:0,html:0,xml:0,txt:0}}}),tt.hooks.add("$tableExport",Dy),e.component(wi.name,wi),e.component(Ei.name,Ei)}},Fy=vu;Dt.component(wi.name,wi);Dt.component(Ei.name,Ei);function Py(e,t){let n=0,o=0;const s=!Jn.firefox&&Zo(e,"vxe-checkbox--label");if(s){const l=getComputedStyle(e);n-=c.toNumber(l.paddingTop),o-=c.toNumber(l.paddingLeft)}for(;e&&e!==t;)if(n+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent,s){const l=getComputedStyle(e);n-=c.toNumber(l.paddingTop),o-=c.toNumber(l.paddingLeft)}return{offsetTop:n,offsetLeft:o}}const Ly={setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refElem:s}=e.getRefMaps(),{computeEditOpts:l,computeCheckboxOpts:r,computeMouseOpts:f,computeTreeOpts:i}=e.getComputeMaps();function d(S,F,T){let U=0,O=[];const w=T>0,E=T>0?T:Math.abs(T)+F.offsetHeight,{scrollYLoad:M}=n,{afterFullData:L,scrollYStore:V}=o;if(M){const P=e.getVTRowIndex(S.row);w?O=L.slice(P,P+Math.ceil(E/V.rowHeight)):O=L.slice(P-Math.floor(E/V.rowHeight)+1,P+1)}else{const P=w?"next":"previous";for(;F&&U<E;){const _=e.getRowNode(F);_&&(O.push(_.item),U+=F.offsetHeight,F=F[`${P}ElementSibling`])}}return O}const u=(S,F)=>{const{column:T,cell:U}=F;if(T.type==="checkbox"){const O=s.value,{elemStore:w}=o,E=S.clientX,M=S.clientY,L=w[`${T.fixed||"main"}-body-wrapper`]||w["main-body-wrapper"],V=L?L.value:null;if(!V)return;const P=V.querySelector(".vxe-table--checkbox-range"),_=document.onmousemove,H=document.onmouseup,ae=U.parentNode,be=e.getCheckboxRecords();let ce=[];const le=1,pe=Py(S.target,V),he=pe.offsetTop+S.offsetY,se=pe.offsetLeft+S.offsetX,B=V.scrollTop,I=ae.offsetHeight;let A=null,Z=!1,ee=1;const ye=(Ae,q)=>{e.dispatchEvent(`checkbox-range-${Ae}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},q)},Pe=Ae=>{const{clientX:q,clientY:D}=Ae,G=q-E,te=D-M+(V.scrollTop-B);let me=Math.abs(te),Ie=Math.abs(G),v=he,C=se;te<le?(v+=te,v<le&&(v=le,me=he)):me=Math.min(me,V.scrollHeight-he-le),G<le?(C+=G,Ie>se&&(C=le,Ie=se)):Ie=Math.min(Ie,V.clientWidth-se-le),P.style.height=`${me}px`,P.style.width=`${Ie}px`,P.style.left=`${C}px`,P.style.top=`${v}px`,P.style.display="block";const N=d(F,ae,te<le?-me:me);me>10&&N.length!==ce.length&&(ce=N,Ae.ctrlKey?N.forEach(Y=>{e.handleSelectRow({row:Y},be.indexOf(Y)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(N,!0,!1)),ye("change",Ae))},ke=()=>{clearTimeout(A),A=null},_e=Ae=>{ke(),A=setTimeout(()=>{if(A){const{scrollLeft:q,scrollTop:D,clientHeight:G,scrollHeight:te}=V,me=Math.ceil(ee*50/I);Z?D+G<te?(e.scrollTo(q,D+me),_e(Ae),Pe(Ae)):ke():D?(e.scrollTo(q,D-me),_e(Ae),Pe(Ae)):ke()}},50)};Uo(O,"drag--range"),document.onmousemove=Ae=>{Ae.preventDefault(),Ae.stopPropagation();const{clientY:q}=Ae,{boundingTop:D}=Io(V);q<D?(Z=!1,ee=D-q,A||_e(Ae)):q>D+V.clientHeight?(Z=!0,ee=q-D-V.clientHeight,A||_e(Ae)):A&&ke(),Pe(Ae)},document.onmouseup=Ae=>{ke(),Zn(O,"drag--range"),P.removeAttribute("style"),document.onmousemove=_,document.onmouseup=H,ye("end",Ae)},ye("start",S)}},h=(S,F)=>{const{editConfig:T,checkboxConfig:U,mouseConfig:O}=t,w=r.value,E=f.value,M=l.value;if(O&&E.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(S,F);U&&w.range&&u(S,F),O&&E.selected&&(!T||M.mode==="cell")&&e.handleSelected(F,S)};return{moveTabSelected(S,F,T){const{editConfig:U}=t,{afterFullData:O,visibleColumn:w}=o,E=l.value;let M,L,V;const P=Object.assign({},S),_=e.getVTRowIndex(P.row),H=e.getVTColumnIndex(P.column);T.preventDefault(),F?H<=0?_>0&&(L=_-1,M=O[L],V=w.length-1):V=H-1:H>=w.length-1?_<O.length-1&&(L=_+1,M=O[L],V=0):V=H+1;const ae=w[V];ae&&(M?(P.rowIndex=L,P.row=M):P.rowIndex=_,P.columnIndex=V,P.column=ae,P.cell=e.getCell(P.row,P.column),U?(E.trigger==="click"||E.trigger==="dblclick")&&(E.mode==="row"?e.handleActived(P,T):e.scrollToRow(P.row,P.column).then(()=>e.handleSelected(P,T))):e.scrollToRow(P.row,P.column).then(()=>e.handleSelected(P,T)))},moveCurrentRow(S,F,T){const{treeConfig:U}=t,{currentRow:O}=n,{afterFullData:w}=o,E=i.value,M=E.children||E.childrenField;let L;if(T.preventDefault(),O)if(U){const{index:V,items:P}=c.findTree(w,_=>_===O,{children:M});S&&V>0?L=P[V-1]:F&&V<P.length-1&&(L=P[V+1])}else{const V=e.getVTRowIndex(O);S&&V>0?L=w[V-1]:F&&V<w.length-1&&(L=w[V+1])}else L=w[0];if(L){const V={$table:e,row:L,rowIndex:e.getRowIndex(L),$rowIndex:e.getVMRowIndex(L)};e.scrollToRow(L).then(()=>e.triggerCurrentRowEvent(T,V))}},moveSelected(S,F,T,U,O,w){const{afterFullData:E,visibleColumn:M}=o,L=Object.assign({},S),V=e.getVTRowIndex(L.row),P=e.getVTColumnIndex(L.column);w.preventDefault(),T&&V>0?(L.rowIndex=V-1,L.row=E[L.rowIndex]):O&&V<E.length-1?(L.rowIndex=V+1,L.row=E[L.rowIndex]):F&&P?(L.columnIndex=P-1,L.column=M[L.columnIndex]):U&&P<M.length-1&&(L.columnIndex=P+1,L.column=M[L.columnIndex]),e.scrollToRow(L.row,L.column).then(()=>{L.cell=e.getCell(L.row,L.column),e.handleSelected(L,w)})},triggerHeaderCellMousedownEvent(S,F){const{mouseConfig:T}=t,U=f.value;if(T&&U.area&&e.handleHeaderCellAreaEvent){const O=S.currentTarget,w=yt(S,O,"vxe-cell--sort").flag,E=yt(S,O,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(S,Object.assign({cell:O,triggerSort:w,triggerFilter:E},F))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent(S,F){const T=S.currentTarget;F.cell=T,h(S,F),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}}}},bu={install(){tt.hooks.add("$tableKeyboard",Ly)}},Ay=bu;let ii=class{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Ut(this.$options.content||this.$options.message)}get message(){return this.content}};const Ny=["fullValidate","validate","clearValidate"],_y={setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refValidTooltip:s}=e.getRefMaps(),{computeValidOpts:l,computeTreeOpts:r,computeEditOpts:f}=e.getComputeMaps();let i={},d={},u;const h=T=>new Promise(U=>{l.value.autoPos===!1?(e.dispatchEvent("valid-error",T,null),U()):e.handleActived(T,{type:"valid-error",trigger:"call"}).then(()=>{U(d.showValidTooltip(T))})}),b=T=>{if(l.value.msgMode==="single"){const O=Object.keys(T),w=T;if(O.length){const E=O[0];w[E]=T[E]}return w}return T},S=(T,U,O)=>{const w={},{editRules:E,treeConfig:M}=t,{afterFullData:L,visibleColumn:V}=o,P=r.value,_=P.children||P.childrenField,H=l.value;let ae;T===!0?ae=L:T&&(c.isFunction(T)?U=T:ae=c.isArray(T)?T:[T]),ae||(e.getInsertRecords?ae=e.getInsertRecords().concat(e.getUpdateRecords()):ae=[]);const be=[];o._lastCallTime=Date.now(),u=!1,i.clearValidate();const ce={};if(E){const le=e.getColumns(),pe=he=>{if(O||!u){const se=[];le.forEach(B=>{(O||!u)&&c.has(E,B.property)&&se.push(d.validCellRules("all",he,B).catch(({rule:I,rules:A})=>{const Z={rule:I,rules:A,rowIndex:e.getRowIndex(he),row:he,columnIndex:e.getColumnIndex(B),column:B,field:B.property,$table:e};if(w[B.property]||(w[B.property]=[]),ce[`${Ye(e,he)}:${B.id}`]={column:B,row:he,rule:I,content:I.content},w[B.property].push(Z),!O)return u=!0,Promise.reject(Z)}))}),be.push(Promise.all(se))}};return M?c.eachTree(ae,pe,{children:_}):ae.forEach(pe),Promise.all(be).then(()=>{const he=Object.keys(w);return n.validErrorMaps=b(ce),fe().then(()=>{if(he.length)return Promise.reject(w[he[0]][0]);U&&U()})}).catch(he=>new Promise((se,B)=>{const I=()=>{fe(()=>{U?(U(w),se()):y.validToReject==="obsolete"?B(w):se(w)})},A=()=>{he.cell=e.getCell(he.row,he.column),Ih(he.cell),h(he).then(I)};if(H.autoPos===!1)I();else{const Z=he.row,ee=he.column,ye=L.indexOf(Z),Pe=V.indexOf(ee),ke=ye>0?L[ye-1]:Z,_e=Pe>0?V[Pe-1]:ee;e.scrollToRow(ke,_e).then(A)}}))}else n.validErrorMaps={};return fe().then(()=>{U&&U()})};i={fullValidate(T,U){return S(T,U,!0)},validate(T,U){return S(T,U)},clearValidate(T,U){const{validErrorMaps:O}=n,w=s.value,E=l.value,M=c.isArray(T)?T:T?[T]:[],L=c.isArray(U)?U:(U?[U]:[]).map(P=>Ln(e,P));let V={};if(w&&w.reactData.visible&&w.close(),E.msgMode==="single")return n.validErrorMaps={},fe();if(M.length&&L.length)V=Object.assign({},O),M.forEach(P=>{L.forEach(_=>{const H=`${Ye(e,P)}:${_.id}`;V[H]&&delete V[H]})});else if(M.length){const P=M.map(_=>`${Ye(e,_)}`);c.each(O,(_,H)=>{P.indexOf(H.split(":")[0])>-1&&(V[H]=_)})}else if(L.length){const P=L.map(_=>`${_.id}`);c.each(O,(_,H)=>{P.indexOf(H.split(":")[1])>-1&&(V[H]=_)})}return n.validErrorMaps=V,fe()}};const F=(T,U)=>{const{type:O,min:w,max:E,pattern:M}=T,L=O==="number",V=L?c.toNumber(U):c.getSize(U);return!!(L&&isNaN(U)||!c.eqNull(w)&&V<c.toNumber(w)||!c.eqNull(E)&&V>c.toNumber(E)||M&&!(c.isRegExp(M)?M:new RegExp(M)).test(U))};return d={validCellRules(T,U,O,w){const{editRules:E}=t,{field:M}=O,L=[],V=[];if(M&&E){const P=c.get(E,M);if(P){const _=c.isUndefined(w)?c.get(U,M):w;P.forEach(H=>{const{type:ae,trigger:be,required:ce,validator:le}=H;if(T==="all"||!be||T===be)if(le){const pe={cellValue:_,rule:H,rules:P,row:U,rowIndex:e.getRowIndex(U),column:O,columnIndex:e.getColumnIndex(O),field:O.field,$table:e,$grid:e.xegrid};let he;if(c.isString(le)){const se=tt.validators.get(le);se&&se.cellValidatorMethod&&(he=se.cellValidatorMethod(pe))}else he=le(pe);he&&(c.isError(he)?(u=!0,L.push(new ii({type:"custom",trigger:be,content:he.message,rule:new ii(H)}))):he.catch&&V.push(he.catch(se=>{u=!0,L.push(new ii({type:"custom",trigger:be,content:se&&se.message?se.message:H.content||H.message,rule:new ii(H)}))})))}else{const pe=ae==="array",he=c.isArray(_);let se=!0;pe||he?se=!he||!_.length:c.isString(_)?se=bo(_.trim()):se=bo(_),(ce?se||F(H,_):!se&&F(H,_))&&(u=!0,L.push(new ii(H)))}})}}return Promise.all(V).then(()=>{if(L.length){const P={rules:L,rule:L[0]};return Promise.reject(P)}})},hasCellRules(T,U,O){const{editRules:w}=t,{field:E}=O;if(E&&w){const M=c.get(w,E);return M&&!!c.find(M,L=>T==="all"||!L.trigger||T===L.trigger)}return!1},triggerValidate(T){const{editConfig:U,editRules:O}=t,{editStore:w}=n,{actived:E}=w,M=f.value,L=l.value;if(O&&L.msgMode==="single"&&(n.validErrorMaps={}),U&&O&&E.row){const{row:V,column:P,cell:_}=E.args;if(d.hasCellRules(T,V,P))return d.validCellRules(T,V,P).then(()=>{M.mode==="row"&&i.clearValidate(V,P)}).catch(({rule:H})=>{if(!H.trigger||T===H.trigger){const ae={rule:H,row:V,column:P,cell:_};return d.showValidTooltip(ae),Promise.reject(ae)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(T){const{height:U}=t,{tableData:O,validStore:w,validErrorMaps:E}=n,{rule:M,row:L,column:V,cell:P}=T,_=l.value,H=s.value,ae=M.content;return w.visible=!0,_.msgMode==="single"?n.validErrorMaps={[`${Ye(e,L)}:${V.id}`]:{column:V,row:L,rule:M,content:ae}}:n.validErrorMaps=Object.assign({},E,{[`${Ye(e,L)}:${V.id}`]:{column:V,row:L,rule:M,content:ae}}),e.dispatchEvent("valid-error",T,null),H&&H&&(_.message==="tooltip"||_.message==="default"&&!U&&O.length<2)?H.open(P,ae):fe()}},Object.assign(Object.assign({},i),d)},setupGrid(e){return e.extendTableMethods(Ny)}},xu={install(){tt.hooks.add("$tableValidator",_y)}},Vy=xu,kl=Mt({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>y.tooltip.size||y.size},trigger:{type:String,default:()=>y.tooltip.trigger||"hover"},theme:{type:String,default:()=>y.tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>y.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>y.tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Vt({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),f=Ue(),i={refElem:f},d={xID:s,props:e,context:t,reactData:r,getRefMaps:()=>i};let u={};const h=()=>{const{tipTarget:P,tipStore:_}=r;if(P){const{scrollTop:H,scrollLeft:ae,visibleWidth:be}=ys(),{top:ce,left:le}=Io(P),pe=f.value,he=6,se=pe.offsetHeight,B=pe.offsetWidth;let I=le,A=ce-se-he;I=Math.max(he,le+Math.floor((P.offsetWidth-B)/2)),I+B+he>ae+be&&(I=ae+be-B-he),ce-se<H+he&&(_.placement="bottom",A=ce+P.offsetHeight+he),_.style.top=`${A}px`,_.style.left=`${I}px`,_.arrowStyle.left=`${le-I+P.offsetWidth/2}px`}},b=P=>{P!==r.visible&&(r.visible=P,r.isUpdate=!0,o("update:modelValue",P))},S=()=>{r.tipZindex<Ao()&&(r.tipZindex=Co())},F=()=>{r.visible?u.close():u.open()},T=()=>{u.open()},U=()=>{const{trigger:P,enterable:_,leaveDelay:H}=e;r.tipActive=!1,_&&P==="hover"?setTimeout(()=>{r.tipActive||u.close()},H):u.close()},O=()=>{r.tipActive=!0},w=()=>{const{trigger:P,enterable:_,leaveDelay:H}=e;r.tipActive=!1,_&&P==="hover"&&setTimeout(()=>{r.tipActive||u.close()},H)},E=()=>{const{tipStore:P}=r,_=f.value;return _&&(_.parentNode||document.body.appendChild(_)),b(!0),S(),P.placement="top",P.style={width:"auto",left:0,top:0,zIndex:e.zIndex||r.tipZindex},P.arrowStyle={left:"50%"},u.updatePlacement()},M=c.debounce(()=>{r.tipActive&&E()},e.enterDelay,{leading:!1,trailing:!0});u={dispatchEvent(P,_,H){o(P,Object.assign({$tooltip:d,$event:H},_))},open(P,_){return u.toVisible(P||r.target,_)},close(){return r.tipTarget=null,r.tipActive=!1,Object.assign(r.tipStore,{style:{},placement:"",arrowStyle:null}),b(!1),fe()},toVisible(P,_){if(P){const{trigger:H,enterDelay:ae}=e;if(r.tipActive=!0,r.tipTarget=P,_&&(r.tipContent=_),ae&&H==="hover")M();else return E()}return fe()},updatePlacement(){return fe().then(()=>{const{tipTarget:P}=r,_=f.value;if(P&&_)return h(),fe().then(h)})},isActived(){return r.tipActive},setActived(P){r.tipActive=!!P}},Object.assign(d,u),lt(()=>e.content,()=>{r.tipContent=e.content}),lt(()=>e.modelValue,()=>{r.isUpdate||(e.modelValue?u.open():u.close()),r.isUpdate=!1}),pn(()=>{fe(()=>{const{trigger:P,content:_,modelValue:H}=e,ae=f.value;if(ae){const be=ae.parentNode;if(be){r.tipContent=_,r.tipZindex=Co(),c.arrayEach(ae.children,(le,pe)=>{pe>1&&(be.insertBefore(le,ae),r.target||(r.target=le))}),be.removeChild(ae);const{target:ce}=r;ce&&(P==="hover"?(ce.onmouseenter=T,ce.onmouseleave=U):P==="click"&&(ce.onclick=F)),H&&u.open()}}})}),$l(()=>{const{trigger:P}=e,{target:_}=r,H=f.value;if(_&&(P==="hover"?(_.onmouseenter=null,_.onmouseleave=null):P==="click"&&(_.onclick=null)),H){const ae=H.parentNode;ae&&ae.removeChild(H)}});const L=()=>{const{useHTML:P}=e,{tipContent:_}=r,H=n.content;return H?m("div",{key:1,class:"vxe-table--tooltip-content"},Nt(H({}))):P?m("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:_}):m("div",{key:3,class:"vxe-table--tooltip-content"},en(_))},V=()=>{const{popupClassName:P,theme:_,isArrow:H,enterable:ae}=e,{tipActive:be,visible:ce,tipStore:le}=r,pe=n.default,he=l.value;let se;return ae&&(se={onMouseenter:O,onMouseleave:w}),m("div",Object.assign({ref:f,class:["vxe-table--tooltip-wrapper",`theme--${_}`,P?c.isFunction(P)?P({$tooltip:d}):P:"",{[`size--${he}`]:he,[`placement--${le.placement}`]:le.placement,"is--enterable":ae,"is--visible":ce,"is--arrow":H,"is--active":be}],style:le.style},se),[L(),m("div",{class:"vxe-table--tooltip-arrow",style:le.arrowStyle}),...pe?Nt(pe({})):[]])};return d.renderVN=V,d},render(){return this.renderVN()}}),Si=Mt({name:"VxeTableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=ct("$xetable",{}),{reactData:n}=t,{computeCustomOpts:o,computeColumnOpts:s,computeIsMaxFixedColumn:l}=t.getComputeMaps(),r=Ue(),f=Ue(),i=Ue(),d=Ue();let u;const h=se=>{const{customStore:B}=e;B.activeWrapper=!0,t.customOpenEvent(se)},b=se=>{const{customStore:B}=e;B.activeWrapper=!1,setTimeout(()=>{!B.activeBtn&&!B.activeWrapper&&t.customColseEvent(se)},300)},S=se=>{H(),t.closeCustom(),t.emitCustomEvent("confirm",se)},F=se=>{t.closeCustom(),t.emitCustomEvent("cancel",se)},T=se=>{t.resetColumn(!0),t.closeCustom(),t.emitCustomEvent("reset",se)},U=se=>{tt.modal?tt.modal.confirm({content:y.i18n("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(B=>{B==="confirm"&&T(se)}):T(se)},O=se=>{const{customColumnList:B}=n,I=c.findTree(B,A=>A===se);if(I&&I.parent){const{parent:A}=I;A.children&&A.children.length&&(A.visible=A.children.every(Z=>Z.visible),A.halfVisible=!A.visible&&A.children.some(Z=>Z.visible||Z.halfVisible),O(A))}},w=se=>{const B=!se.visible,I=o.value;c.eachTree([se],A=>{A.visible=B,A.halfVisible=!1}),O(se),I.immediate&&t.handleCustom(),t.checkCustomStatus()},E=(se,B)=>{const I=l.value;se.fixed===B?t.clearColumnFixed(se):(!I||se.fixed)&&t.setColumnFixed(se,B)},M=se=>{l.value||t.setColumnFixed(se,se.fixed)},L=()=>{const{customStore:se}=e,{customColumnList:B}=n,I=o.value,{checkMethod:A}=I,Z=!se.isAll;c.eachTree(B,ee=>{(!A||A({column:ee}))&&(ee.visible=Z,ee.halfVisible=!1)}),se.isAll=Z,t.checkCustomStatus()},V=se=>{const A=se.currentTarget.parentNode.parentNode,Z=A.getAttribute("colid"),ee=t.getColumnById(Z);A.draggable=!0,d.value=ee,Uo(A,"active--drag-origin")},P=se=>{const A=se.currentTarget.parentNode.parentNode,Z=i.value;A.draggable=!1,d.value=null,Zn(A,"active--drag-origin"),Z&&(Z.style.display="")},_=se=>{const B=new Image;se.dataTransfer&&se.dataTransfer.setDragImage(B,0,0)},H=()=>{const{customColumnList:se}=n;se.forEach((B,I)=>{const A=I+1;B.renderSortNumber=A})},ae=se=>{const{customColumnList:B}=n,I=se.currentTarget,A=i.value;if(u){if(u!==I){const Z=u.getAttribute("drag-pos"),ee=I.getAttribute("colid"),ye=t.getColumnById(ee);if(!ye)return;const Pe=c.findIndexOf(B,q=>q.id===ye.id),ke=u.getAttribute("colid"),_e=t.getColumnById(ke);if(!_e)return;B.splice(Pe,1);const Ae=c.findIndexOf(B,q=>q.id===_e.id);B.splice(Ae+(Z==="bottom"?1:0),0,ye)}u.draggable=!1,u.removeAttribute("drag-pos"),Zn(u,"active--drag-target")}d.value=null,I.draggable=!1,I.removeAttribute("drag-pos"),A&&(A.style.display=""),Zn(I,"active--drag-target"),Zn(I,"active--drag-origin"),H()},be=se=>{const B=se.currentTarget;u!==B&&Zn(u,"active--drag-target");const I=B.getAttribute("colid"),A=t.getColumnById(I);if(A&&A.level===1){se.preventDefault();const ee=se.clientY-B.getBoundingClientRect().y<B.clientHeight/2?"top":"bottom";Uo(B,"active--drag-target"),B.setAttribute("drag-pos",ee),u=B}ce(se)},ce=se=>{const B=i.value,I=f.value;if(I&&B){const A=I.parentNode,Z=A.getBoundingClientRect();B.style.display="block",B.style.top=`${Math.min(A.clientHeight-A.scrollTop-B.clientHeight,se.clientY-Z.y)}px`,B.style.left=`${Math.min(A.clientWidth-A.scrollLeft-B.clientWidth-16,se.clientX-Z.x)}px`}},le=()=>{const{customStore:se}=e,{customColumnList:B}=n,I=o.value,{maxHeight:A}=se,{checkMethod:Z,visibleMethod:ee,trigger:ye}=I,Pe=l.value,ke=[],_e={};ye==="hover"&&(_e.onMouseenter=h,_e.onMouseleave=b),c.eachTree(B,(D,G,te,me,Ie)=>{if(ee?ee({column:D}):!0){const C=D.visible,N=D.halfVisible,Y=D.children&&D.children.length,X=en(D.getTitle(),1),ne=Z?!Z({column:D}):!1;ke.push(m("li",{key:D.id,class:["vxe-table-custom--option",`level--${D.level}`,{"is--group":Y}]},[m("div",{title:X,class:["vxe-table-custom--checkbox-option",{"is--checked":C,"is--indeterminate":N,"is--disabled":ne}],onClick:()=>{ne||w(D)}},[m("span",{class:["vxe-checkbox--icon",N?y.icon.TABLE_CHECKBOX_INDETERMINATE:C?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},X)]),!Ie&&I.allowFixed?m("div",{class:"vxe-table-custom--fixed-option"},[m("span",{class:["vxe-table-custom--fixed-left-option",D.fixed==="left"?y.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:y.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":D.fixed==="left","is--disabled":Pe&&!D.fixed}],title:y.i18n(D.fixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{E(D,"left")}}),m("span",{class:["vxe-table-custom--fixed-right-option",D.fixed==="right"?y.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:y.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":D.fixed==="right","is--disabled":Pe&&!D.fixed}],title:y.i18n(D.fixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{E(D,"right")}})]):null]))}});const Ae=se.isAll,q=se.isIndeterminate;return m("div",{ref:r,key:"simple",class:["vxe-table-custom-wrapper",{"is--active":se.visible}]},[m("ul",{class:"vxe-table-custom--header"},[m("li",{class:"vxe-table-custom--option"},[m("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Ae,"is--indeterminate":q}],title:y.i18n("vxe.table.allTitle"),onClick:L},[m("span",{class:["vxe-checkbox--icon",q?y.icon.TABLE_CHECKBOX_INDETERMINATE:Ae?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},y.i18n("vxe.toolbar.customAll"))])])]),m("ul",Object.assign({class:"vxe-table-custom--body",style:A?{maxHeight:`${A}px`}:{}},_e),ke),I.showFooter?m("div",{class:"vxe-table-custom--footer"},[m("button",{class:"btn--reset",onClick:T},I.resetButtonText||y.i18n("vxe.toolbar.customRestore")),m("button",{class:"btn--confirm",onClick:S},I.confirmButtonText||y.i18n("vxe.toolbar.customConfirm"))]):null])},pe=()=>{const{customStore:se}=e,{customColumnList:B}=n,I=o.value,{checkMethod:A,visibleMethod:Z}=I,ee=s.value,ye=l.value,Pe=[];return c.eachTree(B,(ke,_e,Ae,q,D)=>{if(Z?Z({column:ke}):!0){const te=ke.visible,me=ke.halfVisible,Ie=en(ke.getTitle(),1),v=ke.children&&ke.children.length,C=A?!A({column:ke}):!1;Pe.push(m("tr",{key:ke.id,colid:ke.id,class:[`vxe-table-custom-popup--row level--${ke.level}`,{"is--group":v}],onDragstart:_,onDragend:ae,onDragover:be},[m("td",{class:"vxe-table-custom-popup--column-item col--sort"},[ke.level===1?m("span",{class:"vxe-table-custom-popup--column-sort-btn",onMousedown:V,onMouseup:P},[m("i",{class:"vxe-icon-sort"})]):null]),m("td",{class:"vxe-table-custom-popup--column-item col--name"},[m("div",{class:"vxe-table-custom-popup--name",title:Ie},Ie)]),m("td",{class:"vxe-table-custom-popup--column-item col--visible"},[m("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":te,"is--indeterminate":me,"is--disabled":C}],onClick:()=>{C||w(ke)}},[m("span",{class:["vxe-checkbox--icon",me?y.icon.TABLE_CHECKBOX_INDETERMINATE:te?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]})])]),m("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[!D&&I.allowFixed?m(Js,{modelValue:ke.fixed||"",type:"button",size:"mini",options:[{label:y.i18n("vxe.custom.setting.fixedLeft"),value:"left",disabled:ye},{label:y.i18n("vxe.custom.setting.fixedUnset"),value:""},{label:y.i18n("vxe.custom.setting.fixedRight"),value:"right",disabled:ye}],"onUpdate:modelValue"(N){ke.fixed=N},onChange(){M(ke)}}):null])]))}}),m(Cs,{key:"popup",className:"vxe-table-custom-popup-wrapper vxe-table--ignore-clear",modelValue:se.visible,title:y.i18n("vxe.custom.cstmTitle"),width:"40vw",minWidth:520,height:"50vh",minHeight:300,mask:!0,lockView:!0,showFooter:!0,resize:!0,escClosable:!0,destroyOnClose:!0,"onUpdate:modelValue"(ke){se.visible=ke}},{default:()=>m("div",{ref:f,class:"vxe-table-custom-popup--body"},[m("div",{class:"vxe-table-custom-popup--table-wrapper"},[m("table",{},[m("colgroup",{},[m("col",{style:{width:"80px"}}),m("col",{}),m("col",{style:{width:"80px"}}),m("col",{style:{width:"200px"}})]),m("thead",{},[m("tr",{},[m("th",{},[m("span",{class:"vxe-table-custom-popup--table-sort-help-title"},y.i18n("vxe.custom.setting.colSort")),m(kl,{enterable:!0,content:y.i18n("vxe.custom.setting.sortHelpTip")},{default:()=>m("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})})]),m("th",{},y.i18n("vxe.custom.setting.colTitle")),m("th",{},y.i18n("vxe.custom.setting.colVisible")),m("th",{},y.i18n("vxe.custom.setting.colFixed",[ee.maxFixedSize||0]))])]),m(tb,{class:"vxe-table-custom--body",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Pe})])]),m("div",{ref:i,class:"vxe-table-custom-popup--drag-hint"},y.i18n("vxe.custom.cstmDragTarget",[d.value?d.value.getTitle():""]))]),footer:()=>m("div",{class:"vxe-table-custom-popup--footer"},[m(On,{content:I.resetButtonText||y.i18n("vxe.custom.cstmRestore"),onClick:U}),m(On,{content:I.resetButtonText||y.i18n("vxe.custom.cstmCancel"),onClick:F}),m(On,{status:"primary",content:I.confirmButtonText||y.i18n("vxe.custom.cstmConfirm"),onClick:S})])})};return()=>o.value.mode==="popup"?pe():le()}}),$y=["openCustom","closeCustom"],By={setupTable(e){const{reactData:t,internalData:n}=e,{computeCustomOpts:o}=e.getComputeMaps(),{refTableHeader:s,refTableBody:l,refTableCustom:r}=e.getRefMaps(),f=e.xegrid,i=()=>{const{customStore:T}=t,U=s.value,O=l.value,w=r.value,E=w?w.$el:null,M=U.$el,L=O.$el;let V=0;M&&(V+=M.clientHeight),L&&(V+=L.clientHeight),T.maxHeight=Math.max(0,E?Math.min(E.clientHeight,V-80):0)},d=()=>{const{initStore:T,customStore:U}=t;return U.visible=!0,T.custom=!0,t.customColumnList=n.collectColumn.slice(0),b(),i(),fe().then(()=>i())},u=()=>{const{customStore:T}=t,U=o.value;return T.visible&&(T.visible=!1,U.immediate||e.handleCustom()),fe()},h={openCustom:d,closeCustom:u},b=()=>{const{customStore:T}=t,{collectColumn:U}=n,O=o.value,{checkMethod:w}=O;T.isAll=U.every(E=>(w?!w({column:E}):!1)||E.visible),T.isIndeterminate=!T.isAll&&U.some(E=>(!w||w({column:E}))&&(E.visible||E.halfVisible))},S=(T,U)=>{(f||e).dispatchEvent("custom",{type:T},U)},F={checkCustomStatus:b,emitCustomEvent:S,triggerCustomEvent(T){const{customStore:U}=e.reactData;U.visible?(u(),S("close",T)):(U.btnEl=T.target,d(),S("open",T))},customOpenEvent(T){const{customStore:U}=t;U.visible||(U.activeBtn=!0,U.btnEl=T.target,e.openCustom(),e.emitCustomEvent("open",T))},customColseEvent(T){const{customStore:U}=t;U.visible&&(U.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",T))}};return Object.assign(Object.assign({},h),F)},setupGrid(e){return e.extendTableMethods($y)}},yu={Panel:Si,install(e){tt.hooks.add("$tableCustom",By),e.component(Si.name,Si)}},jy=yu;Dt.component(Si.name,Si);const ec=Mt({name:"VxeIcon",props:{name:String,roll:Boolean,status:String},emits:["click"],setup(e,{emit:t}){const n=o=>{t("click",{$event:o})};return()=>{const{name:o,roll:s,status:l}=e;return m("i",{class:[`vxe-icon-${o}`,s?"roll":"",l?[`theme--${l}`]:""],onClick:n})}}}),Zi=Object.assign(ec,{install(e){e.component(ec.name,ec)}}),Hy=Zi;Dt.component(Zi.name,Zi);function zy(e){const{$table:t,column:n}=e,o=n.titlePrefix||n.titleHelp;return o?[m("i",{class:["vxe-cell-title-prefix-icon",o.icon||y.icon.TABLE_TITLE_PREFIX],onMouseenter(s){t.triggerHeaderTitleEvent(s,o,e)},onMouseleave(s){t.handleTargetLeaveEvent(s)}})]:[]}function Wy(e){const{$table:t,column:n}=e,o=n.titleSuffix;return o?[m("i",{class:["vxe-cell-title-suffix-icon",o.icon||y.icon.TABLE_TITLE_SUFFIX],onMouseenter(s){t.triggerHeaderTitleEvent(s,o,e)},onMouseleave(s){t.handleTargetLeaveEvent(s)}})]:[]}function cs(e,t){const{$table:n,column:o}=e,{props:s,reactData:l}=n,{computeTooltipOpts:r}=n.getComputeMaps(),{showHeaderOverflow:f}=s,{type:i,showHeaderOverflow:d}=o,h=r.value.showAll,b=c.isUndefined(d)||c.isNull(d)?f:d,S=b==="title",F=b===!0||b==="tooltip",T={};return(S||F||h)&&(T.onMouseenter=U=>{l._isResize||(S?au(U.currentTarget,o):(F||h)&&n.triggerHeaderTooltipEvent(U,e))}),(F||h)&&(T.onMouseleave=U=>{l._isResize||(F||h)&&n.handleTargetLeaveEvent(U)}),[i==="html"&&c.isString(t)?m("span",Object.assign({class:"vxe-cell--title",innerHTML:t},T)):m("span",Object.assign({class:"vxe-cell--title"},T),Nt(t))]}function qy(e){const{$table:t,column:n,_columnIndex:o,items:s,row:l}=e,{slots:r,editRender:f,cellRender:i}=n,d=f||i,u=r?r.footer:null;if(u)return t.callSlot(u,e);if(d){const h=tt.renderer.get(d.name);if(h&&h.renderFooter)return Nt(h.renderFooter(d,e))}return c.isArray(s)?[en(s[o],1)]:[en(c.get(l,n.field),1)]}function Ff(e){const{$table:t,row:n,column:o}=e;return en(t.getCellLabel(n,o),1)}const at={createColumn(e,t){const{type:n,sortable:o,filters:s,editRender:l,treeNode:r}=t,{props:f}=e,{editConfig:i}=f,{computeEditOpts:d,computeCheckboxOpts:u}=e.getComputeMaps(),h=u.value,b=d.value,S={renderHeader:at.renderDefaultHeader,renderCell:r?at.renderTreeCell:at.renderDefaultCell,renderFooter:at.renderDefaultFooter};switch(n){case"seq":S.renderHeader=at.renderSeqHeader,S.renderCell=r?at.renderTreeIndexCell:at.renderSeqCell;break;case"radio":S.renderHeader=at.renderRadioHeader,S.renderCell=r?at.renderTreeRadioCell:at.renderRadioCell;break;case"checkbox":S.renderHeader=at.renderCheckboxHeader,S.renderCell=h.checkField?r?at.renderTreeSelectionCellByProp:at.renderCheckboxCellByProp:r?at.renderTreeSelectionCell:at.renderCheckboxCell;break;case"expand":S.renderCell=at.renderExpandCell,S.renderData=at.renderExpandData;break;case"html":S.renderCell=r?at.renderTreeHTMLCell:at.renderHTMLCell,s&&o?S.renderHeader=at.renderSortAndFilterHeader:o?S.renderHeader=at.renderSortHeader:s&&(S.renderHeader=at.renderFilterHeader);break;default:i&&l?(S.renderHeader=at.renderEditHeader,S.renderCell=b.mode==="cell"?r?at.renderTreeCellEdit:at.renderCellEdit:r?at.renderTreeRowEdit:at.renderRowEdit):s&&o?S.renderHeader=at.renderSortAndFilterHeader:o?S.renderHeader=at.renderSortHeader:s&&(S.renderHeader=at.renderFilterHeader)}return Hx(e,t,S)},renderHeaderTitle(e){const{$table:t,column:n}=e,{slots:o,editRender:s,cellRender:l}=n,r=s||l,f=o?o.header:null;if(f)return cs(e,t.callSlot(f,e));if(r){const i=tt.renderer.get(r.name);if(i&&i.renderHeader)return cs(e,Nt(i.renderHeader(r,e)))}return cs(e,en(n.getTitle(),1))},renderDefaultHeader(e){return zy(e).concat(at.renderHeaderTitle(e)).concat(Wy(e))},renderDefaultCell(e){const{$table:t,row:n,column:o}=e,{slots:s,editRender:l,cellRender:r}=o,f=l||r,i=s?s.default:null;if(i)return t.callSlot(i,e);if(f){const h=l?"renderCell":"renderDefault",b=tt.renderer.get(f.name),S=b?b[h]:null;if(S)return Nt(S(f,Object.assign({$type:l?"edit":"cell"},e)))}const d=t.getCellLabel(n,o),u=l?l.placeholder:"";return[m("span",{class:"vxe-cell--label"},l&&bo(d)?[m("span",{class:"vxe-cell--placeholder"},en(Ut(u),1))]:en(d,1))]},renderTreeCell(e){return at.renderTreeIcon(e,at.renderDefaultCell(e))},renderDefaultFooter(e){return[m("span",{class:"vxe-cell--item"},qy(e))]},renderTreeIcon(e,t){const{$table:n,isHidden:o}=e,{reactData:s}=n,{computeTreeOpts:l}=n.getComputeMaps(),{treeExpandedMaps:r,treeExpandLazyLoadedMaps:f}=s,i=l.value,{row:d,column:u,level:h}=e,{slots:b}=u,{indent:S,lazy:F,trigger:T,iconLoaded:U,showIcon:O,iconOpen:w,iconClose:E}=i,M=i.children||i.childrenField,L=i.hasChild||i.hasChildField,V=d[M],P=b?b.icon:null;let _=!1,H=!1,ae=!1;const be={};if(P)return n.callSlot(P,e);if(!o){const ce=Ye(n,d);H=!!r[ce],F&&(ae=!!f[ce],_=d[L])}return(!T||T==="default")&&(be.onClick=ce=>{ce.stopPropagation(),n.triggerTreeExpandEvent(ce,e)}),[m("div",{class:["vxe-cell--tree-node",{"is--active":H}],style:{paddingLeft:`${h*S}px`}},[O&&(V&&V.length||_)?[m("div",Object.assign({class:"vxe-tree--btn-wrapper"},be),[m("i",{class:["vxe-tree--node-btn",ae?U||y.icon.TABLE_TREE_LOADED:H?w||y.icon.TABLE_TREE_OPEN:E||y.icon.TABLE_TREE_CLOSE]})])]:null,m("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:o}=n,s=o?o.header:null;return cs(e,s?t.callSlot(s,e):en(n.getTitle(),1))},renderSeqCell(e){const{$table:t,column:n}=e,{props:o}=t,{treeConfig:s}=o,{computeSeqOpts:l}=t.getComputeMaps(),r=l.value,{slots:f}=n,i=f?f.default:null;if(i)return t.callSlot(i,e);const{seq:d}=e,u=r.seqMethod;return[en(u?u(e):s?d:(r.startIndex||0)+d,1)]},renderTreeIndexCell(e){return at.renderTreeIcon(e,at.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:n}=e,{slots:o}=n,s=o?o.header:null,l=o?o.title:null;return cs(e,s?t.callSlot(s,e):[m("span",{class:"vxe-radio--label"},l?t.callSlot(l,e):en(n.getTitle(),1))])},renderRadioCell(e){const{$table:t,column:n,isHidden:o}=e,{reactData:s}=t,{computeRadioOpts:l}=t.getComputeMaps(),{selectRadioRow:r}=s,f=l.value,{slots:i}=n,{labelField:d,checkMethod:u,visibleMethod:h}=f,{row:b}=e,S=i?i.default:null,F=i?i.radio:null,T=t.eqRow(b,r),U=!h||h({row:b});let O=!!u,w;o||(w={onClick(L){!O&&U&&(L.stopPropagation(),t.triggerRadioRowEvent(L,e))}},u&&(O=!u({row:b})));const E=Object.assign(Object.assign({},e),{checked:T,disabled:O,visible:U});if(F)return t.callSlot(F,E);const M=[];return U&&M.push(m("span",{class:["vxe-radio--icon",T?y.icon.TABLE_RADIO_CHECKED:y.icon.TABLE_RADIO_UNCHECKED]})),(S||d)&&M.push(m("span",{class:"vxe-radio--label"},S?t.callSlot(S,E):c.get(b,d))),[m("span",Object.assign({class:["vxe-cell--radio",{"is--checked":T,"is--disabled":O}]},w),M)]},renderTreeRadioCell(e){return at.renderTreeIcon(e,at.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:n,isHidden:o}=e,{reactData:s}=t,{computeIsAllCheckboxDisabled:l,computeCheckboxOpts:r}=t.getComputeMaps(),{isAllSelected:f,isIndeterminate:i}=s,d=l.value,{slots:u}=n,h=u?u.header:null,b=u?u.title:null,S=r.value,F=n.getTitle();let T;o||(T={onClick(O){d||(O.stopPropagation(),t.triggerCheckAllEvent(O,!f))}});const U=Object.assign(Object.assign({},e),{checked:f,disabled:d,indeterminate:i});return h?cs(U,t.callSlot(h,U)):(S.checkStrictly?!S.showHeader:S.showHeader===!1)?cs(U,[m("span",{class:"vxe-checkbox--label"},b?t.callSlot(b,U):F)]):cs(U,[m("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":f,"is--disabled":d,"is--indeterminate":i}],title:y.i18n("vxe.table.allTitle")},T),[m("span",{class:["vxe-checkbox--icon",i?y.icon.TABLE_CHECKBOX_INDETERMINATE:f?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(b||F?[m("span",{class:"vxe-checkbox--label"},b?t.callSlot(b,U):F)]:[]))])},renderCheckboxCell(e){const{$table:t,row:n,column:o,isHidden:s}=e,{props:l,reactData:r}=t,{treeConfig:f}=l,{selectCheckboxMaps:i,treeIndeterminateMaps:d}=r,{computeCheckboxOpts:u}=t.getComputeMaps(),h=u.value,{labelField:b,checkMethod:S,visibleMethod:F}=h,{slots:T}=o,U=T?T.default:null,O=T?T.checkbox:null;let w=!1,E=!1;const M=!F||F({row:n});let L=!!S,V;if(!s){const H=Ye(t,n);E=!!i[H],V={onClick(ae){!L&&M&&(ae.stopPropagation(),t.triggerCheckRowEvent(ae,e,!E))}},S&&(L=!S({row:n})),f&&(w=!!d[H])}const P=Object.assign(Object.assign({},e),{checked:E,disabled:L,visible:M,indeterminate:w});if(O)return t.callSlot(O,P);const _=[];return M&&_.push(m("span",{class:["vxe-checkbox--icon",w?y.icon.TABLE_CHECKBOX_INDETERMINATE:E?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]})),(U||b)&&_.push(m("span",{class:"vxe-checkbox--label"},U?t.callSlot(U,P):c.get(n,b))),[m("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":L,"is--indeterminate":w,"is--hidden":!M}]},V),_)]},renderTreeSelectionCell(e){return at.renderTreeIcon(e,at.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:n,column:o,isHidden:s}=e,{props:l,reactData:r}=t,{treeConfig:f}=l,{treeIndeterminateMaps:i}=r,{computeCheckboxOpts:d}=t.getComputeMaps(),u=d.value,{labelField:h,checkField:b,checkMethod:S,visibleMethod:F}=u,T=u.indeterminateField||u.halfField,{slots:U}=o,O=U?U.default:null,w=U?U.checkbox:null;let E=!1,M=!1;const L=!F||F({row:n});let V=!!S,P;if(!s){const ae=Ye(t,n);M=c.get(n,b),P={onClick(be){!V&&L&&(be.stopPropagation(),t.triggerCheckRowEvent(be,e,!M))}},S&&(V=!S({row:n})),f&&(E=!!i[ae])}const _=Object.assign(Object.assign({},e),{checked:M,disabled:V,visible:L,indeterminate:E});if(w)return t.callSlot(w,_);const H=[];return L&&(H.push(m("span",{class:["vxe-checkbox--icon",E?y.icon.TABLE_CHECKBOX_INDETERMINATE:M?y.icon.TABLE_CHECKBOX_CHECKED:y.icon.TABLE_CHECKBOX_UNCHECKED]})),(O||h)&&H.push(m("span",{class:"vxe-checkbox--label"},O?t.callSlot(O,_):c.get(n,h)))),[m("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":M,"is--disabled":V,"is--indeterminate":T&&!M?n[T]:E,"is--hidden":!L}]},P),H)]},renderTreeSelectionCellByProp(e){return at.renderTreeIcon(e,at.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:n,row:o,column:s}=e,{reactData:l}=t,{rowExpandedMaps:r,rowExpandLazyLoadedMaps:f}=l,{computeExpandOpts:i}=t.getComputeMaps(),d=i.value,{lazy:u,labelField:h,iconLoaded:b,showIcon:S,iconOpen:F,iconClose:T,visibleMethod:U}=d,{slots:O}=s,w=O?O.default:null,E=O?O.icon:null;let M=!1,L=!1;if(E)return t.callSlot(E,e);if(!n){const V=Ye(t,o);M=!!r[V],u&&(L=!!f[V])}return[S&&(!U||U(e))?m("span",{class:["vxe-table--expanded",{"is--active":M}],onClick(V){V.stopPropagation(),t.triggerRowExpandEvent(V,e)}},[m("i",{class:["vxe-table--expand-btn",L?b||y.icon.TABLE_EXPAND_LOADED:M?F||y.icon.TABLE_EXPAND_OPEN:T||y.icon.TABLE_EXPAND_CLOSE]})]):null,w||h?m("span",{class:"vxe-table--expand-label"},w?t.callSlot(w,e):c.get(o,h)):null]},renderExpandData(e){const{$table:t,column:n}=e,{slots:o,contentRender:s}=n,l=o?o.content:null;if(l)return t.callSlot(l,e);if(s){const r=tt.renderer.get(s.name);if(r&&r.renderExpand)return Nt(r.renderExpand(s,e))}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:o}=n,s=o?o.default:null;return s?t.callSlot(s,e):[m("span",{class:"vxe-cell--html",innerHTML:Ff(e)})]},renderTreeHTMLCell(e){return at.renderTreeIcon(e,at.renderHTMLCell(e))},renderSortAndFilterHeader(e){return at.renderDefaultHeader(e).concat(at.renderSortIcon(e)).concat(at.renderFilterIcon(e))},renderSortHeader(e){return at.renderDefaultHeader(e).concat(at.renderSortIcon(e))},renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:o}=t.getComputeMaps(),s=o.value,{showIcon:l,iconLayout:r,iconAsc:f,iconDesc:i}=s,{order:d}=n;return l?[m("span",{class:["vxe-cell--sort",`vxe-cell--sort-${r}-layout`]},[m("i",{class:["vxe-sort--asc-btn",f||y.icon.TABLE_SORT_ASC,{"sort--active":d==="asc"}],title:y.i18n("vxe.table.sortAsc"),onClick(u){u.stopPropagation(),t.triggerSortEvent(u,n,"asc")}}),m("i",{class:["vxe-sort--desc-btn",i||y.icon.TABLE_SORT_DESC,{"sort--active":d==="desc"}],title:y.i18n("vxe.table.sortDesc"),onClick(u){u.stopPropagation(),t.triggerSortEvent(u,n,"desc")}})])]:[]},renderFilterHeader(e){return at.renderDefaultHeader(e).concat(at.renderFilterIcon(e))},renderFilterIcon(e){const{$table:t,column:n,hasFilter:o}=e,{reactData:s}=t,{filterStore:l}=s,{computeFilterOpts:r}=t.getComputeMaps(),f=r.value,{showIcon:i,iconNone:d,iconMatch:u}=f;return i?[m("span",{class:["vxe-cell--filter",{"is--active":l.visible&&l.column===n}]},[m("i",{class:["vxe-filter--btn",o?u||y.icon.TABLE_FILTER_MATCH:d||y.icon.TABLE_FILTER_NONE],title:y.i18n("vxe.table.filter"),onClick(h){t.triggerFilterEvent&&t.triggerFilterEvent(h,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:n}=e,{props:o}=t,{computeEditOpts:s}=t.getComputeMaps(),{editConfig:l,editRules:r}=o,f=s.value,{sortable:i,filters:d,editRender:u}=n;let h=!1;if(r){const b=c.get(r,n.field);b&&(h=b.some(S=>S.required))}return(gt(l)?[h&&f.showAsterisk?m("i",{class:"vxe-cell--required-icon"}):null,gt(u)&&f.showIcon?m("i",{class:["vxe-cell--edit-icon",f.icon||y.icon.TABLE_EDIT]}):null]:[]).concat(at.renderDefaultHeader(e)).concat(i?at.renderSortIcon(e):[]).concat(d?at.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:t,column:n}=e,{reactData:o}=t,{editStore:s}=o,{actived:l}=s,{editRender:r}=n;return at.runRenderer(e,gt(r)&&l&&l.row===e.row)},renderTreeRowEdit(e){return at.renderTreeIcon(e,at.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:n}=e,{reactData:o}=t,{editStore:s}=o,{actived:l}=s,{editRender:r}=n;return at.runRenderer(e,gt(r)&&l&&l.row===e.row&&l.column===e.column)},renderTreeCellEdit(e){return at.renderTreeIcon(e,at.renderCellEdit(e))},runRenderer(e,t){const{$table:n,column:o}=e,{slots:s,editRender:l,formatter:r}=o,f=s?s.default:null,i=s?s.edit:null,d=tt.renderer.get(l.name);return t?i?n.callSlot(i,e):d&&d.renderEdit?Nt(d.renderEdit(l,Object.assign({$type:"edit"},e))):[]:f?n.callSlot(f,e):r?[m("span",{class:"vxe-cell--label"},Ff(e))]:at.renderDefaultCell(e)}},bm={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Ws=Mt({name:"VxeColumn",props:bm,setup(e,{slots:t}){const n=Ue(),o=ct("$xetable",{}),s=ct("xecolgroup",null),l=at.createColumn(o,e);return l.slots=t,qt("$xegrid",null),Ph(o,e,l),pn(()=>{Lh(o,n.value,l,s)}),an(()=>{Ah(o,l)}),()=>m("div",{ref:n})}}),Cu=Object.assign(Ws,{install(e){e.component(Ws.name,Ws),e.component("VxeTableColumn",Ws)}}),Uy=Cu;Dt.component(Ws.name,Ws);Dt.component("VxeTableColumn",Ws);const qs=Mt({name:"VxeColgroup",props:bm,setup(e,{slots:t}){const n=Ue(),o=ct("$xetable",{}),s=ct("xecolgroup",null),l=at.createColumn(o,e),r={};t.header&&(r.header=t.header);const f={column:l};return l.slots=r,l.children=[],qt("xecolgroup",f),qt("$xegrid",null),Ph(o,e,l),pn(()=>{Lh(o,n.value,l,s)}),an(()=>{Ah(o,l)}),()=>m("div",{ref:n},t.default?t.default():[])}}),wu=Object.assign(qs,{install(e){e.component(qs.name,qs),e.component("VxeTableColgroup",qs)}}),Gy=wu;Dt.component(qs.name,qs);Dt.component("VxeTableColgroup",qs);let Pf;const js=[],Yy=500;function Ky(){js.length&&(js.forEach(e=>{e.tarList.forEach(t=>{const{target:n,width:o,heighe:s}=t,l=n.clientWidth,r=n.clientHeight;(l&&o!==l||r&&s!==r)&&(t.width=l,t.heighe=r,setTimeout(e.callback))})}),xm())}function xm(){clearTimeout(Pf),Pf=setTimeout(Ky,y.resizeInterval||Yy)}class Xy{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:n}=this;n.some(o=>o.target===t)||n.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),js.length||xm(),js.some(o=>o===this)||js.push(this)}}unobserve(t){c.remove(js,n=>n.tarList.some(o=>o.target===t))}disconnect(){c.remove(js,t=>t===this)}}function ym(e){return window.ResizeObserver?new window.ResizeObserver(e):new Xy(e)}const gl="body",Zy={mini:3,small:2,medium:1},Lf=Mt({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=ct("$xetable",{}),n=ct("xesize",null),{xID:o,props:s,context:l,reactData:r,internalData:f}=t,{refTableHeader:i,refTableBody:d,refTableFooter:u,refTableLeftBody:h,refTableRightBody:b,refValidTooltip:S}=t.getRefMaps(),{computeEditOpts:F,computeMouseOpts:T,computeSYOpts:U,computeEmptyOpts:O,computeKeyboardOpts:w,computeTooltipOpts:E,computeRadioOpts:M,computeExpandOpts:L,computeTreeOpts:V,computeCheckboxOpts:P,computeValidOpts:_,computeRowOpts:H,computeColumnOpts:ae}=t.getComputeMaps(),be=Ue(),ce=Ue(),le=Ue(),pe=Ue(),he=Ue(),se=Ue(),B=Ue(),I=()=>{if(n){const Y=n.value;if(Y)return Zy[Y]||0}return 0},A=()=>{const{delayHover:Y}=s,{lastScrollTime:X,_isResize:ne}=r;return!!(ne||X&&Date.now()<X+Y)},Z=(Y,X)=>{let ne=1;if(!Y)return ne;const ve=V.value,Ce=ve.children||ve.childrenField,Se=Y[Ce];if(Se&&t.isTreeExpandByRow(Y))for(let ge=0;ge<Se.length;ge++)ne+=Z(Se[ge]);return ne},ee=(Y,X,ne)=>{let ve=1;return ne&&(ve=Z(X[ne-1])),r.rowHeight*ve-(ne?1:12-I())},ye=Y=>{const{row:X,column:ne}=Y,{afterFullData:ve}=f,{treeConfig:Ce}=s,Se=V.value,{slots:ge,treeNode:xe}=ne,{fullAllDataRowIdData:we}=f,K=Ye(t,X),ie=we[K];let Ee=0,Te=0,z=[];if(ie&&(Ee=ie.level,Te=ie._index,z=ie.items),ge&&ge.line)return t.callSlot(ge.line,Y);const oe=t.eqRow(ve[0],X);return Ce&&xe&&(Se.showLine||Se.line)?[m("div",{class:"vxe-tree--line-wrapper"},[m("div",{class:"vxe-tree--line",style:{height:`${oe?1:ee(Y,z,Te)}px`,left:`${Ee*Se.indent+(Ee?2-I():0)+16}px`}})])]:[]},Pe=(Y,X,ne,ve,Ce,Se,ge,xe,we,K,ie,Ee)=>{const{columnKey:Te,height:z,showOverflow:oe,cellClassName:Re,cellStyle:He,align:ze,spanMethod:qe,mouseConfig:Qe,editConfig:Xe,editRules:Ze,tooltipConfig:Je}=s,{tableData:st,overflowX:St,scrollYLoad:W,currentColumn:Tt,mergeList:bt,editStore:mt,isAllOverflow:it,validErrorMaps:kt}=r,{afterFullData:xt}=f,Ft=_.value,wt=P.value,It=F.value,$t=E.value,Gt=H.value,ln=U.value,Jt=ae.value,{type:Qt,cellRender:dn,editRender:Bt,align:zt,showOverflow:Wt,className:nn,treeNode:yn,slots:on}=we,{actived:_n}=mt,{rHeight:eo}=ln,{height:ho}=Gt,Os=Bt||dn,Qo=Os?tt.renderer.get(Os.name):null,sl=Qo?Qo.cellClassName:"",Ts=Qo?Qo.cellStyle:"",Vn=$t.showAll,hn=t.getColumnIndex(we),to=t.getVTColumnIndex(we),no=gt(Bt);let mo=ne?we.fixed!==ne:we.fixed&&St;const No=c.isUndefined(Wt)||c.isNull(Wt)?oe:Wt;let wo=No==="ellipsis";const oo=No==="title",Tn=No===!0||No==="tooltip";let so=oo||Tn||wo,es;const Eo={},So=zt||ze,lo=kt[`${X}:${we.id}`],ts=Ze&&Ft.showMessage&&(Ft.message==="default"?z||st.length>1:Ft.message==="inline"),$n={colid:we.id},un={$table:t,$grid:t.xegrid,seq:Y,rowid:X,row:Ce,rowIndex:Se,$rowIndex:ge,_rowIndex:xe,column:we,columnIndex:hn,$columnIndex:K,_columnIndex:to,fixed:ne,type:gl,isHidden:mo,level:ve,visibleData:xt,data:st,items:Ee};if(W&&!so&&(wo=so=!0),(oo||Tn||Vn||Je)&&(Eo.onMouseenter=At=>{A()||(oo?au(At.currentTarget,we):(Tn||Vn)&&t.triggerBodyTooltipEvent(At,un),t.dispatchEvent("cell-mouseenter",Object.assign({cell:At.currentTarget},un),At))}),(Tn||Vn||Je)&&(Eo.onMouseleave=At=>{A()||((Tn||Vn)&&t.handleTargetLeaveEvent(At),t.dispatchEvent("cell-mouseleave",Object.assign({cell:At.currentTarget},un),At))}),(wt.range||Qe)&&(Eo.onMousedown=At=>{t.triggerCellMousedownEvent(At,un)}),Eo.onClick=At=>{t.triggerCellClickEvent(At,un)},Eo.onDblclick=At=>{t.triggerCellDblclickEvent(At,un)},bt.length){const At=Nh(bt,xe,to);if(At){const{rowspan:Cn,colspan:go}=At;if(!Cn||!go)return null;Cn>1&&($n.rowspan=Cn),go>1&&($n.colspan=go)}}else if(qe){const{rowspan:At=1,colspan:Cn=1}=qe(un)||{};if(!At||!Cn)return null;At>1&&($n.rowspan=At),Cn>1&&($n.colspan=Cn)}mo&&bt&&($n.colspan>1||$n.rowspan>1)&&(mo=!1),!mo&&Xe&&(Bt||dn)&&(It.showStatus||It.showUpdateStatus)&&(es=t.isUpdateByRow(Ce,we.field));const _o=[];if(mo&&oe&&it)_o.push(m("div",{class:["vxe-cell",{"c--title":oo,"c--tooltip":Tn,"c--ellipsis":wo}],style:{maxHeight:so&&(eo||ho)?`${eo||ho}px`:""}}));else if(_o.push(...ye(un),m("div",{class:["vxe-cell",{"c--title":oo,"c--tooltip":Tn,"c--ellipsis":wo}],style:{maxHeight:so&&(eo||ho)?`${eo||ho}px`:""},title:oo?t.getCellLabel(Ce,we):null},we.renderCell(un))),ts&&lo){const At=lo.rule,Cn=on?on.valid:null,go=Object.assign(Object.assign({},un),lo);_o.push(m("div",{class:["vxe-cell--valid-error-hint",vs(Ft.className,go)],style:At&&At.maxWidth?{width:`${At.maxWidth}px`}:null},Cn?t.callSlot(Cn,go):[m("span",{class:"vxe-cell--valid-error-msg"},lo.content)]))}return m("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",we.id,{[`col--${So}`]:So,[`col--${Qt}`]:Qt,"col--last":K===ie.length-1,"col--tree-node":yn,"col--edit":no,"col--ellipsis":so,"fixed--hidden":mo,"col--dirty":es,"col--active":Xe&&no&&_n.row===Ce&&(_n.column===we||It.mode==="row"),"col--valid-error":!!lo,"col--current":Tt===we},vs(sl,un),vs(nn,un),vs(Re,un)],key:Te||Jt.useKey?we.id:K},$n),{style:Object.assign({height:so&&(eo||ho)?`${eo||ho}px`:""},c.isFunction(Ts)?Ts(un):Ts,c.isFunction(He)?He(un):He)}),Eo),_o)},ke=(Y,X,ne)=>{const{stripe:ve,rowKey:Ce,highlightHoverRow:Se,rowClassName:ge,rowStyle:xe,showOverflow:we,editConfig:K,treeConfig:ie}=s,{hasFixedColumn:Ee,treeExpandedMaps:Te,scrollYLoad:z,rowExpandedMaps:oe,expandColumn:Re,selectRadioRow:He,pendingRowMaps:ze,pendingRowList:qe}=r,{fullAllDataRowIdData:Qe}=f,Xe=P.value,Ze=M.value,Je=V.value,st=F.value,St=H.value,{transform:W}=Je,Tt=Je.children||Je.childrenField,bt=[];return X.forEach((mt,it)=>{const kt={};let xt=it;xt=t.getRowIndex(mt),(St.isHover||Se)&&(kt.onMouseenter=zt=>{A()||t.triggerHoverEvent(zt,{row:mt,rowIndex:xt})},kt.onMouseleave=()=>{A()||t.clearHoverRow()});const Ft=Ye(t,mt),wt=Qe[Ft];let It=0,$t=-1,Gt=0;wt&&(It=wt.level,$t=wt.seq,Gt=wt._index);const ln={$table:t,seq:$t,rowid:Ft,fixed:Y,type:gl,level:It,row:mt,rowIndex:xt,$rowIndex:it,_rowIndex:Gt},Jt=Re&&!!oe[Ft];let Qt=!1,dn=[],Bt=!1;if(K&&(Bt=t.isInsertByRow(mt)),ie&&!z&&!W&&(dn=mt[Tt],Qt=dn&&dn.length&&!!Te[Ft]),bt.push(m("tr",Object.assign({class:["vxe-body--row",ie?`row--level-${It}`:"",{"row--stripe":ve&&(t.getVTRowIndex(mt)+1)%2===0,"is--new":Bt,"is--expand-row":Jt,"is--expand-tree":Qt,"row--new":Bt&&(st.showStatus||st.showInsertStatus),"row--radio":Ze.highlight&&t.eqRow(He,mt),"row--checked":Xe.highlight&&t.isCheckedByCheckboxRow(mt),"row--pending":qe.length&&!!ze[Ft]},vs(ge,ln)],rowid:Ft,style:xe?c.isFunction(xe)?xe(ln):xe:null,key:Ce||St.useKey||ie?Ft:it},kt),ne.map((zt,Wt)=>Pe($t,Ft,Y,It,mt,xt,it,Gt,zt,Wt,ne,X)))),Jt){const zt=L.value,{height:Wt}=zt,nn={};Wt&&(nn.height=`${Wt}px`),ie&&(nn.paddingLeft=`${It*Je.indent+30}px`);const{showOverflow:yn}=Re,on=c.isUndefined(yn)||c.isNull(yn)?we:yn,_n={$table:t,seq:$t,column:Re,fixed:Y,type:gl,level:It,row:mt,rowIndex:xt,$rowIndex:it,_rowIndex:Gt};bt.push(m("tr",Object.assign({class:"vxe-body--expanded-row",key:`expand_${Ft}`,style:xe?c.isFunction(xe)?xe(_n):xe:null},kt),[m("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":Y&&!Ee,"col--ellipsis":on},colspan:ne.length},[m("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":Wt},style:nn},[Re.renderData(_n)])])]))}Qt&&bt.push(...ke(Y,dn,ne))}),bt};let _e;const Ae=(Y,X,ne,ve)=>{(ne||ve)&&(ne&&(cf(ne),ne.scrollTop=X),ve&&(cf(ve),ve.scrollTop=X),clearTimeout(_e),_e=setTimeout(()=>{Vr(ne),Vr(ve),r.lastScrollTime=Date.now()},300))},q=Y=>{const{fixedType:X}=e,{highlightHoverRow:ne}=s,{scrollXLoad:ve,scrollYLoad:Ce}=r,{elemStore:Se,lastScrollTop:ge,lastScrollLeft:xe}=f,we=H.value,K=i.value,ie=d.value,Ee=u.value,Te=h.value,z=b.value,oe=S.value,Re=be.value,He=K?K.$el:null,ze=Ee?Ee.$el:null,qe=ie.$el,Qe=Te?Te.$el:null,Xe=z?z.$el:null,Ze=Se["main-body-ySpace"],Je=Ze?Ze.value:null,st=Se["main-body-xSpace"],St=st?st.value:null,W=Ce&&Je?Je.clientHeight:qe.clientHeight,Tt=ve&&St?St.clientWidth:qe.clientWidth;let bt=Re.scrollTop;const mt=qe.scrollLeft,it=mt!==xe,kt=bt!==ge;f.lastScrollTop=bt,f.lastScrollLeft=mt,r.lastScrollTime=Date.now(),(we.isHover||ne)&&t.clearHoverRow(),Qe&&X==="left"?(bt=Qe.scrollTop,Ae(X,bt,qe,Xe)):Xe&&X==="right"?(bt=Xe.scrollTop,Ae(X,bt,qe,Qe)):(it&&(He&&(He.scrollLeft=qe.scrollLeft),ze&&(ze.scrollLeft=qe.scrollLeft)),(Qe||Xe)&&(t.checkScrolling(),kt&&Ae(X,bt,Qe,Xe))),ve&&it&&t.triggerScrollXEvent(Y),Ce&&kt&&t.triggerScrollYEvent(Y),it&&oe&&oe.reactData.visible&&oe.updatePlacement(),t.dispatchEvent("scroll",{type:gl,fixed:X,scrollTop:bt,scrollLeft:mt,scrollHeight:qe.scrollHeight,scrollWidth:qe.scrollWidth,bodyHeight:W,bodyWidth:Tt,isX:it,isY:kt},Y)};let D,G=0,te=0,me=0,Ie=!1;const v=(Y,X,ne,ve,Ce)=>{const{elemStore:Se}=f,{scrollXLoad:ge,scrollYLoad:xe}=r,we=d.value,K=h.value,ie=b.value,Ee=K?K.$el:null,Te=ie?ie.$el:null,z=we.$el,oe=Se["main-body-ySpace"],Re=oe?oe.value:null,He=Se["main-body-xSpace"],ze=He?He.value:null,qe=xe&&Re?Re.clientHeight:z.clientHeight,Qe=ge&&ze?ze.clientWidth:z.clientWidth,Xe=Ie===X?Math.max(0,G-me):0;Ie=X,G=Math.abs(X?ne-Xe:ne+Xe),te=0,me=0,clearTimeout(D);const Ze=()=>{if(me<G){const{fixedType:Je}=e;te=Math.max(5,Math.floor(te*1.5)),me=me+te,me>G&&(te=te-(me-G));const{scrollTop:st,clientHeight:St,scrollHeight:W}=z,Tt=st+te*(X?-1:1);z.scrollTop=Tt,Ee&&(Ee.scrollTop=Tt),Te&&(Te.scrollTop=Tt),(X?Tt<W-St:Tt>=0)&&(D=setTimeout(Ze,10)),t.dispatchEvent("scroll",{type:gl,fixed:Je,scrollTop:z.scrollTop,scrollLeft:z.scrollLeft,scrollHeight:z.scrollHeight,scrollWidth:z.scrollWidth,bodyHeight:qe,bodyWidth:Qe,isX:ve,isY:Ce},Y)}};Ze()},C=Y=>{const{deltaY:X,deltaX:ne}=Y,{highlightHoverRow:ve}=s,{scrollYLoad:Ce}=r,{lastScrollTop:Se,lastScrollLeft:ge}=f,xe=H.value,we=d.value,K=be.value,ie=we.$el,Ee=X,Te=ne,z=Ee<0;if(z?K.scrollTop<=0:K.scrollTop>=K.scrollHeight-K.clientHeight)return;const oe=K.scrollTop+Ee,Re=ie.scrollLeft+Te,He=Re!==ge,ze=oe!==Se;ze&&(Y.preventDefault(),f.lastScrollTop=oe,f.lastScrollLeft=Re,r.lastScrollTime=Date.now(),(xe.isHover||ve)&&t.clearHoverRow(),v(Y,z,Ee,He,ze),Ce&&t.triggerScrollYEvent(Y))};return pn(()=>{fe(()=>{const{fixedType:Y}=e,{elemStore:X}=f,ne=`${Y||"main"}-body-`,ve=be.value;X[`${ne}wrapper`]=be,X[`${ne}table`]=ce,X[`${ne}colgroup`]=le,X[`${ne}list`]=pe,X[`${ne}xSpace`]=he,X[`${ne}ySpace`]=se,X[`${ne}emptyBlock`]=B,ve&&(ve.onscroll=q,ve._onscroll=q)})}),$l(()=>{const Y=be.value;clearTimeout(D),Y&&(Y._onscroll=null,Y.onscroll=null)}),an(()=>{const{fixedType:Y}=e,{elemStore:X}=f,ne=`${Y||"main"}-body-`;X[`${ne}wrapper`]=null,X[`${ne}table`]=null,X[`${ne}colgroup`]=null,X[`${ne}list`]=null,X[`${ne}xSpace`]=null,X[`${ne}ySpace`]=null,X[`${ne}emptyBlock`]=null}),()=>{let{fixedColumn:Y,fixedType:X,tableColumn:ne}=e;const{keyboardConfig:ve,showOverflow:Ce,spanMethod:Se,mouseConfig:ge}=s,{tableData:xe,mergeList:we,scrollYLoad:K,isAllOverflow:ie}=r,{visibleColumn:Ee}=f,{slots:Te}=l,z=U.value,oe=O.value,Re=w.value,He=T.value;X&&(!r.expandColumn&&(K||Ce&&ie)&&!we.length&&!Se&&!(ve&&Re.isMerge)?ne=Y:ne=Ee);let ze;const qe=Te?Te.empty:null;if(qe)ze=t.callSlot(qe,{$table:t,$grid:t.xegrid});else{const Qe=oe.name?tt.renderer.get(oe.name):null,Xe=Qe?Qe.renderTableEmptyView||Qe.renderEmpty:null;Xe?ze=Nt(Xe(oe,{$table:t})):ze=s.emptyText||y.i18n("vxe.table.emptyText")}return m("div",Object.assign({ref:be,class:["vxe-table--body-wrapper",X?`fixed-${X}--wrapper`:"body--wrapper"],xid:o},z.mode==="wheel"?{onWheel:C}:{}),[X?Et():m("div",{ref:he,class:"vxe-body--x-space"}),m("div",{ref:se,class:"vxe-body--y-space"}),m("table",{ref:ce,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0},[m("colgroup",{ref:le},ne.map((Qe,Xe)=>m("col",{name:Qe.id,key:Xe}))),m("tbody",{ref:pe},ke(X,xe,ne))]),m("div",{class:"vxe-table--checkbox-range"}),ge&&He.area?m("div",{class:"vxe-table--cell-area"},[m("span",{class:"vxe-table--cell-main-area"},He.extension?[m("span",{class:"vxe-table--cell-main-area-btn",onMousedown(Qe){t.triggerCellExtendMousedownEvent(Qe,{$table:t,fixed:X,type:gl})}})]:[]),m("span",{class:"vxe-table--cell-copy-area"}),m("span",{class:"vxe-table--cell-extend-area"}),m("span",{class:"vxe-table--cell-multi-area"}),m("span",{class:"vxe-table--cell-active-area"})]):null,X?null:m("div",{class:"vxe-table--empty-block",ref:B},[m("div",{class:"vxe-table--empty-content"},ze)])])}}}),tc="header",Af=Mt({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=ct("$xetable",{}),{xID:n,props:o,reactData:s,internalData:l}=t,{refElem:r,refTableBody:f,refLeftContainer:i,refRightContainer:d,refCellResizeBar:u}=t.getRefMaps(),{computeColumnOpts:h}=t.getComputeMaps(),b=Ue([]),S=Ue(),F=Ue(),T=Ue(),U=Ue(),O=Ue(),w=Ue(),E=()=>{const{isGroup:V}=s;b.value=V?$x(e.tableGroupColumn):[]},M=(V,P)=>{const{column:_}=P,{fixedType:H}=e,ae=f.value,be=i.value,ce=d.value,le=u.value,{clientX:pe}=V,he=S.value,se=V.target,B=P.cell=se.parentNode;let I=0;const A=ae.$el,Z=_x(se,he),ee=se.clientWidth,ye=Math.floor(ee/2),Pe=jx(P)-ye;let ke=Z.left-B.clientWidth+ee+Pe,_e=Z.left+ye;const Ae=document.onmousemove,q=document.onmouseup,D=H==="left",G=H==="right",te=r.value;let me=0;if(D||G){const v=D?"nextElementSibling":"previousElementSibling";let C=B[v];for(;C&&!Zo(C,"fixed--hidden");)Zo(C,"col--group")||(me+=C.offsetWidth),C=C[v];G&&ce&&(_e=ce.offsetLeft+me)}const Ie=function(v){v.stopPropagation(),v.preventDefault();const C=v.clientX-pe;let N=_e+C;const Y=H?0:A.scrollLeft;D?N=Math.min(N,(ce?ce.offsetLeft:A.clientWidth)-me-Pe):G?(ke=(be?be.clientWidth:0)+me+Pe,N=Math.min(N,_e+B.clientWidth-Pe)):ke=Math.max(A.scrollLeft,ke),I=Math.max(N,ke),le.style.left=`${I-Y}px`};s._isResize=!0,Uo(te,"drag--resize"),le.style.display="block",document.onmousemove=Ie,document.onmouseup=function(v){document.onmousemove=Ae,document.onmouseup=q;const C=_.renderWidth+(G?_e-I:I-_e);_.resizeWidth=C,le.style.display="none",s._isResize=!1,l._lastResizeTime=Date.now(),t.analyColumnWidth(),t.recalculate(!0).then(()=>{t.saveCustomResizable(),t.updateCellAreas(),t.dispatchEvent("resizable-change",Object.assign(Object.assign({},P),{resizeWidth:C}),v)}),Zn(te,"drag--resize")},Ie(V),t.closeMenu&&t.closeMenu()};return lt(()=>e.tableColumn,E),pn(()=>{fe(()=>{const{fixedType:V}=e,{internalData:P}=t,{elemStore:_}=P,H=`${V||"main"}-header-`;_[`${H}wrapper`]=S,_[`${H}table`]=F,_[`${H}colgroup`]=T,_[`${H}list`]=U,_[`${H}xSpace`]=O,_[`${H}repair`]=w,E()})}),an(()=>{const{fixedType:V}=e,{internalData:P}=t,{elemStore:_}=P,H=`${V||"main"}-header-`;_[`${H}wrapper`]=null,_[`${H}table`]=null,_[`${H}colgroup`]=null,_[`${H}list`]=null,_[`${H}xSpace`]=null,_[`${H}repair`]=null}),()=>{const{fixedType:V,fixedColumn:P,tableColumn:_}=e,{resizable:H,border:ae,columnKey:be,headerRowClassName:ce,headerCellClassName:le,headerRowStyle:pe,headerCellStyle:he,showHeaderOverflow:se,headerAlign:B,align:I,mouseConfig:A}=o,{isGroup:Z,currentColumn:ee,scrollXLoad:ye,overflowX:Pe,scrollbarWidth:ke}=s,{visibleColumn:_e}=l,Ae=h.value;let q=b.value,D=_;return Z?D=_e:(V&&(ye||se)&&(D=P),q=[D]),m("div",{ref:S,class:["vxe-table--header-wrapper",V?`fixed-${V}--wrapper`:"body--wrapper"],xid:n},[V?Et():m("div",{ref:O,class:"vxe-body--x-space"}),m("table",{ref:F,class:"vxe-table--header",xid:n,cellspacing:0,cellpadding:0,border:0},[m("colgroup",{ref:T},D.map((G,te)=>m("col",{name:G.id,key:te})).concat(ke?[m("col",{name:"col_gutter"})]:[])),m("thead",{ref:U},q.map((G,te)=>m("tr",{class:["vxe-header--row",ce?c.isFunction(ce)?ce({$table:t,$rowIndex:te,fixed:V,type:tc}):ce:""],style:pe?c.isFunction(pe)?pe({$table:t,$rowIndex:te,fixed:V,type:tc}):pe:null},G.map((me,Ie)=>{const{type:v,showHeaderOverflow:C,headerAlign:N,align:Y,headerClassName:X}=me,ne=me.children&&me.children.length,ve=V?me.fixed!==V&&!ne:!!me.fixed&&Pe,Ce=c.isUndefined(C)||c.isNull(C)?se:C,Se=N||Y||B||I;let ge=Ce==="ellipsis";const xe=Ce==="title",we=Ce===!0||Ce==="tooltip";let K=xe||we||ge;const ie=me.filters&&me.filters.some(Re=>Re.checked),Ee=t.getColumnIndex(me),Te=t.getVTColumnIndex(me),z={$table:t,$grid:t.xegrid,$rowIndex:te,column:me,columnIndex:Ee,$columnIndex:Ie,_columnIndex:Te,fixed:V,type:tc,isHidden:ve,hasFilter:ie},oe={onClick:Re=>t.triggerHeaderCellClickEvent(Re,z),onDblclick:Re=>t.triggerHeaderCellDblclickEvent(Re,z)};return ye&&!K&&(ge=K=!0),A&&(oe.onMousedown=Re=>t.triggerHeaderCellMousedownEvent(Re,z)),m("th",Object.assign(Object.assign({class:["vxe-header--column",me.id,{[`col--${Se}`]:Se,[`col--${v}`]:v,"col--last":Ie===G.length-1,"col--fixed":me.fixed,"col--group":ne,"col--ellipsis":K,"fixed--hidden":ve,"is--sortable":me.sortable,"col--filter":!!me.filters,"is--filter-active":ie,"col--current":ee===me},X?c.isFunction(X)?X(z):X:"",le?c.isFunction(le)?le(z):le:""],colid:me.id,colspan:me.colSpan>1?me.colSpan:null,rowspan:me.rowSpan>1?me.rowSpan:null,style:he?c.isFunction(he)?he(z):he:null},oe),{key:be||Ae.useKey||ne?me.id:Ie}),[m("div",{class:["vxe-cell",{"c--title":xe,"c--tooltip":we,"c--ellipsis":ge}]},me.renderHeader(z)),!ve&&!ne&&(c.isBoolean(me.resizable)?me.resizable:Ae.resizable||H)?m("div",{class:["vxe-resizable",{"is--line":!ae||ae==="none"}],onMousedown:Re=>M(Re,z)}):null])}).concat(ke?[m("th",{class:"vxe-header--gutter col--gutter"})]:[]))))]),m("div",{ref:w,class:"vxe-table--header-border-line"})])}}}),nc="footer";function Jy(e,t,n){for(let o=0;o<e.length;o++){const{row:s,col:l,rowspan:r,colspan:f}=e[o];if(l>-1&&s>-1&&r&&f){if(s===t&&l===n)return{rowspan:r,colspan:f};if(t>=s&&t<s+r&&n>=l&&n<l+f)return{rowspan:0,colspan:0}}}}const Nf=Mt({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=ct("$xetable",{}),{xID:n,props:o,reactData:s,internalData:l}=t,{refTableHeader:r,refTableBody:f,refValidTooltip:i}=t.getRefMaps(),{computeTooltipOpts:d,computeColumnOpts:u}=t.getComputeMaps(),h=Ue(),b=Ue(),S=Ue(),F=Ue(),T=Ue(),U=w=>{const{fixedType:E}=e,{scrollXLoad:M}=s,{lastScrollLeft:L}=l,V=i.value,P=r.value,_=f.value,H=P?P.$el:null,ae=h.value,be=_.$el,ce=ae.scrollLeft,le=ce!==L;l.lastScrollLeft=ce,s.lastScrollTime=Date.now(),H&&(H.scrollLeft=ce),be&&(be.scrollLeft=ce),M&&le&&t.triggerScrollXEvent(w),le&&V&&V.reactData.visible&&V.updatePlacement(),t.dispatchEvent("scroll",{type:nc,fixed:E,scrollTop:be.scrollTop,scrollLeft:ce,isX:le,isY:!1},w)};return pn(()=>{fe(()=>{const{fixedType:w}=e,{elemStore:E}=l,M=`${w||"main"}-footer-`;E[`${M}wrapper`]=h,E[`${M}table`]=b,E[`${M}colgroup`]=S,E[`${M}list`]=F,E[`${M}xSpace`]=T})}),an(()=>{const{fixedType:w}=e,{elemStore:E}=l,M=`${w||"main"}-footer-`;E[`${M}wrapper`]=null,E[`${M}table`]=null,E[`${M}colgroup`]=null,E[`${M}list`]=null,E[`${M}xSpace`]=null}),()=>{let{fixedType:w,fixedColumn:E,tableColumn:M,footerTableData:L}=e;const{footerRowClassName:V,footerCellClassName:P,footerRowStyle:_,footerCellStyle:H,footerAlign:ae,footerSpanMethod:be,align:ce,columnKey:le,showFooterOverflow:pe}=o,{visibleColumn:he}=l,{scrollXLoad:se,overflowX:B,scrollbarWidth:I,currentColumn:A,mergeFooterList:Z}=s,ee=d.value,ye=u.value;return w&&(!s.expandColumn&&(se||pe)&&(!Z.length||!be)?M=E:M=he),m("div",{ref:h,class:["vxe-table--footer-wrapper",w?`fixed-${w}--wrapper`:"body--wrapper"],xid:n,onScroll:U},[w?Et():m("div",{ref:T,class:"vxe-body--x-space"}),m("table",{ref:b,class:"vxe-table--footer",xid:n,cellspacing:0,cellpadding:0,border:0},[m("colgroup",{ref:S},M.map((Pe,ke)=>m("col",{name:Pe.id,key:ke})).concat(I?[m("col",{name:"col_gutter"})]:[])),m("tfoot",{ref:F},L.map((Pe,ke)=>{const _e=ke,Ae={$table:t,row:Pe,_rowIndex:ke,$rowIndex:_e,fixed:w,type:nc};return m("tr",{class:["vxe-footer--row",V?c.isFunction(V)?V(Ae):V:""],style:_?c.isFunction(_)?_(Ae):_:null},M.map((q,D)=>{const{type:G,showFooterOverflow:te,footerAlign:me,align:Ie,footerClassName:v}=q,C=ee.showAll,N=q.children&&q.children.length,Y=w?q.fixed!==w&&!N:q.fixed&&B,X=c.isUndefined(te)||c.isNull(te)?pe:te,ne=me||Ie||ae||ce;let ve=X==="ellipsis";const Ce=X==="title",Se=X===!0||X==="tooltip";let ge=Ce||Se||ve;const xe={colid:q.id},we={},K=t.getColumnIndex(q),ie=t.getVTColumnIndex(q),Ee=ie,Te={$table:t,$grid:t.xegrid,row:Pe,rowIndex:ke,_rowIndex:ke,$rowIndex:_e,column:q,columnIndex:K,$columnIndex:D,_columnIndex:ie,itemIndex:Ee,items:Pe,fixed:w,type:nc,data:L};if(se&&!ge&&(ve=ge=!0),(Ce||Se||C)&&(we.onMouseenter=z=>{Ce?au(z.currentTarget,q):(Se||C)&&t.triggerFooterTooltipEvent(z,Te)}),(Se||C)&&(we.onMouseleave=z=>{(Se||C)&&t.handleTargetLeaveEvent(z)}),we.onClick=z=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:z.currentTarget},Te),z)},we.onDblclick=z=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:z.currentTarget},Te),z)},Z.length){const z=Jy(Z,ke,ie);if(z){const{rowspan:oe,colspan:Re}=z;if(!oe||!Re)return null;oe>1&&(xe.rowspan=oe),Re>1&&(xe.colspan=Re)}}else if(be){const{rowspan:z=1,colspan:oe=1}=be(Te)||{};if(!z||!oe)return null;z>1&&(xe.rowspan=z),oe>1&&(xe.colspan=oe)}return m("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",q.id,{[`col--${ne}`]:ne,[`col--${G}`]:G,"col--last":D===M.length-1,"fixed--hidden":Y,"col--ellipsis":ge,"col--current":A===q},vs(v,Te),vs(P,Te)]},xe),{style:H?c.isFunction(H)?H(Te):H:null}),we),{key:le||ye.useKey?q.id:D}),[m("div",{class:["vxe-cell",{"c--title":Ce,"c--tooltip":Se,"c--ellipsis":ve}]},q.renderFooter(Te))])}).concat(I?[m("td",{class:"vxe-footer--gutter col--gutter"})]:[]))}))])])}}}),Eu={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>y.table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>y.table.resizable},stripe:{type:Boolean,default:()=>y.table.stripe},border:{type:[Boolean,String],default:()=>y.table.border},round:{type:Boolean,default:()=>y.table.round},size:{type:String,default:()=>y.table.size||y.size},fit:{type:Boolean,default:()=>y.table.fit},loading:Boolean,align:{type:String,default:()=>y.table.align},headerAlign:{type:String,default:()=>y.table.headerAlign},footerAlign:{type:String,default:()=>y.table.footerAlign},showHeader:{type:Boolean,default:()=>y.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>y.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>y.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>y.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>y.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>y.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>y.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>y.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>y.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>y.table.emptyText},keepSource:{type:Boolean,default:()=>y.table.keepSource},autoResize:{type:Boolean,default:()=>y.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>y.table.animat},delayHover:{type:Number,default:()=>y.table.delayHover},params:Object},Su=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-activated","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],Qy=Jn["-webkit"]&&!Jn.edge,oc="VXE_TABLE_CUSTOM_COLUMN_WIDTH",sc="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",lc="VXE_TABLE_CUSTOM_COLUMN_FIXED",ic="VXE_TABLE_CUSTOM_COLUMN_SORT",Oi=Mt({name:"VxeTable",props:Eu,emits:Su,setup(e,t){const{slots:n,emit:o}=t,s=tt.tooltip,l=c.uniqueId(),r=cn(e),f=Bl(),i=Vt({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),d={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let u={},h={};const b=Ue(),S=Ue(),F=Ue(),T=Ue(),U=Ue(),O=Ue(),w=Ue(),E=Ue(),M=Ue(),L=Ue(),V=Ue(),P=Ue(),_=Ue(),H=Ue(),ae=Ue(),be=Ue(),ce=Ue(),le=Ue(),pe=Ue(),he=Ue(),se=ct("$xegrid",null);let B;const I=Me(()=>Object.assign({},y.table.validConfig,e.validConfig)),A=Me(()=>Object.assign({},y.table.scrollX,e.scrollX)),Z=Me(()=>Object.assign({},y.table.scrollY,e.scrollY)),ee=Me(()=>({default:48,medium:44,small:40,mini:36})),ye=Me(()=>Object.assign({},y.table.columnConfig,e.columnConfig)),Pe=Me(()=>Object.assign({},y.table.rowConfig,e.rowConfig)),ke=Me(()=>Object.assign({},y.table.resizeConfig,e.resizeConfig)),_e=Me(()=>Object.assign({},y.table.resizableConfig,e.resizableConfig)),Ae=Me(()=>Object.assign({startIndex:0},y.table.seqConfig,e.seqConfig)),q=Me(()=>Object.assign({},y.table.radioConfig,e.radioConfig)),D=Me(()=>Object.assign({},y.table.checkboxConfig,e.checkboxConfig));let G=Ue();G=Me(()=>Object.assign({},y.tooltip,y.table.tooltipConfig,e.tooltipConfig));const te=Me(()=>{const a=G.value;return Object.assign({},a)}),me=Me(()=>{const a=G.value;return Object.assign({isArrow:!1},a)}),Ie=Me(()=>Object.assign({},y.table.editConfig,e.editConfig)),v=Me(()=>Object.assign({orders:["asc","desc",null]},y.table.sortConfig,e.sortConfig)),C=Me(()=>Object.assign({},y.table.filterConfig,e.filterConfig)),N=Me(()=>Object.assign({},y.table.mouseConfig,e.mouseConfig)),Y=Me(()=>Object.assign({},y.table.areaConfig,e.areaConfig)),X=Me(()=>Object.assign({},y.table.keyboardConfig,e.keyboardConfig)),ne=Me(()=>Object.assign({},y.table.clipConfig,e.clipConfig)),ve=Me(()=>Object.assign({},y.table.fnrConfig,e.fnrConfig)),Ce=Me(()=>Object.assign({},y.table.menuConfig,e.menuConfig)),Se=Me(()=>{const p=Ce.value.header;return p&&p.options?p.options:[]}),ge=Me(()=>{const p=Ce.value.body;return p&&p.options?p.options:[]}),xe=Me(()=>{const p=Ce.value.footer;return p&&p.options?p.options:[]}),we=Me(()=>{const a=Ce.value,p=Se.value,g=ge.value,x=xe.value;return!!(e.menuConfig&&gt(a)&&(p.length||g.length||x.length))}),K=Me(()=>{const{ctxMenuStore:a}=i,p=[];return a.list.forEach(g=>{g.forEach(x=>{p.push(x)})}),p}),ie=Me(()=>Object.assign({},y.table.exportConfig,e.exportConfig)),Ee=Me(()=>Object.assign({},y.table.importConfig,e.importConfig)),Te=Me(()=>Object.assign({},y.table.printConfig,e.printConfig)),z=Me(()=>Object.assign({},y.table.expandConfig,e.expandConfig)),oe=Me(()=>Object.assign({},y.table.treeConfig,e.treeConfig)),Re=Me(()=>Object.assign({},y.table.emptyRender,e.emptyRender)),He=Me(()=>Object.assign({},y.table.loadingConfig,e.loadingConfig)),ze=Me(()=>e.border?Math.max(2,Math.ceil(i.scrollbarWidth/i.tableColumn.length)):1),qe=Me(()=>Object.assign({},y.table.customConfig,e.customConfig)),Qe=Me(()=>{const{collectColumn:a}=d;let p=0;return a.forEach(g=>{g.fixed&&p++}),p}),Xe=Me(()=>{const a=Qe.value,p=ye.value,{maxFixedSize:g}=p;return g?a>=g:!1}),Ze=Me(()=>{const{border:a}=e;return a===!0?"full":a||"default"}),Je=Me(()=>{const{tableData:a}=i,{tableFullData:p}=d,g=D.value,{strict:x,checkMethod:k}=g;return x?a.length||p.length?k?p.every($=>!k({row:$})):!1:!0:!1}),st={refElem:b,refTooltip:S,refValidTooltip:T,refTableFilter:O,refTableCustom:w,refTableMenu:U,refTableHeader:E,refTableBody:M,refTableFooter:L,refTableLeftHeader:V,refTableLeftBody:P,refTableLeftFooter:_,refTableRightHeader:H,refTableRightBody:ae,refTableRightFooter:be,refLeftContainer:ce,refRightContainer:le,refCellResizeBar:pe},St={computeSize:r,computeValidOpts:I,computeSXOpts:A,computeSYOpts:Z,computeColumnOpts:ye,computeRowOpts:Pe,computeResizeleOpts:ke,computeResizableOpts:_e,computeSeqOpts:Ae,computeRadioOpts:q,computeCheckboxOpts:D,computeTooltipOpts:G,computeEditOpts:Ie,computeSortOpts:v,computeFilterOpts:C,computeMouseOpts:N,computeAreaOpts:Y,computeKeyboardOpts:X,computeClipOpts:ne,computeFNROpts:ve,computeHeaderMenu:Se,computeBodyMenu:ge,computeFooterMenu:xe,computeIsMenu:we,computeMenuOpts:Ce,computeExportOpts:ie,computeImportOpts:Ee,computePrintOpts:Te,computeExpandOpts:z,computeTreeOpts:oe,computeEmptyOpts:Re,computeLoadingOpts:He,computeCustomOpts:qe,computeFixedColumnSize:Qe,computeIsMaxFixedColumn:Xe,computeIsAllCheckboxDisabled:Je},W={xID:l,props:e,context:t,instance:f,reactData:i,internalData:d,getRefMaps:()=>st,getComputeMaps:()=>St,xegrid:se},Tt=(a,p,g)=>{const x=c.get(a,g),k=c.get(p,g);return bo(x)&&bo(k)?!0:c.isString(x)||c.isNumber(x)?""+x==""+k:c.isEqual(x,k)},bt=a=>{const p=v.value,{orders:g}=p,x=a.order||null,k=g.indexOf(x)+1;return g[k<g.length?k:0]},mt=a=>{const p=y.version,g=c.toStringJSON(localStorage.getItem(a)||"");return g&&g._v===p?g:{_v:p}},it=a=>{const{fullAllDataRowIdData:p}=d,g={};return c.each(a,(x,k)=>{p[k]&&(g[k]=x)}),g},kt=a=>{const{fullDataRowIdData:p}=d,g=[];return c.each(a,(x,k)=>{p[k]&&W.findRowIndexOf(g,p[k].row)===-1&&g.push(p[k].row)}),g},xt=()=>{const{visibleColumn:a}=d,p=M.value,g=p?p.$el:null;if(g){const{scrollLeft:x,clientWidth:k}=g,$=x+k;let j=-1,Q=0,J=0;for(let de=0,re=a.length;de<re&&(Q+=a[de].renderWidth,j===-1&&x<Q&&(j=de),!(j>=0&&(J++,Q>$)));de++);return{toVisibleIndex:Math.max(0,j),visibleSize:Math.max(8,J)}}return{toVisibleIndex:0,visibleSize:8}},Ft=()=>{const a=E.value,p=M.value,g=p?p.$el:null,x=r.value,k=ee.value;if(g){const $=a?a.$el:null;let j=0,Q;Q=g.querySelector("tr"),!Q&&$&&(Q=$.querySelector("tr")),Q&&(j=Q.clientHeight),j||(j=k[x||"default"]);const J=Math.max(8,Math.ceil(g.clientHeight/j)+2);return{rowHeight:j,visibleSize:J}}return{rowHeight:0,visibleSize:8}},wt=(a,p,g)=>{for(let x=0,k=a.length;x<k;x++){const $=a[x],{startIndex:j,endIndex:Q}=p,J=$[g],de=$[g+"span"],re=J+de;J<j&&j<re&&(p.startIndex=J),J<Q&&Q<re&&(p.endIndex=re),(p.startIndex!==j||p.endIndex!==Q)&&(x=-1)}},It=(a,p,g)=>{if(a){const{treeConfig:x}=e,{visibleColumn:k}=d;c.isArray(a)||(a=[a]),x&&a.length&&sn("vxe.error.noTree",["merge-cells | merge-footer-items"]),a.forEach($=>{let{row:j,col:Q,rowspan:J,colspan:de}=$;if(g&&c.isNumber(j)&&(j=g[j]),c.isNumber(Q)&&(Q=k[Q]),(g?j:c.isNumber(j))&&Q&&(J||de)&&(J=c.toNumber(J)||1,de=c.toNumber(de)||1,J>1||de>1)){const re=c.findIndexOf(p,Ve=>(Ve._row===j||Ye(W,Ve._row)===Ye(W,j))&&(Ve._col.id===Q||Ve._col.id===Q.id)),De=p[re];if(De)De.rowspan=J,De.colspan=de,De._rowspan=J,De._colspan=de;else{const Ve=g?W.findRowIndexOf(g,j):j,Le=u.getVTColumnIndex(Q);p.push({row:Ve,col:Le,rowspan:J,colspan:de,_row:j,_col:Q,_rowspan:J,_colspan:de})}}})}},$t=(a,p,g)=>{const x=[];if(a){const{treeConfig:k}=e,{visibleColumn:$}=d;c.isArray(a)||(a=[a]),k&&a.length&&sn("vxe.error.noTree",["merge-cells | merge-footer-items"]),a.forEach(j=>{let{row:Q,col:J}=j;g&&c.isNumber(Q)&&(Q=g[Q]),c.isNumber(J)&&(J=$[J]);const de=c.findIndexOf(p,re=>(re._row===Q||Ye(W,re._row)===Ye(W,Q))&&(re._col.id===J||re._col.id===J.id));if(de>-1){const re=p.splice(de,1);x.push(re[0])}})}return x},Gt=()=>{const{tableFullColumn:a}=d;a.forEach(p=>{p.order=null})},ln=a=>{const{parentHeight:p}=i,g=e[a];let x=0;if(g)if(g==="auto")x=p;else{const k=W.getExcludeHeight();ui(g)?x=Math.floor((c.toInteger(g)||1)/100*p):x=c.toNumber(g),x=Math.max(40,x-k)}return x},Jt=()=>{const{id:a,customConfig:p}=e,g=qe.value,{storage:x}=g,k=x===!0,$=k?{}:Object.assign({},x||{}),j=k||$.resizable,Q=k||$.visible,J=k||$.fixed,de=k||$.sort;if(p&&(j||Q||J||de)){const re={};if(!a){sn("vxe.error.reqProp",["id"]);return}if(j){const Be=mt(oc)[a];Be&&c.each(Be,(Ne,je)=>{re[je]={resizeWidth:Ne}})}if(J){const Be=mt(lc)[a];Be&&Be.split(",").forEach(je=>{const[Fe,Ge]=je.split("|");re[Fe]?re[Fe].fixed=Ge:re[Fe]={fixed:Ge}})}let De=!1;if(de){const Be=mt(ic)[a];Be&&c.each(Be,(Ne,je)=>{re[je]?re[je].renderSortNumber=Ne:re[je]={renderSortNumber:Ne},De||(De=!0)})}if(Q){const Be=mt(sc)[a];if(Be){const Ne=Be.split("|"),je=Ne[0]?Ne[0].split(","):[],Fe=Ne[1]?Ne[1].split(","):[];je.forEach(Ge=>{re[Ge]?re[Ge].visible=!1:re[Ge]={visible:!1}}),Fe.forEach(Ge=>{re[Ge]?re[Ge].visible=!0:re[Ge]={visible:!0}})}}let{collectColumn:Ve}=d;const Le={};c.eachTree(Ve,Be=>{const Ne=Be.getKey();Ne&&(Le[Ne]=Be)}),c.each(re,({visible:Be,resizeWidth:Ne,fixed:je,renderSortNumber:Fe},Ge)=>{const et=Le[Ge];et&&(c.isNumber(Ne)&&(et.resizeWidth=Ne),c.isBoolean(Be)&&(et.visible=Be),je&&(et.fixed=je),Fe&&(et.renderSortNumber=Number(Fe)))}),De&&(Ve=c.orderBy(Ve,"renderSortNumber"),d.collectColumn=Ve,d.tableFullColumn=At(Ve))}},Qt=()=>{const{tableFullColumn:a,collectColumn:p}=d,g=d.fullColumnIdData={},x=d.fullColumnFieldData={};N.value,ye.value,Pe.value;const k=p.some(xl);let $=!!e.showOverflow,j,Q;const J=(de,re,De,Ve,Le)=>{const{id:Be,field:Ne,fixed:je,type:Fe,treeNode:Ge}=de,et={column:de,colid:Be,index:re,items:De,parent:Le};Ne&&(x[Ne]=et),Ge?Q||(Q=de):Fe==="expand"&&(j||(j=de)),$&&de.showOverflow===!1&&($=!1),g[Be]&&sn("vxe.error.colRepet",["colId",Be]),g[Be]=et};k?c.eachTree(p,(de,re,De,Ve,Le,Be)=>{de.level=Be.length,J(de,re,De,Ve,Le)}):a.forEach(J),i.isGroup=k,i.treeNodeColumn=Q,i.expandColumn=j,i.isAllOverflow=$},dn=()=>{d.customHeight=ln("height"),d.customMinHeight=ln("minHeight"),d.customMaxHeight=ln("maxHeight")},Bt=()=>{const a=E.value,p=M.value,g=L.value,x=p?p.$el:null,k=a?a.$el:null,$=g?g.$el:null;if(!x)return;let j=0;const Q=40,J=x.clientWidth-1;let de=J,re=de/100;const{fit:De}=e,{columnStore:Ve}=i,{resizeList:Le,pxMinList:Be,pxList:Ne,scaleList:je,scaleMinList:Fe,autoList:Ge}=Ve;if(Be.forEach(Rt=>{const Ot=c.toInteger(Rt.minWidth);j+=Ot,Rt.renderWidth=Ot}),Fe.forEach(Rt=>{const Ot=Math.floor(c.toInteger(Rt.minWidth)*re);j+=Ot,Rt.renderWidth=Ot}),je.forEach(Rt=>{const Ot=Math.floor(c.toInteger(Rt.width)*re);j+=Ot,Rt.renderWidth=Ot}),Ne.forEach(Rt=>{const Ot=c.toInteger(Rt.width);j+=Ot,Rt.renderWidth=Ot}),Le.forEach(Rt=>{const Ot=c.toInteger(Rt.resizeWidth);j+=Ot,Rt.renderWidth=Ot}),de-=j,re=de>0?Math.floor(de/(Fe.length+Be.length+Ge.length)):0,De?de>0&&Fe.concat(Be).forEach(Rt=>{j+=re,Rt.renderWidth+=re}):re=Q,Ge.forEach(Rt=>{const Ot=Math.max(re,Q);Rt.renderWidth=Ot,j+=Ot}),De){const Rt=je.concat(Fe).concat(Be).concat(Ge);let Ot=Rt.length-1;if(Ot>0){let Yt=J-j;if(Yt>0){for(;Yt>0&&Ot>=0;)Yt--,Rt[Ot--].renderWidth++;j=J}}}const et=x.offsetHeight,ut=x.scrollHeight>x.clientHeight;let ot=0;ut&&(ot=Math.max(x.offsetWidth-x.clientWidth,0)),i.scrollbarWidth=ot,i.overflowY=ut,d.tableWidth=j,d.tableHeight=et;let ft=0;k&&(ft=k.clientHeight,fe(()=>{k&&x&&k.scrollLeft!==x.scrollLeft&&(k.scrollLeft=x.scrollLeft)})),d.headerHeight=ft;let jt=!1,Zt=0,_t=0;$?(Zt=$.offsetHeight,jt=j>$.clientWidth,jt&&(_t=Math.max(Zt-$.clientHeight,0))):(jt=j>J,jt&&(_t=Math.max(et-x.clientHeight,0))),d.footerHeight=Zt,i.overflowX=jt,i.scrollbarHeight=_t,dn(),i.parentHeight=Math.max(d.headerHeight+Zt+20,h.getParentHeight()),jt&&h.checkScrolling()},zt=a=>{const{sortBy:p,sortType:g}=a;return x=>{let k;return p?k=c.isFunction(p)?p({row:x,column:a}):c.get(x,p):k=h.getCellLabel(x,a),!g||g==="auto"?isNaN(k)?k:c.toNumber(k):g==="number"?c.toNumber(k):g==="string"?c.toValueString(k):k}},Wt=()=>{const{treeConfig:a}=e,{afterFullData:p,fullDataRowIdData:g,fullAllDataRowIdData:x}=d,{afterTreeFullData:k}=d,$=oe.value,j=$.children||$.childrenField,Q={};a?c.eachTree(k,(J,de,re,De)=>{const Ve=Ye(W,J),Le=x[Ve],Be=De.map((Ne,je)=>je%2===0?Number(Ne)+1:".").join("");if(Le)Le.seq=Be,Le._index=de;else{const Ne={row:J,rowid:Ve,seq:Be,index:-1,$index:-1,_index:de,items:[],parent:null,level:0};x[Ve]=Ne,g[Ve]=Ne}Q[Ve]=J},{children:$.transform?$.mapChildrenField:j}):p.forEach((J,de)=>{const re=Ye(W,J),De=x[re],Ve=de+1;if(De)De.seq=Ve,De._index=de;else{const Le={row:J,rowid:re,seq:Ve,index:-1,$index:-1,_index:de,items:[],parent:null,level:0};x[re]=Le,g[re]=Le}Q[re]=J}),d.afterFullRowMaps=Q},nn=()=>{const{treeConfig:a}=e,{treeExpandedMaps:p}=i,g=oe.value;if(a&&g.transform){const x=[],k={};return c.eachTree(d.afterTreeFullData,($,j,Q,J,de)=>{const re=Ye(W,$),De=Ye(W,de);(!de||k[De]&&p[De])&&(k[re]=1,x.push($))},{children:g.mapChildrenField}),d.afterFullData=x,Wl(x),x}return d.afterFullData},yn=()=>{const{treeConfig:a}=e,{tableFullColumn:p,tableFullData:g,tableFullTreeData:x}=d,k=C.value,$=v.value,j=oe.value,{transform:Q}=j,{remote:J,filterMethod:de}=k,{remote:re,sortMethod:De,multiple:Ve,chronological:Le}=$;let Be=[],Ne=[];if(!J||!re){const je=[];let Fe=[];if(p.forEach(Ge=>{const{field:et,sortable:ut,order:ot,filters:ft}=Ge;if(!J&&ft&&ft.length){const jt=[],Zt=[];ft.forEach(_t=>{_t.checked&&(Zt.push(_t),jt.push(_t.value))}),Zt.length&&je.push({column:Ge,valueList:jt,itemList:Zt})}!re&&ut&&ot&&Fe.push({column:Ge,field:et,property:et,order:ot,sortTime:Ge.sortTime})}),Ve&&Le&&Fe.length>1&&(Fe=c.orderBy(Fe,"sortTime")),!J&&je.length){const Ge=et=>je.every(({column:ut,valueList:ot,itemList:ft})=>{const{filterMethod:jt,filterRender:Zt}=ut,_t=Zt?tt.renderer.get(Zt.name):null,Rt=_t?_t.filterMethod:null,Ot=_t?_t.defaultFilterMethod:null,Yt=po(et,ut);return jt?ft.some(wn=>jt({value:wn.value,option:wn,cellValue:Yt,row:et,column:ut,$table:W})):Rt?ft.some(wn=>Rt({value:wn.value,option:wn,cellValue:Yt,row:et,column:ut,$table:W})):de?de({options:ft,values:ot,cellValue:Yt,row:et,column:ut}):Ot?ft.some(wn=>Ot({value:wn.value,option:wn,cellValue:Yt,row:et,column:ut,$table:W})):ot.indexOf(c.get(et,ut.field))>-1});a&&Q?(Ne=c.searchTree(x,Ge,Object.assign(Object.assign({},j),{original:!0})),Be=Ne):(Be=a?x.filter(Ge):g.filter(Ge),Ne=Be)}else a&&Q?(Ne=c.searchTree(x,()=>!0,Object.assign(Object.assign({},j),{original:!0})),Be=Ne):(Be=a?x.slice(0):g.slice(0),Ne=Be);if(!re&&Fe.length)if(a&&Q){if(De){const Ge=De({data:Ne,sortList:Fe,$table:W});Ne=c.isArray(Ge)?Ge:Ne}else Ne=c.orderBy(Ne,Fe.map(({column:Ge,order:et})=>[zt(Ge),et]));Be=Ne}else{if(De){const Ge=De({data:Be,sortList:Fe,$table:W});Be=c.isArray(Ge)?Ge:Be}else Be=c.orderBy(Be,Fe.map(({column:Ge,order:et})=>[zt(Ge),et]));Ne=Be}}else a&&Q?(Ne=c.searchTree(x,()=>!0,Object.assign(Object.assign({},j),{original:!0})),Be=Ne):(Be=a?x.slice(0):g.slice(0),Ne=Be);d.afterFullData=Be,d.afterTreeFullData=Ne,Wt()},on=()=>{const{border:a,showFooter:p,showOverflow:g,showHeaderOverflow:x,showFooterOverflow:k,mouseConfig:$,spanMethod:j,footerSpanMethod:Q,keyboardConfig:J}=e,{isGroup:de,currentRow:re,tableColumn:De,scrollXLoad:Ve,scrollYLoad:Le,scrollbarWidth:Be,scrollbarHeight:Ne,columnStore:je,editStore:Fe,mergeList:Ge,mergeFooterList:et,isAllOverflow:ut}=i;let{visibleColumn:ot,fullColumnIdData:ft,tableHeight:jt,tableWidth:Zt,headerHeight:_t,footerHeight:Rt,elemStore:Ot,customHeight:Yt,customMinHeight:wn,customMaxHeight:vo}=d;const rl=["main","left","right"],Ms=he.value,Yl=ze.value,ks=N.value,$o=X.value,Is=Ot["main-body-wrapper"],Ds=Is?Is.value:null;return Ms&&(Ms.style.top=`${_t}px`,Ms.style.height=Ds?`${Ds.offsetHeight-Ne}px`:""),Yt>0&&p&&(Yt+=Ne),rl.forEach((qn,Fs)=>{const Dn=Fs>0?qn:"",mn=["header","body","footer"],Bn=Dn==="left";let gn=[],Ps;Dn&&(gn=Bn?je.leftList:je.rightList,Ps=Bn?ce.value:le.value),mn.forEach(io=>{const Uu=Ot[`${qn}-${io}-wrapper`],Oo=Uu?Uu.value:null,Gu=Ot[`${qn}-${io}-table`],Ls=Gu?Gu.value:null;if(io==="header"){let jn=Zt,Fn=De;de?Fn=ot:Dn&&(Ve||x)&&(Fn=gn),jn=Fn.reduce((En,Kl)=>En+Kl.renderWidth,0),Ls&&(Ls.style.width=jn?`${jn+Be}px`:"");const Rn=Ot[`${qn}-${io}-repair`],Un=Rn?Rn.value:null;Un&&(Un.style.width=`${Zt}px`);const vn=Ot[`${qn}-${io}-list`],Hn=vn?vn.value:null;de&&Hn&&c.arrayEach(Hn.querySelectorAll(".col--group"),En=>{const Kl=u.getColumnNode(En);if(Kl){const rr=Kl.item,{showHeaderOverflow:Sa}=rr,ns=c.isBoolean(Sa)?Sa:x,al=ns==="title"||(ns===!0||ns==="tooltip")||ns==="ellipsis";let Xl=0,Zl=0;al&&c.eachTree(rr.children,ar=>{(!ar.children||!rr.children.length)&&Zl++,Xl+=ar.renderWidth},{children:"children"}),En.style.width=al?`${Xl-Zl-(a?2:0)}px`:""}})}else if(io==="body"){const jn=Ot[`${qn}-${io}-emptyBlock`],Fn=jn?jn.value:null;if(Wa(Oo)){let vn=0;const Hn=wn-_t-Rt;if(vo&&(vn=vo-_t-Rt,Dn&&(vn-=p?0:Ne),vn=Math.max(Hn,vn),Oo.style.maxHeight=`${vn}px`),Yt){let En=Yt-_t-Rt;Dn&&(En-=p?0:Ne),vn&&(En=Math.min(vn,En)),Oo.style.height=`${Math.max(Hn,En)}px`}else Oo.style.height="";Oo.style.minHeight=`${Hn}px`}Ps&&(Wa(Oo)&&(Oo.style.top=`${_t}px`),Ps.style.height=`${(Yt>0?Yt-_t-Rt:jt)+_t+Rt-Ne*(p?2:1)}px`,Ps.style.width=`${gn.reduce((vn,Hn)=>vn+Hn.renderWidth,Bn?0:Be)}px`);let Rn=Zt,Un=De;Dn&&(!i.expandColumn&&(Le||g&&ut)&&!Ge.length&&!j&&!(J&&$o.isMerge)?Un=gn:Un=ot),Rn=Un.reduce((vn,Hn)=>vn+Hn.renderWidth,0),Ls&&(Ls.style.width=Rn?`${Rn}px`:"",Ls.style.paddingRight=Be&&Dn&&(Jn["-moz"]||Jn.safari)?`${Be}px`:""),Fn&&(Fn.style.width=Rn?`${Rn}px`:"")}else if(io==="footer"){let jn=Zt,Fn=De;Dn&&(!i.expandColumn&&(Ve||k)&&(!et.length||!Q)?Fn=gn:Fn=ot),jn=Fn.reduce((Rn,Un)=>Rn+Un.renderWidth,0),Wa(Oo)&&(Ps&&(Oo.style.top=`${Yt>0?Yt-Rt:jt+_t}px`),Oo.style.marginTop=`${-Math.max(1,Ne)}px`),Ls&&(Ls.style.width=jn?`${jn+Be}px`:"")}const Yu=Ot[`${qn}-${io}-colgroup`],Ku=Yu?Yu.value:null;Ku&&c.arrayEach(Ku.children,jn=>{const Fn=jn.getAttribute("name");if(Fn==="col_gutter"&&(jn.style.width=`${Be}px`),ft[Fn]){const Rn=ft[Fn].column,{showHeaderOverflow:Un,showFooterOverflow:vn,showOverflow:Hn}=Rn;let En;jn.style.width=`${Rn.renderWidth}px`,io==="header"?En=c.isUndefined(Un)||c.isNull(Un)?x:Un:io==="footer"?En=c.isUndefined(vn)||c.isNull(vn)?k:vn:En=c.isUndefined(Hn)||c.isNull(Hn)?g:Hn;let ns=En==="title"||(En===!0||En==="tooltip")||En==="ellipsis";const Oa=Ot[`${qn}-${io}-list`],Ta=Oa?Oa.value:null;Le&&!ns&&(ns=!0),Ta&&c.arrayEach(Ta.querySelectorAll(`.${Rn.id}`),Ra=>{const al=parseInt(Ra.getAttribute("colspan")||1),Xl=Ra.querySelector(".vxe-cell");let Zl=Rn.renderWidth;if(Xl){if(al>1){const ar=u.getColumnIndex(Rn);for(let Ma=1;Ma<al;Ma++){const Xu=u.getColumns(ar+Ma);Xu&&(Zl+=Xu.renderWidth)}}Xl.style.width=ns?`${Zl-Yl*al}px`:""}})}})})}),re&&u.setCurrentRow(re),$&&ks.selected&&Fe.selected.row&&Fe.selected.column&&W.addCellSelectedClass(),fe()},_n=a=>W.triggerValidate?W.triggerValidate(a):fe(),eo=(a,p)=>{_n("blur").catch(g=>g).then(()=>{W.handleActived(p,a).then(()=>_n("change")).catch(g=>g)})},ho=()=>{const{sortConfig:a}=e;if(a){const p=v.value;let{defaultSort:g}=p;g&&(c.isArray(g)||(g=[g]),g.length&&((a.multiple?g:g.slice(0,1)).forEach((x,k)=>{const{field:$,order:j}=x;if($&&j){const Q=u.getColumnByField($);Q&&Q.sortable&&(Q.order=j,Q.sortTime=Date.now()+k)}}),p.remote||h.handleTableData(!0).then(on)))}},Os=()=>{const{checkboxConfig:a}=e;if(a){const{fullDataRowIdData:p}=d,g=D.value,{checkAll:x,checkRowKeys:k}=g;if(x)no(!0,!0);else if(k){const $=[];k.forEach(j=>{p[j]&&$.push(p[j].row)}),to($,!0,!0)}}},Qo=()=>{const{radioConfig:a}=e;if(a){const{fullDataRowIdData:p}=d,g=q.value,{checkRowKey:x,reserve:k}=g;if(x&&(p[x]&&hn(p[x].row,!0),k)){const $=Vs(W);d.radioReserveRow={[$]:x}}}},sl=()=>{const{expandConfig:a}=e;if(a){const{fullDataRowIdData:p}=d,g=z.value,{expandAll:x,expandRowKeys:k}=g;if(x)u.setAllRowExpand(!0);else if(k){const $=[];k.forEach(j=>{p[j]&&$.push(p[j].row)}),u.setRowExpand($,!0)}}},Ts=a=>{q.value.reserve&&(d.radioReserveRow=a)},Vn=(a,p)=>{const{checkboxReserveRowMap:g}=d;if(D.value.reserve){const k=Ye(W,a);p?g[k]=a:g[k]&&delete g[k]}},hn=(a,p)=>{const g=q.value,{checkMethod:x}=g;return a&&(p||!x||x({row:a}))&&(i.selectRadioRow=a,Ts(a)),fe()},to=(a,p,g)=>(a&&!c.isArray(a)&&(a=[a]),a.forEach(x=>h.handleSelectRow({row:x},!!p,g)),fe()),no=(a,p)=>{const{treeConfig:g}=e,{selectCheckboxMaps:x}=i,{afterFullData:k,afterFullRowMaps:$,checkboxReserveRowMap:j}=d,Q=oe.value,J=Q.children||Q.childrenField,de=D.value,{checkField:re,reserve:De,checkStrictly:Ve,checkMethod:Le}=de,Be=de.indeterminateField||de.halfField,Ne={};if(g||c.each(x,(je,Fe)=>{$[Fe]||(Ne[Fe]=je)}),Ve)i.isAllSelected=a;else{if(re){const je=Fe=>{(p||!Le||Le({row:Fe}))&&(a&&(Ne[Ye(W,Fe)]=Fe),c.set(Fe,re,a)),g&&Be&&c.set(Fe,Be,!1)};g?c.eachTree(k,je,{children:J}):k.forEach(je)}else g?a?c.eachTree(k,je=>{(p||!Le||Le({row:je}))&&(Ne[Ye(W,je)]=je)},{children:J}):!p&&Le&&c.eachTree(k,je=>{const Fe=Ye(W,je);!Le({row:je})&&x[Fe]&&(Ne[Fe]=je)},{children:J}):a?!p&&Le?k.forEach(je=>{const Fe=Ye(W,je);(x[Fe]||Le({row:je}))&&(Ne[Fe]=je)}):k.forEach(je=>{Ne[Ye(W,je)]=je}):!p&&Le&&k.forEach(je=>{const Fe=Ye(W,je);!Le({row:je})&&x[Fe]&&(Ne[Fe]=je)});De&&(a?c.each(Ne,(je,Fe)=>{j[Fe]=je}):k.forEach(je=>Vn(je,!1))),i.selectCheckboxMaps=re?{}:Ne}return i.treeIndeterminateMaps={},d.treeIndeterminateRowMaps={},h.checkSelectionStatus(),fe()},mo=()=>{const{treeConfig:a}=e,{expandColumn:p,currentRow:g,selectCheckboxMaps:x,selectRadioRow:k,rowExpandedMaps:$,treeExpandedMaps:j}=i,{fullDataRowIdData:Q,fullAllDataRowIdData:J,radioReserveRow:de}=d,re=z.value,De=oe.value,Ve=q.value,Le=D.value;if(k&&!J[Ye(W,k)]&&(i.selectRadioRow=null),Ve.reserve&&de){const Be=Ye(W,de);Q[Be]&&hn(Q[Be].row,!0)}i.selectCheckboxMaps=it(x),Le.reserve&&to(kt(d.checkboxReserveRowMap),!0,!0),g&&!J[Ye(W,g)]&&(i.currentRow=null),i.rowExpandedMaps=p?it($):{},p&&re.reserve&&u.setRowExpand(kt(d.rowExpandedReserveRowMap),!0),i.treeExpandedMaps=a?it(j):{},a&&De.reserve&&u.setTreeExpand(kt(d.treeExpandedReserveRowMap),!0)},No=()=>{const{treeConfig:a}=e;if(a){const{tableFullData:p}=d,g=oe.value,{expandAll:x,expandRowKeys:k}=g,$=g.children||g.childrenField;if(x)u.setAllTreeExpand(!0);else if(k){const j=[],Q=Vs(W);k.forEach(J=>{const de=c.findTree(p,re=>J===c.get(re,Q),{children:$});de&&j.push(de.item)}),u.setTreeExpand(j,!0)}}},wo=a=>{const p=oe.value,g=D.value,{transform:x,loadMethod:k}=p,{checkStrictly:$}=g;return new Promise(j=>{if(k){const{treeExpandLazyLoadedMaps:Q}=i,{fullAllDataRowIdData:J}=d,de=Ye(W,a),re=J[de];Q[de]=a,k({$table:W,row:a}).then(De=>{if(re.treeLoaded=!0,Q[de]&&delete Q[de],c.isArray(De)||(De=[]),De)return u.loadTreeChildren(a,De).then(Ve=>{const{treeExpandedMaps:Le}=i;return Ve.length&&!Le[de]&&(Le[de]=a),!$&&u.isCheckedByCheckboxRow(a)&&to(Ve,!0),fe().then(()=>{if(x)return h.handleTableData()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:De}=i;re.treeLoaded=!1,De[de]&&delete De[de]}).finally(()=>{fe().then(()=>u.recalculate()).then(()=>j())})}else j()})},oo=(a,p)=>{const{treeExpandedReserveRowMap:g}=d;if(oe.value.reserve){const k=Ye(W,a);p?g[k]=a:g[k]&&delete g[k]}},Tn=a=>new Promise(p=>{const g=z.value,{loadMethod:x}=g;if(x){const{fullAllDataRowIdData:k}=d,{rowExpandLazyLoadedMaps:$}=i,j=Ye(W,a),Q=k[j];$[j]=a,x({$table:W,row:a,rowIndex:u.getRowIndex(a),$rowIndex:u.getVMRowIndex(a)}).then(()=>{const{rowExpandedMaps:J}=i;Q.expandLoaded=!0,J[j]=a}).catch(()=>{Q.expandLoaded=!1}).finally(()=>{const{rowExpandLazyLoadedMaps:J}=i;J[j]&&delete J[j],fe().then(()=>u.recalculate()).then(()=>p())})}else p()}),so=(a,p)=>{const{rowExpandedReserveRowMap:g}=d;if(z.value.reserve){const k=Ye(W,a);p?g[k]=a:g[k]&&delete g[k]}},es=()=>{const{mergeCells:a}=e;a&&u.setMergeCells(a)},Eo=()=>{const{mergeFooterItems:a}=e;a&&u.setMergeFooterItems(a)},So=()=>fe().then(()=>{const{scrollXLoad:a,scrollYLoad:p}=i,{scrollXStore:g,scrollYStore:x}=d,k=Z.value,$=A.value;if(a){const{visibleSize:J}=xt(),de=$.oSize?c.toNumber($.oSize):Jn.edge?5:0;g.offsetSize=de,g.visibleSize=J,g.endIndex=Math.max(g.startIndex+g.visibleSize+de,g.endIndex),h.updateScrollXData()}else h.updateScrollXSpace();const{rowHeight:j,visibleSize:Q}=Ft();if(x.rowHeight=j,p){const J=k.oSize?c.toNumber(k.oSize):Jn.edge?10:0;x.offsetSize=J,x.visibleSize=Q,x.endIndex=Math.max(x.startIndex+Q+J,x.endIndex),h.updateScrollYData()}else h.updateScrollYSpace();i.rowHeight=j,fe(on)}),lo=a=>{const{keepSource:p,treeConfig:g}=e,{editStore:x,scrollYLoad:k}=i,{scrollYStore:$,scrollXStore:j,lastScrollLeft:Q,lastScrollTop:J}=d,de=oe.value,{transform:re}=de,De=de.children||de.childrenField;let Ve=[],Le=Vt(a?a.slice(0):[]);g&&(re?(Ve=c.toArrayTree(Le,{key:de.rowField,parentKey:de.parentField,children:De,mapChildren:de.mapChildrenField}),Le=Ve.slice(0)):Ve=Le.slice(0)),$.startIndex=0,$.endIndex=1,j.startIndex=0,j.endIndex=1,i.scrollVMLoading=!1,x.insertMaps={},x.removeMaps={};const Be=Wl(Le);return i.scrollYLoad=Be,d.tableFullData=Le,d.tableFullTreeData=Ve,h.cacheRowMap(!0),d.tableSynchData=a,p&&h.cacheSourceMap(Le),W.clearCellAreas&&e.mouseConfig&&(W.clearCellAreas(),W.clearCopyCellArea()),u.clearMergeCells(),u.clearMergeFooterItems(),h.handleTableData(!0),u.updateFooter(),fe().then(()=>{dn(),on()}).then(()=>{So()}).then(()=>(Be&&($.endIndex=$.visibleSize),mo(),h.checkSelectionStatus(),new Promise(Ne=>{fe().then(()=>u.recalculate()).then(()=>{let je=Q,Fe=J;const Ge=A.value,et=Z.value;Ge.scrollToLeftOnChange&&(je=0),et.scrollToTopOnChange&&(Fe=0),k===Be?qa(W,je,Fe).then(Ne):setTimeout(()=>qa(W,je,Fe).then(Ne))})})))},ts=()=>{Os(),Qo(),sl(),No(),es(),Eo(),fe(()=>setTimeout(()=>u.recalculate()))},$n=()=>{ho()},un=()=>{const{scrollXLoad:a}=i,{visibleColumn:p,scrollXStore:g,fullColumnIdData:x}=d,k=a?p.slice(g.startIndex,g.endIndex):p.slice(0);k.forEach(($,j)=>{const Q=$.id,J=x[Q];J&&(J.$index=j)}),i.tableColumn=k},_o=()=>{const{mergeList:a,mergeFooterList:p}=i,{scrollXStore:g}=d,{startIndex:x,endIndex:k,offsetSize:$}=g,{toVisibleIndex:j,visibleSize:Q}=xt(),J={startIndex:Math.max(0,j-1-$),endIndex:j+Q+$};wt(a.concat(p),J,"col");const{startIndex:de,endIndex:re}=J;(j<=x||j>=k-Q-1)&&(x!==de||k!==re)&&(g.startIndex=de,g.endIndex=re,h.updateScrollXData()),u.closeTooltip()},At=a=>{const p=[];return a.forEach(g=>{p.push(...g.children&&g.children.length?At(g.children):[g])}),p},Cn=()=>{const a=[],p=[],g=[],{isGroup:x,columnStore:k}=i,$=A.value,{collectColumn:j,tableFullColumn:Q,scrollXStore:J,fullColumnIdData:de}=d;if(x){const Ve=[],Le=[],Be=[];c.eachTree(j,(Ne,je,Fe,Ge,et)=>{const ut=xl(Ne);et&&et.fixed&&(Ne.fixed=et.fixed),et&&Ne.fixed!==et.fixed&&sn("vxe.error.groupFixed"),ut?Ne.visible=!!c.findTree(Ne.children,ot=>xl(ot)?!1:ot.visible):Ne.visible&&(Ne.fixed==="left"?a.push(Ne):Ne.fixed==="right"?g.push(Ne):p.push(Ne))}),j.forEach(Ne=>{Ne.visible&&(Ne.fixed==="left"?Ve.push(Ne):Ne.fixed==="right"?Be.push(Ne):Le.push(Ne))}),i.tableGroupColumn=Ve.concat(Le).concat(Be)}else Q.forEach(Ve=>{Ve.visible&&(Ve.fixed==="left"?a.push(Ve):Ve.fixed==="right"?g.push(Ve):p.push(Ve))});const re=a.concat(p).concat(g),De=!!$.enabled&&$.gt>-1&&($.gt===0||$.gt<Q.length);if(i.hasFixedColumn=a.length>0||g.length>0,Object.assign(k,{leftList:a,centerList:p,rightList:g}),De){const{visibleSize:Ve}=xt();J.startIndex=0,J.endIndex=Ve,J.visibleSize=Ve}return(re.length!==d.visibleColumn.length||!d.visibleColumn.every((Ve,Le)=>Ve===re[Le]))&&(u.clearMergeCells(),u.clearMergeFooterItems()),i.scrollXLoad=De,re.forEach((Ve,Le)=>{const Be=Ve.id,Ne=de[Be];Ne&&(Ne._index=Le)}),d.visibleColumn=re,un(),u.updateFooter().then(()=>u.recalculate()).then(()=>(u.updateCellAreas(),u.recalculate()))},go=()=>{const{collectColumn:a}=d;a.forEach((p,g)=>{const x=g+1;p.sortNumber=x,p.renderSortNumber=x})},Rs=a=>{d.collectColumn=a;const p=At(a);return d.tableFullColumn=p,go(),Jt(),Qt(),Cn().then(()=>{i.scrollXLoad&&_o()}),u.clearMergeCells(),u.clearMergeFooterItems(),h.handleTableData(!0),fe().then(()=>(B&&B.syncUpdate({collectColumn:a,$table:W}),u.recalculate()))},Wl=a=>{const{treeConfig:p}=e,g=Z.value,x=oe.value,{transform:k}=x,$=a||d.tableFullData,j=(k||!p)&&!!g.enabled&&g.gt>-1&&(g.gt===0||g.gt<$.length);return i.scrollYLoad=j,j},tr=(a,p)=>{const{treeExpandedMaps:g,treeExpandLazyLoadedMaps:x,treeNodeColumn:k}=i,$=Object.assign({},g),{fullAllDataRowIdData:j,tableFullData:Q}=d,J=oe.value,{reserve:de,lazy:re,accordion:De,toggleMethod:Ve}=J,Le=J.children||J.childrenField,Be=J.hasChild||J.hasChildField,Ne=[],je=u.getColumnIndex(k),Fe=u.getVMColumnIndex(k);let Ge=Ve?a.filter(et=>Ve({$table:W,expanded:p,column:k,columnIndex:je,$columnIndex:Fe,row:et})):a;if(De){Ge=Ge.length?[Ge[Ge.length-1]]:[];const et=c.findTree(Q,ut=>ut===Ge[0],{children:Le});et&&et.items.forEach(ut=>{const ot=Ye(W,ut);$[ot]&&delete $[ot]})}return p?Ge.forEach(et=>{const ut=Ye(W,et);if(!$[ut]){const ot=j[ut];re&&et[Be]&&!ot.treeLoaded&&!x[ut]?Ne.push(wo(et)):et[Le]&&et[Le].length&&($[ut]=et)}}):Ge.forEach(et=>{const ut=Ye(W,et);$[ut]&&delete $[ut]}),de&&Ge.forEach(et=>oo(et,p)),i.treeExpandedMaps=$,Promise.all(Ne).then(()=>u.recalculate())},ha=(a,p)=>tr(a,p).then(()=>(nn(),h.handleTableData())).then(()=>u.recalculate()),nr=a=>{const{mergeList:p}=i,{scrollYStore:g}=d,{startIndex:x,endIndex:k,visibleSize:$,offsetSize:j,rowHeight:Q}=g,de=(a.currentTarget||a.target).scrollTop,re=Math.floor(de/Q),De={startIndex:Math.max(0,re-1-j),endIndex:re+$+j};wt(p,De,"row");const{startIndex:Ve,endIndex:Le}=De;(re<=x||re>=k-$-1)&&(x!==Ve||k!==Le)&&(g.startIndex=Ve,g.endIndex=Le,h.updateScrollYData())},ll=a=>function(p){const{fullAllDataRowIdData:g}=d;if(p){const x=Ye(W,p),k=g[x];if(k)return k[a]}return-1},Vo=a=>function(p){const{fullColumnIdData:g}=d;if(p){const x=g[p.id];if(x)return x[a]}return-1},ma=c.debounce(function(a){nr(a)},20,{leading:!1,trailing:!0});let or;u={dispatchEvent(a,p,g){o(a,Object.assign({$table:W,$grid:se,$event:g},p))},clearAll(){return Wx(W)},syncData(){return Th("vxe.error.delFunc",["syncData","getData"]),fe().then(()=>(i.tableData=[],o("update:data",d.tableFullData),fe()))},updateData(){const{scrollXLoad:a,scrollYLoad:p}=i;return h.handleTableData(!0).then(()=>{if(u.updateFooter(),a||p)return a&&h.updateScrollXSpace(),p&&h.updateScrollYSpace(),u.refreshScroll()}).then(()=>(u.updateCellAreas(),u.recalculate(!0))).then(()=>{setTimeout(()=>W.recalculate(),50)})},loadData(a){const{inited:p,initStatus:g}=d;return lo(a).then(()=>(d.inited=!0,d.initStatus=!0,g||ts(),p||$n(),u.recalculate()))},reloadData(a){const{inited:p}=d;return u.clearAll().then(()=>(d.inited=!0,d.initStatus=!0,lo(a))).then(()=>(ts(),p||$n(),u.recalculate()))},setRow(a,p){if(p){let g=a;c.isArray(a)||(g=[a]),g.forEach(x=>Object.assign(x,p))}return fe()},reloadRow(a,p,g){const{keepSource:x}=e,{tableData:k}=i,{tableSourceData:$}=d;if(x){const j=u.getRowIndex(a),Q=$[j];if(Q&&a)if(g){const J=c.get(p||a,g);c.set(a,g,J),c.set(Q,g,J)}else{const J=c.clone(Object.assign({},p),!0);c.destructuring(Q,Object.assign(a,J))}i.tableData=k.slice(0)}return fe()},loadTreeChildren(a,p){const{keepSource:g}=e,{tableSourceData:x,fullDataRowIdData:k,fullAllDataRowIdData:$,sourceDataRowIdData:j}=d,Q=oe.value,{transform:J,mapChildrenField:de}=Q,re=Q.children||Q.childrenField,De=$[Ye(W,a)],Ve=De?De.level:0;return u.createData(p).then(Le=>{if(g){const Be=Ye(W,a),Ne=c.findTree(x,je=>Be===Ye(W,je),{children:re});Ne&&(Ne.item[re]=c.clone(Le,!0)),Le.forEach(je=>{const Fe=Ye(W,je);j[Fe]=c.clone(je,!0)})}return c.eachTree(Le,(Be,Ne,je,Fe,Ge,et)=>{const ut=Ye(W,Be),ot=Ge||De.row,ft={row:Be,rowid:ut,seq:-1,index:Ne,_index:-1,$index:-1,items:je,parent:ot,level:Ve+et.length};k[ut]=ft,$[ut]=ft},{children:re}),a[re]=Le,J&&(a[de]=Le),Wt(),Le})},loadColumn(a){const p=c.mapTree(a,g=>Vt(at.createColumn(W,g)));return Rs(p)},reloadColumn(a){return u.clearAll().then(()=>u.loadColumn(a))},getRowNode(a){if(a){const{fullAllDataRowIdData:p}=d,g=a.getAttribute("rowid");if(g){const x=p[g];if(x)return{rowid:x.rowid,item:x.row,index:x.index,items:x.items,parent:x.parent}}}return null},getColumnNode(a){if(a){const{fullColumnIdData:p}=d,g=a.getAttribute("colid");if(g){const x=p[g];if(x)return{colid:x.colid,item:x.column,index:x.index,items:x.items,parent:x.parent}}}return null},getRowSeq:ll("seq"),getRowIndex:ll("index"),getVTRowIndex:ll("_index"),getVMRowIndex:ll("$index"),getColumnIndex:Vo("index"),getVTColumnIndex:Vo("_index"),getVMColumnIndex:Vo("$index"),createData(a){return fe().then(()=>Vt(h.defineField(a)))},createRow(a){const p=c.isArray(a);return p||(a=[a||{}]),u.createData(a).then(g=>p?g:g[0])},revertData(a,p){const{keepSource:g}=e,{tableSourceData:x,sourceDataRowIdData:k}=d;if(!g)return fe();let $=a;return a?c.isArray(a)||($=[a]):$=c.toArray(W.getUpdateRecords()),$.length&&$.forEach(j=>{if(!u.isInsertByRow(j)){const Q=Ye(W,j),J=k[Q];J&&j&&(p?c.set(j,p,c.clone(c.get(J,p),!0)):c.destructuring(j,c.clone(J,!0)))}}),a?fe():u.reloadData(x)},clearData(a,p){const{tableFullData:g,visibleColumn:x}=d;return arguments.length?a&&!c.isArray(a)&&(a=[a]):a=g,p?a.forEach(k=>c.set(k,p,null)):a.forEach(k=>{x.forEach($=>{$.field&&qo(k,$,null)})}),fe()},isInsertByRow(a){const{editStore:p}=i,g=Ye(W,a);return p.insertMaps[g]},removeInsertRow(){const{editStore:a}=i;return a.insertMaps={},W.remove(W.getInsertRecords())},isUpdateByRow(a,p){const{keepSource:g}=e,{tableFullColumn:x,fullDataRowIdData:k,sourceDataRowIdData:$}=d;if(g){const j=Ye(W,a);if(!k[j])return!1;const Q=$[j];if(Q){if(arguments.length>1)return!Tt(Q,a,p);for(let J=0,de=x.length;J<de;J++){const re=x[J].field;if(re&&!Tt(Q,a,re))return!0}}}return!1},getColumns(a){const p=d.visibleColumn;return c.isUndefined(a)?p.slice(0):p[a]},getColumnById(a){const p=d.fullColumnIdData;return a&&p[a]?p[a].column:null},getColumnByField(a){const p=d.fullColumnFieldData;return a&&p[a]?p[a].column:null},getTableColumn(){return{collectColumn:d.collectColumn.slice(0),fullColumn:d.tableFullColumn.slice(0),visibleColumn:d.visibleColumn.slice(0),tableColumn:i.tableColumn.slice(0)}},getData(a){const p=e.data||d.tableSynchData;return c.isUndefined(a)?p.slice(0):p[a]},getCheckboxRecords(a){const{treeConfig:p}=e,{tableFullData:g,afterFullData:x,afterTreeFullData:k,tableFullTreeData:$,fullDataRowIdData:j,afterFullRowMaps:Q}=d,J=oe.value,de=D.value,{transform:re,mapChildrenField:De}=J,{checkField:Ve}=de,Le=J.children||J.childrenField;let Be=[];const Ne=a?re?$:g:re?k:x;if(Ve)p?Be=c.filterTree(Ne,je=>c.get(je,Ve),{children:re?De:Le}):Be=Ne.filter(je=>c.get(je,Ve));else{const{selectCheckboxMaps:je}=i;c.each(je,(Fe,Ge)=>{a?j[Ge]&&Be.push(j[Ge].row):Q[Ge]&&Be.push(Q[Ge])})}return Be},getParentRow(a){const{treeConfig:p}=e,{fullDataRowIdData:g}=d;if(a&&p){let x;if(c.isString(a)?x=a:x=Ye(W,a),x){const k=g[x];return k?k.parent:null}}return null},getRowById(a){const{fullDataRowIdData:p}=d,g=c.eqNull(a)?"":encodeURIComponent(a||"");return p[g]?p[g].row:null},getRowid(a){return Ye(W,a)},getTableData(){const{tableData:a,footerTableData:p}=i,{tableFullData:g,afterFullData:x,tableFullTreeData:k}=d;return{fullData:e.treeConfig?k.slice(0):g.slice(0),visibleData:x.slice(0),tableData:a.slice(0),footerData:p.slice(0)}},setColumnFixed(a,p){const g=Ln(W,a),x=uf(W,g),k=Xe.value,$=ye.value,{maxFixedSize:j}=$;return x&&x.fixed!==p?!x.fixed&&k?(tt.modal&&tt.modal.message({status:"error",content:y.i18n("vxe.table.maxFixedCol",[j])}),fe()):(c.eachTree([x],Q=>{Q.fixed=p}),h.saveCustomFixed(),u.refreshColumn()):fe()},clearColumnFixed(a){const p=Ln(W,a),g=uf(W,p);return g&&g.fixed?(c.eachTree([g],x=>{x.fixed=null}),h.saveCustomFixed(),u.refreshColumn()):fe()},hideColumn(a){const p=Ln(W,a);return p&&p.visible?(p.visible=!1,h.handleCustom()):fe()},showColumn(a){const p=Ln(W,a);return p&&!p.visible?(p.visible=!0,h.handleCustom()):fe()},setColumnWidth(a,p){const g=Ln(W,a);if(g){const x=c.toInteger(p);let k=x;if(ui(p)){const $=M.value,j=$?$.$el:null,Q=j?j.clientWidth-1:0;k=Math.floor(x*Q)}g.renderWidth=k}return fe()},getColumnWidth(a){const p=Ln(W,a);return p?p.renderWidth:0},resetColumn(a){const{collectColumn:p}=d,g=qe.value,{checkMethod:x}=g,k=Object.assign({visible:!0,resizable:a===!0,fixed:a===!0,sort:a===!0},a);return c.eachTree(p,$=>{k.resizable&&($.resizeWidth=0),k.fixed&&($.fixed=$.defaultFixed),k.sort&&($.renderSortNumber=$.sortNumber),(!x||x({column:$}))&&($.visible=$.defaultVisible)}),k.resizable&&h.saveCustomResizable(!0),k.sort&&h.saveCustomSort(!0),k.fixed&&h.saveCustomFixed(),h.handleCustom()},refreshColumn(a){if(a){const p=c.orderBy(d.collectColumn,"renderSortNumber");d.collectColumn=p;const g=At(p);d.tableFullColumn=g,Qt()}return Cn().then(()=>u.refreshScroll()).then(()=>u.recalculate())},refreshScroll(){const{lastScrollLeft:a,lastScrollTop:p}=d,g=M.value,x=L.value,k=P.value,$=ae.value,j=g?g.$el:null,Q=k?k.$el:null,J=$?$.$el:null,de=x?x.$el:null;return new Promise(re=>{if(a||p)return qa(W,a,p).then().then(()=>{setTimeout(re,30)});br(j,p),br(Q,p),br(J,p),lf(de,a),setTimeout(re,30)})},recalculate(a){return Bt(),a===!0?So().then(()=>(Bt(),So())):So()},openTooltip(a,p){const g=F.value;return g?g.open(a,p):fe()},closeTooltip(){const{tooltipStore:a}=i,p=S.value,g=F.value;return a.visible&&(Object.assign(a,{row:null,column:null,content:null,visible:!1}),p&&p.close()),g&&g.close(),fe()},isAllCheckboxChecked(){return i.isAllSelected},isAllCheckboxIndeterminate(){return!i.isAllSelected&&i.isIndeterminate},getCheckboxIndeterminateRecords(a){const{treeConfig:p}=e,{fullDataRowIdData:g}=d,{treeIndeterminateMaps:x}=i;if(p){const k=[],$=[];return c.each(x,(j,Q)=>{j&&(k.push(j),g[Q]&&$.push(j))}),a?k:$}return[]},setCheckboxRow(a,p){return to(a,p,!0)},isCheckedByCheckboxRow(a){const{selectCheckboxMaps:p}=i,g=D.value,{checkField:x}=g;return x?c.get(a,x):!!p[Ye(W,a)]},isIndeterminateByCheckboxRow(a){const{treeIndeterminateMaps:p}=i;return!!p[Ye(W,a)]&&!u.isCheckedByCheckboxRow(a)},toggleCheckboxRow(a){const{selectCheckboxMaps:p}=i,g=D.value,{checkField:x}=g,k=x?!c.get(a,x):!p[Ye(W,a)];return h.handleSelectRow({row:a},k,!0),fe()},setAllCheckboxRow(a){return no(a,!0)},getRadioReserveRecord(a){const{treeConfig:p}=e,{fullDataRowIdData:g,radioReserveRow:x,afterFullData:k}=d,$=q.value,j=oe.value,Q=j.children||j.childrenField;if($.reserve&&x){const J=Ye(W,x);if(a){if(!g[J])return x}else{const de=Vs(W);if(p){if(c.findTree(k,De=>J===c.get(De,de),{children:Q}))return x}else if(!k.some(re=>J===c.get(re,de)))return x}}return null},clearRadioReserve(){return d.radioReserveRow=null,fe()},getCheckboxReserveRecords(a){const{treeConfig:p}=e,{afterFullData:g,fullDataRowIdData:x,checkboxReserveRowMap:k}=d,$=D.value,j=oe.value,Q=j.children||j.childrenField,J=[];if($.reserve){const de={};p?c.eachTree(g,re=>{de[Ye(W,re)]=1},{children:Q}):g.forEach(re=>{de[Ye(W,re)]=1}),c.each(k,(re,De)=>{re&&(a?x[De]||J.push(re):de[De]||J.push(re))})}return J},clearCheckboxReserve(){return d.checkboxReserveRowMap={},fe()},toggleAllCheckboxRow(){return h.triggerCheckAllEvent(null,!i.isAllSelected),fe()},clearCheckboxRow(){const{treeConfig:a}=e,{tableFullData:p}=d,g=oe.value,x=g.children||g.childrenField,k=D.value,{checkField:$,reserve:j}=k,Q=k.indeterminateField||k.halfField;if($){const J=de=>{a&&Q&&c.set(de,Q,!1),c.set(de,$,!1)};a?c.eachTree(p,J,{children:x}):p.forEach(J)}return j&&p.forEach(J=>Vn(J,!1)),i.isAllSelected=!1,i.isIndeterminate=!1,i.selectCheckboxMaps={},i.treeIndeterminateMaps={},fe()},setCurrentRow(a){const p=Pe.value,g=b.value;return u.clearCurrentRow(),i.currentRow=a,(p.isCurrent||e.highlightCurrentRow)&&g&&c.arrayEach(g.querySelectorAll(`[rowid="${Ye(W,a)}"]`),x=>Uo(x,"row--current")),fe()},isCheckedByRadioRow(a){return W.eqRow(i.selectRadioRow,a)},setRadioRow(a){return hn(a,!0)},clearCurrentRow(){const a=b.value;return i.currentRow=null,d.hoverRow=null,a&&c.arrayEach(a.querySelectorAll(".row--current"),p=>Zn(p,"row--current")),fe()},clearRadioRow(){return i.selectRadioRow=null,fe()},getCurrentRecord(){return Pe.value.isCurrent||e.highlightCurrentRow?i.currentRow:null},getRadioRecord(a){const{fullDataRowIdData:p,afterFullRowMaps:g}=d,{selectRadioRow:x}=i;if(x){const k=Ye(W,x);if(a){if(p[k])return x}else if(g[k])return x}return null},getCurrentColumn(){return ye.value.isCurrent||e.highlightCurrentColumn?i.currentColumn:null},setCurrentColumn(a){const p=Ln(W,a);return p&&(u.clearCurrentColumn(),i.currentColumn=p),fe()},clearCurrentColumn(){return i.currentColumn=null,fe()},setPendingRow(a,p){const g=Object.assign({},i.pendingRowMaps),x=[...i.pendingRowList];return a&&!c.isArray(a)&&(a=[a]),p?a.forEach(k=>{const $=Ye(W,k);$&&!g[$]&&(x.push(k),g[$]=k)}):a.forEach(k=>{const $=Ye(W,k);if($&&g[$]){const j=W.findRowIndexOf(x,k);j>-1&&x.splice(j,1),delete g[$]}}),i.pendingRowMaps=g,i.pendingRowList=x,fe()},togglePendingRow(a){const p=Object.assign({},i.pendingRowMaps),g=[...i.pendingRowList];return a&&!c.isArray(a)&&(a=[a]),a.forEach(x=>{const k=Ye(W,x);if(k)if(p[k]){const $=W.findRowIndexOf(g,x);$>-1&&g.splice($,1),delete p[k]}else g.push(x),p[k]=x}),i.pendingRowMaps=p,i.pendingRowList=g,fe()},hasPendingByRow(a){const{pendingRowMaps:p}=i,g=Ye(W,a);return!!p[g]},getPendingRecords(){const{pendingRowList:a}=i;return a.slice(0)},clearPendingRow(){return i.pendingRowMaps={},i.pendingRowList=[],fe()},sort(a,p){const g=v.value,{multiple:x,remote:k,orders:$}=g;return a&&c.isString(a)&&(a=[{field:a,order:p}]),c.isArray(a)||(a=[a]),a.length?(x||Gt(),(x?a:[a[0]]).forEach((j,Q)=>{let{field:J,order:de}=j,re=J;c.isString(J)&&(re=u.getColumnByField(J)),re&&re.sortable&&($.indexOf(de)===-1&&(de=bt(re)),re.order!==de&&(re.order=de),re.sortTime=Date.now()+Q)}),k||h.handleTableData(!0),fe().then(()=>(u.updateCellAreas(),on()))):fe()},clearSort(a){const p=v.value;if(a){const g=Ln(W,a);g&&(g.order=null)}else Gt();return p.remote||h.handleTableData(!0),fe().then(on)},isSort(a){if(a){const p=Ln(W,a);return p?p.sortable&&!!p.order:!1}return u.getSortColumns().length>0},getSortColumns(){const a=v.value,{multiple:p,chronological:g}=a,x=[],{tableFullColumn:k}=d;return k.forEach($=>{const{field:j,order:Q}=$;$.sortable&&Q&&x.push({column:$,field:j,property:j,order:Q,sortTime:$.sortTime})}),p&&g&&x.length>1?c.orderBy(x,"sortTime"):x},closeFilter(){const{filterStore:a}=i,{column:p,visible:g}=a;return Object.assign(a,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),g&&W.dispatchEvent("filter-visible",{column:p,property:p.field,field:p.field,filterList:W.getCheckedFilters(),visible:!1},null),fe()},isActiveFilterByColumn(a){const p=Ln(W,a);return p?p.filters&&p.filters.some(g=>g.checked):W.getCheckedFilters().length>0},isFilter(a){return u.isActiveFilterByColumn(a)},isRowExpandLoaded(a){const{fullAllDataRowIdData:p}=d,g=p[Ye(W,a)];return g&&!!g.expandLoaded},clearRowExpandLoaded(a){const{rowExpandLazyLoadedMaps:p}=i,{fullAllDataRowIdData:g}=d,x=z.value,{lazy:k}=x,$=Ye(W,a),j=g[$];return k&&j&&(j.expandLoaded=!1,delete p[$]),fe()},reloadRowExpand(a){const{rowExpandLazyLoadedMaps:p}=i,g=z.value,{lazy:x}=g,k=Ye(W,a);return x&&!p[k]&&u.clearRowExpandLoaded(a).then(()=>Tn(a)),fe()},reloadExpandContent(a){return u.reloadRowExpand(a)},toggleRowExpand(a){return u.setRowExpand(a,!u.isRowExpandByRow(a))},setAllRowExpand(a){const p=oe.value,{tableFullData:g,tableFullTreeData:x}=d,k=p.children||p.childrenField;let $=[];return e.treeConfig?c.eachTree(x,j=>{$.push(j)},{children:k}):$=g,u.setRowExpand($,a)},setRowExpand(a,p){const{rowExpandedMaps:g,rowExpandLazyLoadedMaps:x,expandColumn:k}=i,{fullAllDataRowIdData:$}=d;let j=Object.assign({},g);const Q=z.value,{reserve:J,lazy:de,accordion:re,toggleMethod:De}=Q,Ve=[],Le=u.getColumnIndex(k),Be=u.getVMColumnIndex(k);if(a){c.isArray(a)||(a=[a]),re&&(j={},a=a.slice(a.length-1,a.length));const Ne=De?a.filter(je=>De({$table:W,expanded:p,column:k,columnIndex:Le,$columnIndex:Be,row:je,rowIndex:u.getRowIndex(je),$rowIndex:u.getVMRowIndex(je)})):a;p?Ne.forEach(je=>{const Fe=Ye(W,je);if(!j[Fe]){const Ge=$[Fe];de&&!Ge.expandLoaded&&!x[Fe]?Ve.push(Tn(je)):j[Fe]=je}}):Ne.forEach(je=>{const Fe=Ye(W,je);j[Fe]&&delete j[Fe]}),J&&Ne.forEach(je=>so(je,p))}return i.rowExpandedMaps=j,Promise.all(Ve).then(()=>u.recalculate())},isRowExpandByRow(a){const{rowExpandedMaps:p}=i,g=Ye(W,a);return!!p[g]},isExpandByRow(a){return u.isRowExpandByRow(a)},clearRowExpand(){const{tableFullData:a}=d,p=z.value,{reserve:g}=p,x=u.getRowExpandRecords();return i.rowExpandedMaps={},g&&a.forEach(k=>so(k,!1)),fe().then(()=>{x.length&&u.recalculate()})},clearRowExpandReserve(){return d.rowExpandedReserveRowMap={},fe()},getRowExpandRecords(){const a=[];return c.each(i.rowExpandedMaps,p=>{p&&a.push(p)}),a},getTreeExpandRecords(){const a=[];return c.each(i.treeExpandedMaps,p=>{p&&a.push(p)}),a},isTreeExpandLoaded(a){const{fullAllDataRowIdData:p}=d,g=p[Ye(W,a)];return g&&!!g.treeLoaded},clearTreeExpandLoaded(a){const{treeExpandedMaps:p}=i,{fullAllDataRowIdData:g}=d,x=oe.value,{transform:k,lazy:$}=x,j=Ye(W,a),Q=g[j];return $&&Q&&(Q.treeLoaded=!1,p[j]&&delete p[j]),k?(nn(),h.handleTableData()):fe()},reloadTreeExpand(a){const{treeExpandLazyLoadedMaps:p}=i,g=oe.value,x=g.hasChild||g.hasChildField,{transform:k,lazy:$}=g,j=Ye(W,a);return $&&a[x]&&!p[j]&&u.clearTreeExpandLoaded(a).then(()=>wo(a)).then(()=>{if(k)return nn(),h.handleTableData()}).then(()=>u.recalculate()),fe()},reloadTreeChilds(a){return u.reloadTreeExpand(a)},toggleTreeExpand(a){return u.setTreeExpand(a,!u.isTreeExpandByRow(a))},setAllTreeExpand(a){const{tableFullData:p}=d,g=oe.value,{transform:x,lazy:k}=g,$=g.children||g.childrenField,j=[];return c.eachTree(p,Q=>{const J=Q[$];(k||J&&J.length)&&j.push(Q)},{children:$}),u.setTreeExpand(j,a).then(()=>{if(x)return nn(),u.recalculate()})},setTreeExpand(a,p){const g=oe.value,{transform:x}=g;return a&&(c.isArray(a)||(a=[a]),a.length)?x?ha(a,p):tr(a,p):fe()},isTreeExpandByRow(a){const{treeExpandedMaps:p}=i;return!!p[Ye(W,a)]},clearTreeExpand(){const{tableFullTreeData:a}=d,p=oe.value,g=p.children||p.childrenField,{transform:x,reserve:k}=p,$=u.getTreeExpandRecords();return i.treeExpandedMaps={},k&&c.eachTree(a,j=>oo(j,!1),{children:g}),h.handleTableData().then(()=>{if(x)return nn(),h.handleTableData()}).then(()=>{if($.length)return u.recalculate()})},clearTreeExpandReserve(){return d.treeExpandedReserveRowMap={},fe()},getScroll(){const{scrollXLoad:a,scrollYLoad:p}=i,x=M.value.$el;return{virtualX:a,virtualY:p,scrollTop:x.scrollTop,scrollLeft:x.scrollLeft}},scrollTo(a,p){const g=M.value,x=L.value,k=ae.value,$=g?g.$el:null,j=k?k.$el:null,Q=x?x.$el:null;return c.isNumber(a)&&lf(Q||$,a),c.isNumber(p)&&br(j||$,p),i.scrollXLoad||i.scrollYLoad?new Promise(J=>{setTimeout(()=>{fe(()=>{J()})},50)}):fe()},scrollToRow(a,p){const g=[];return a&&(e.treeConfig?g.push(h.scrollToTreeRow(a)):g.push(df(W,a))),p&&g.push(u.scrollToColumn(p)),Promise.all(g)},scrollToColumn(a){const{fullColumnIdData:p}=d,g=Ln(W,a);return g&&p[g.id]?qx(W,g):fe()},clearScroll(){const{scrollXStore:a,scrollYStore:p}=d,g=M.value,x=L.value,k=ae.value,$=g?g.$el:null,j=k?k.$el:null,Q=x?x.$el:null;return j&&(Vr(j),j.scrollTop=0),Q&&(Q.scrollLeft=0),$&&(Vr($),$.scrollTop=0,$.scrollLeft=0),a.startIndex=0,p.startIndex=0,fe()},updateFooter(){const{showFooter:a,footerData:p,footerMethod:g}=e,{visibleColumn:x,afterFullData:k}=d;let $=[];return a&&p&&p.length?$=p.slice(0):a&&g&&($=x.length?g({columns:x,data:k,$table:W,$grid:se}):[]),i.footerTableData=$,fe()},updateStatus(a,p){const g=!c.isUndefined(p);return fe().then(()=>{const{editRules:x}=e,{validStore:k}=i,$=M.value;if(a&&$&&x){const{row:j,column:Q}=a,J="change";if(W.hasCellRules&&W.hasCellRules(J,j,Q)){const de=h.getCell(j,Q);if(de)return W.validCellRules(J,j,Q,p).then(()=>{g&&k.visible&&qo(j,Q,p),W.clearValidate(j,Q)}).catch(({rule:re})=>{g&&qo(j,Q,p),W.showValidTooltip({rule:re,row:j,column:Q,cell:de})})}}})},setMergeCells(a){return e.spanMethod&&sn("vxe.error.errConflicts",["merge-cells","span-method"]),It(a,i.mergeList,d.afterFullData),fe().then(()=>(u.updateCellAreas(),on()))},removeMergeCells(a){e.spanMethod&&sn("vxe.error.errConflicts",["merge-cells","span-method"]);const p=$t(a,i.mergeList,d.afterFullData);return fe().then(()=>(u.updateCellAreas(),on(),p))},getMergeCells(){return i.mergeList.slice(0)},clearMergeCells(){return i.mergeList=[],fe().then(()=>on())},setMergeFooterItems(a){return e.footerSpanMethod&&sn("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),It(a,i.mergeFooterList),fe().then(()=>(u.updateCellAreas(),on()))},removeMergeFooterItems(a){e.footerSpanMethod&&sn("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const p=$t(a,i.mergeFooterList);return fe().then(()=>(u.updateCellAreas(),on(),p))},getMergeFooterItems(){return i.mergeFooterList.slice(0)},clearMergeFooterItems(){return i.mergeFooterList=[],fe().then(()=>on())},updateCellAreas(){const{mouseConfig:a}=e,p=N.value;return a&&p.area&&W.handleUpdateCellAreas?W.handleUpdateCellAreas():fe()},focus(){return d.isActivated=!0,fe()},blur(){return d.isActivated=!1,fe()},connect(a){return a?(B=a,B.syncUpdate({collectColumn:d.collectColumn,$table:W})):sn("vxe.error.barUnableLink"),fe()}};const ga=a=>{const{editStore:p,ctxMenuStore:g,filterStore:x,customStore:k}=i,{mouseConfig:$,editRules:j}=e,Q=b.value,J=Ie.value,de=I.value,re=Y.value,{actived:De}=p,Ve=T.value,Le=O.value,Be=w.value,Ne=U.value;if(Le&&(yt(a,Q,"vxe-cell--filter").flag||yt(a,Le.$el).flag||yt(a,document.body,"vxe-table--ignore-clear").flag||h.preventEvent(a,"event.clearFilter",x.args,u.closeFilter)),Be&&(k.btnEl===a.target||yt(a,document.body,"vxe-toolbar-custom-target").flag||yt(a,Be.$el).flag||yt(a,document.body,"vxe-table--ignore-clear").flag||h.preventEvent(a,"event.clearCustom",{},()=>{W.closeCustom&&W.closeCustom()})),De.row){if(J.autoClear!==!1){const Fe=De.args.cell;(!Fe||!yt(a,Fe).flag)&&(Ve&&yt(a,Ve.$el).flag||(!d._lastCallTime||d._lastCallTime+50<Date.now())&&(yt(a,document.body,"vxe-table--ignore-clear").flag||h.preventEvent(a,"event.clearEdit",De.args,()=>{let Ge;if(J.mode==="row"){const et=yt(a,Q,"vxe-body--row"),ut=et.flag?u.getRowNode(et.targetElem):null;Ge=ut?!W.eqRow(ut.item,De.args.row):!1}else Ge=!yt(a,Q,"col--edit").flag;if(Ge||(Ge=yt(a,Q,"vxe-header--row").flag),Ge||(Ge=yt(a,Q,"vxe-footer--row").flag),!Ge&&e.height&&!i.overflowY){const et=a.target;Zo(et,"vxe-table--body-wrapper")&&(Ge=a.offsetY<et.clientHeight)}(Ge||!yt(a,Q).flag)&&setTimeout(()=>W.clearEdit(a))})))}}else $&&!yt(a,Q).flag&&!(se&&yt(a,se.getRefMaps().refElem.value).flag)&&!(Ne&&yt(a,Ne.getRefMaps().refElem.value).flag)&&!(B&&yt(a,B.getRefMaps().refElem.value).flag)&&(W.clearSelected&&W.clearSelected(),re.autoClear&&W.clearCellAreas&&(yt(a,document.body,"vxe-table--ignore-areas-clear").flag||h.preventEvent(a,"event.clearAreas",{},()=>{W.clearCellAreas(),W.clearCopyCellArea()})));W.closeMenu&&g.visible&&Ne&&!yt(a,Ne.getRefMaps().refElem.value).flag&&W.closeMenu();const je=yt(a,se?se.getRefMaps().refElem.value:Q).flag;!je&&j&&de.autoClear&&(i.validErrorMaps={}),d.isActivated=je},va=()=>{u.closeFilter(),W.closeMenu&&W.closeMenu()},ba=()=>{u.closeTooltip(),W.closeMenu&&W.closeMenu()},xa=a=>{const{mouseConfig:p,keyboardConfig:g}=e,{filterStore:x,ctxMenuStore:k,editStore:$}=i,j=N.value,Q=X.value,{actived:J}=$;vt(a,dt.ESCAPE)&&h.preventEvent(a,"event.keydown",null,()=>{if(u.dispatchEvent("keydown-start",{},a),g&&p&&j.area&&W.handleKeyboardEvent)W.handleKeyboardEvent(a);else if((J.row||x.visible||k.visible)&&(a.stopPropagation(),W.closeMenu&&W.closeMenu(),u.closeFilter(),g&&Q.isEsc&&J.row)){const re=J.args;W.clearEdit(a),j.selected&&fe(()=>W.handleSelected(re,a))}u.dispatchEvent("keydown",{},a),u.dispatchEvent("keydown-end",{},a)})},sr=a=>{d.isActivated&&h.preventEvent(a,"event.keydown",null,()=>{const{mouseConfig:p,keyboardConfig:g,treeConfig:x,editConfig:k,highlightCurrentRow:$}=e,{ctxMenuStore:j,editStore:Q,currentRow:J}=i,de=we.value,re=ge.value,De=X.value,Ve=N.value,Le=Ie.value,Be=oe.value,Ne=K.value,je=Pe.value,{selected:Fe,actived:Ge}=Q,et=Be.children||Be.childrenField,ut=a.keyCode,ot=vt(a,dt.ESCAPE),ft=vt(a,dt.BACKSPACE),jt=vt(a,dt.TAB),Zt=vt(a,dt.ENTER),_t=vt(a,dt.SPACEBAR),Rt=vt(a,dt.ARROW_LEFT),Ot=vt(a,dt.ARROW_UP),Yt=vt(a,dt.ARROW_RIGHT),wn=vt(a,dt.ARROW_DOWN),vo=vt(a,dt.DELETE),rl=vt(a,dt.F2),Ms=vt(a,dt.CONTEXT_MENU),Yl=a.metaKey,ks=a.ctrlKey,$o=a.shiftKey,Is=a.altKey,Ds=Rt||Ot||Yt||wn,qn=de&&j.visible&&(Zt||_t||Ds),Fs=gt(k)&&Ge.column&&Ge.row;let Dn;if(qn)a.preventDefault(),j.showChild&&xl(j.selected)?W.moveCtxMenu(a,j,"selectChild",Rt,!1,j.selected.children):W.moveCtxMenu(a,j,"selected",Yt,!0,Ne);else if(g&&p&&Ve.area&&W.handleKeyboardEvent)W.handleKeyboardEvent(a);else if(ot){if(W.closeMenu&&W.closeMenu(),u.closeFilter(),g&&De.isEsc&&Ge.row){const mn=Ge.args;W.clearEdit(a),Ve.selected&&fe(()=>W.handleSelected(mn,a))}}else if(_t&&g&&De.isChecked&&Fe.row&&Fe.column&&(Fe.column.type==="checkbox"||Fe.column.type==="radio"))a.preventDefault(),Fe.column.type==="checkbox"?h.handleToggleCheckRowEvent(a,Fe.args):h.triggerRadioRowEvent(a,Fe.args);else if(rl&&gt(k))Fs||Fe.row&&Fe.column&&(a.preventDefault(),W.handleActived(Fe.args,a));else if(Ms)d._keyCtx=Fe.row&&Fe.column&&re.length,clearTimeout(or),or=setTimeout(()=>{d._keyCtx=!1},1e3);else if(Zt&&!Is&&g&&De.isEnter&&(Fe.row||Ge.row||x&&(je.isCurrent||$)&&J)){if(ks)Ge.row&&(Dn=Ge.args,W.clearEdit(a),Ve.selected&&fe(()=>W.handleSelected(Dn,a)));else if(Fe.row||Ge.row){const mn=Fe.row?Fe.args:Ge.args;$o?De.enterToTab?W.moveTabSelected(mn,$o,a):W.moveSelected(mn,Rt,!0,Yt,!1,a):De.enterToTab?W.moveTabSelected(mn,$o,a):W.moveSelected(mn,Rt,!1,Yt,!0,a)}else if(x&&(je.isCurrent||$)&&J){const mn=J[et];if(mn&&mn.length){a.preventDefault();const Bn=mn[0];Dn={$table:W,row:Bn,rowIndex:u.getRowIndex(Bn),$rowIndex:u.getVMRowIndex(Bn)},u.setTreeExpand(J,!0).then(()=>u.scrollToRow(Bn)).then(()=>h.triggerCurrentRowEvent(a,Dn))}}}else if(Ds&&g&&De.isArrow)Fs||(Fe.row&&Fe.column?W.moveSelected(Fe.args,Rt,Ot,Yt,wn,a):(Ot||wn)&&(je.isCurrent||$)&&W.moveCurrentRow(Ot,wn,a));else if(jt&&g&&De.isTab)Fe.row||Fe.column?W.moveTabSelected(Fe.args,$o,a):(Ge.row||Ge.column)&&W.moveTabSelected(Ge.args,$o,a);else if(g&&gt(k)&&(vo||(x&&(je.isCurrent||$)&&J?ft&&De.isArrow:ft))){if(!Fs){const{delMethod:mn,backMethod:Bn}=De;if(De.isDel&&(Fe.row||Fe.column)){const gn={row:Fe.row,rowIndex:u.getRowIndex(Fe.row),column:Fe.column,columnIndex:u.getColumnIndex(Fe.column),$table:W};mn?mn(gn):qo(Fe.row,Fe.column,null),ft?Bn?Bn({row:Fe.row,rowIndex:u.getRowIndex(Fe.row),column:Fe.column,columnIndex:u.getColumnIndex(Fe.column),$table:W}):W.handleActived(Fe.args,a):vo&&u.updateFooter(),W.dispatchEvent("cell-delete-value",gn,a)}else if(ft&&De.isArrow&&x&&(je.isCurrent||$)&&J){const{parent:gn}=c.findTree(d.afterFullData,Ps=>Ps===J,{children:et});gn&&(a.preventDefault(),Dn={$table:W,row:gn,rowIndex:u.getRowIndex(gn),$rowIndex:u.getVMRowIndex(gn)},u.setTreeExpand(gn,!1).then(()=>u.scrollToRow(gn)).then(()=>h.triggerCurrentRowEvent(a,Dn)))}}}else if(g&&gt(k)&&De.isEdit&&!ks&&!Yl&&(_t||ut>=48&&ut<=57||ut>=65&&ut<=90||ut>=96&&ut<=111||ut>=186&&ut<=192||ut>=219&&ut<=222)){const{editMethod:mn}=De;if(Fe.column&&Fe.row&&gt(Fe.column.editRender)){const Bn=Le.beforeEditMethod||Le.activeMethod;if(!Bn||Bn(Object.assign(Object.assign({},Fe.args),{$table:W,$grid:se}))){mn?mn({row:Fe.row,rowIndex:u.getRowIndex(Fe.row),column:Fe.column,columnIndex:u.getColumnIndex(Fe.column),$table:W,$grid:se}):(qo(Fe.row,Fe.column,null),W.handleActived(Fe.args,a));const gn=Le.afterEditMethod;gn&&fe(()=>{gn({row:Fe.row,rowIndex:u.getRowIndex(Fe.row),column:Fe.column,columnIndex:u.getColumnIndex(Fe.column),$table:W,$grid:se})})}}}u.dispatchEvent("keydown",{},a)})},lr=a=>{const{keyboardConfig:p,mouseConfig:g}=e,{editStore:x,filterStore:k}=i,{isActivated:$}=d,j=N.value,Q=X.value,{actived:J}=x;$&&!k.visible&&(J.row||J.column||p&&Q.isClip&&g&&j.area&&W.handlePasteCellAreaEvent&&W.handlePasteCellAreaEvent(a),u.dispatchEvent("paste",{},a))},ya=a=>{const{keyboardConfig:p,mouseConfig:g}=e,{editStore:x,filterStore:k}=i,{isActivated:$}=d,j=N.value,Q=X.value,{actived:J}=x;$&&!k.visible&&(J.row||J.column||p&&Q.isClip&&g&&j.area&&W.handleCopyCellAreaEvent&&W.handleCopyCellAreaEvent(a),u.dispatchEvent("copy",{},a))},Ca=a=>{const{keyboardConfig:p,mouseConfig:g}=e,{editStore:x,filterStore:k}=i,{isActivated:$}=d,j=N.value,Q=X.value,{actived:J}=x;$&&!k.visible&&(J.row||J.column||p&&Q.isClip&&g&&j.area&&W.handleCutCellAreaEvent&&W.handleCutCellAreaEvent(a),u.dispatchEvent("cut",{},a))},wa=()=>{W.closeMenu&&W.closeMenu(),u.updateCellAreas(),u.recalculate(!0)},il=a=>{const p=S.value;clearTimeout(d.tooltipTimeout),a?u.closeTooltip():p&&p.setActived(!0)},ql=(a,p,g,x,k)=>{k.cell=p;const{tooltipStore:$}=i,j=G.value,{column:Q,row:J}=k,{showAll:de,contentMethod:re}=j,De=re?re(k):null,Ve=re&&!c.eqNull(De),Le=Ve?De:c.toString(Q.type==="html"?g.innerText:g.textContent).trim(),Be=g.scrollWidth>g.clientWidth;return Le&&(de||Ve||Be)&&(Object.assign($,{row:J,column:Q,visible:!0}),fe(()=>{const Ne=S.value;Ne&&Ne.open(Be?g:x||g,en(Le))})),fe()};h={getSetupOptions(){return y},updateAfterDataIndex:Wt,callSlot(a,p){if(a){if(se)return se.callSlot(a,p);if(c.isFunction(a))return Nt(a(p))}return[]},getParentElem(){const a=b.value;if(se){const p=se.getRefMaps().refElem.value;return p?p.parentNode:null}return a?a.parentNode:null},getParentHeight(){const{height:a}=e,p=b.value;if(p){const g=p.parentNode,x=a==="auto"?Tc(g):0;return Math.floor(se?se.getParentHeight():c.toNumber(getComputedStyle(g).height)-x)}return 0},getExcludeHeight(){return se?se.getExcludeHeight():0},defineField(a){const{treeConfig:p}=e,g=z.value,x=oe.value,k=q.value,$=D.value,j=x.children||x.childrenField,Q=Vs(W);return c.isArray(a)||(a=[a]),a.map(J=>(d.tableFullColumn.forEach(re=>{const{field:De,editRender:Ve}=re;if(De&&!c.has(J,De)&&!J[De]){let Le=null;if(Ve){const{defaultValue:Be}=Ve;c.isFunction(Be)?Le=Be({column:re}):c.isUndefined(Be)||(Le=Be)}c.set(J,De,Le)}}),[k.labelField,$.checkField,$.labelField,g.labelField].forEach(re=>{re&&bo(c.get(J,re))&&c.set(J,re,null)}),p&&x.lazy&&c.isUndefined(J[j])&&(J[j]=null),bo(c.get(J,Q))&&c.set(J,Q,Ua()),J))},handleTableData(a){const{scrollYLoad:p}=i,{scrollYStore:g,fullDataRowIdData:x}=d;let k=d.afterFullData;a&&(yn(),k=nn());const $=p?k.slice(g.startIndex,g.endIndex):k.slice(0);return $.forEach((j,Q)=>{const J=Ye(W,j),de=x[J];de&&(de.$index=Q)}),i.tableData=$,fe()},cacheRowMap(a){const{treeConfig:p}=e,g=oe.value;let{fullDataRowIdData:x,fullAllDataRowIdData:k,tableFullData:$,tableFullTreeData:j}=d;const Q=g.children||g.childrenField,J=g.hasChild||g.hasChildField,de=Vs(W),re=p&&g.lazy,De=(Ve,Le,Be,Ne,je,Fe)=>{let Ge=Ye(W,Ve);const et=p&&Ne?Bx(Ne):Le+1,ut=Fe?Fe.length-1:0;bo(Ge)&&(Ge=Ua(),c.set(Ve,de,Ge)),re&&Ve[J]&&c.isUndefined(Ve[Q])&&(Ve[Q]=null);const ot={row:Ve,rowid:Ge,seq:et,index:p&&je?-1:Le,_index:-1,$index:-1,items:Be,parent:je,level:ut};a&&(x[Ge]=ot),k[Ge]=ot};a&&(x=d.fullDataRowIdData={}),k=d.fullAllDataRowIdData={},p?c.eachTree(j,De,{children:Q}):$.forEach(De)},cacheSourceMap(a){const{treeConfig:p}=e,g=oe.value;let{sourceDataRowIdData:x}=d;const k=c.clone(a,!0),$=Vs(W);x=d.sourceDataRowIdData={};const j=Q=>{let J=Ye(W,Q);bo(J)&&(J=Ua(),c.set(Q,$,J)),x[J]=Q};if(p){const Q=g.children||g.childrenField;c.eachTree(k,j,{children:g.transform?g.mapChildrenField:Q})}else k.forEach(j);d.tableSourceData=k},analyColumnWidth(){const{tableFullColumn:a}=d,p=ye.value,{width:g,minWidth:x}=p,k=[],$=[],j=[],Q=[],J=[],de=[];a.forEach(re=>{g&&!re.width&&(re.width=g),x&&!re.minWidth&&(re.minWidth=x),re.visible&&(re.resizeWidth?k.push(re):Oc(re.width)?$.push(re):ui(re.width)?Q.push(re):Oc(re.minWidth)?j.push(re):ui(re.minWidth)?J.push(re):de.push(re))}),Object.assign(i.columnStore,{resizeList:k,pxList:$,pxMinList:j,scaleList:Q,scaleMinList:J,autoList:de})},saveCustomResizable(a){const{id:p,customConfig:g}=e,x=qe.value,{collectColumn:k}=d,{storage:$}=x,j=$===!0,Q=j?{}:Object.assign({},$||{}),J=j||Q.resizable;if(g&&J){const de=mt(oc);let re;if(!p){sn("vxe.error.reqProp",["id"]);return}a||(re=c.isPlainObject(de[p])?de[p]:{},c.eachTree(k,De=>{if(De.resizeWidth){const Ve=De.getKey();Ve&&(re[Ve]=De.renderWidth)}})),de[p]=c.isEmpty(re)?void 0:re,localStorage.setItem(oc,c.toJSONString(de))}},saveCustomSort(a){const{id:p,customConfig:g}=e,x=qe.value,{collectColumn:k}=d,{storage:$}=x,j=$===!0,Q=j?{}:Object.assign({},$||{}),J=j||Q.sort;if(g&&J){const de=mt(ic);let re;if(!p){sn("vxe.error.reqProp",["id"]);return}a||(re=c.isPlainObject(de[p])?de[p]:{},k.forEach(De=>{if(De.sortNumber!==De.renderSortNumber){const Ve=De.getKey();Ve&&(re[Ve]=De.renderSortNumber)}})),de[p]=c.isEmpty(re)?void 0:re,localStorage.setItem(ic,c.toJSONString(de))}},saveCustomFixed(){const{id:a,customConfig:p}=e,{collectColumn:g}=d,x=qe.value,{storage:k}=x,$=k===!0,j=$?{}:Object.assign({},k||{}),Q=$||j.fixed;if(p&&Q){const J=mt(lc),de=[];if(!a){sn("vxe.error.reqProp",["id"]);return}c.eachTree(g,re=>{if(re.fixed&&re.fixed!==re.defaultFixed){const De=re.getKey();De&&de.push(`${De}|${re.fixed}`)}}),J[a]=de.join(",")||void 0,localStorage.setItem(lc,c.toJSONString(J))}},saveCustomVisible(){const{id:a,customConfig:p}=e,{collectColumn:g}=d,x=qe.value,{checkMethod:k,storage:$}=x,j=$===!0,Q=j?{}:Object.assign({},$||{}),J=j||Q.visible;if(p&&J){const de=mt(sc),re=[],De=[];if(!a){sn("vxe.error.reqProp",["id"]);return}c.eachTree(g,Ve=>{if(!k||k({column:Ve})){if(!Ve.visible&&Ve.defaultVisible){const Le=Ve.getKey();Le&&re.push(Le)}else if(Ve.visible&&!Ve.defaultVisible){const Le=Ve.getKey();Le&&De.push(Le)}}}),de[a]=[re.join(",")].concat(De.length?[De.join(",")]:[]).join("|")||void 0,localStorage.setItem(sc,c.toJSONString(de))}},handleCustom(){const{mouseConfig:a}=e;return a&&(W.clearSelected&&W.clearSelected(),W.clearCellAreas&&(W.clearCellAreas(),W.clearCopyCellArea())),h.saveCustomVisible(),h.saveCustomSort(),h.analyColumnWidth(),u.refreshColumn(!0)},handleUpdateDataQueue(){i.upDataFlag++},handleRefreshColumnQueue(){i.reColumnFlag++},preventEvent(a,p,g,x,k){let $=tt.interceptor.get(p);!$.length&&p==="event.clearEdit"&&($=tt.interceptor.get("event.clearActived"));let j;return $.some(Q=>Q(Object.assign({$grid:se,$table:W,$event:a},g))===!1)||x&&(j=x()),k&&k(),j},checkSelectionStatus(){const{treeConfig:a}=e,{selectCheckboxMaps:p,treeIndeterminateMaps:g}=i,{afterFullData:x}=d,k=D.value,{checkField:$,checkStrictly:j,checkMethod:Q}=k,J=k.indeterminateField||k.halfField;if(!j){const de=[];let re=!1,De=!1,Ve=!1;$?(re=x.every(Q?Le=>Q({row:Le})?!!c.get(Le,$):(de.push(Le),!0):Le=>c.get(Le,$)),De=re&&x.length!==de.length,a?J?Ve=!De&&x.some(Le=>c.get(Le,$)||c.get(Le,J)||!!g[Ye(W,Le)]):Ve=!De&&x.some(Le=>c.get(Le,$)||!!g[Ye(W,Le)]):J?Ve=!De&&x.some(Le=>c.get(Le,$)||c.get(Le,J)):Ve=!De&&x.some(Le=>c.get(Le,$))):(re=x.every(Q?Le=>Q({row:Le})?!!p[Ye(W,Le)]:(de.push(Le),!0):Le=>p[Ye(W,Le)]),De=re&&x.length!==de.length,a?Ve=!De&&x.some(Le=>{const Be=Ye(W,Le);return g[Be]||p[Be]}):Ve=!De&&x.some(Le=>p[Ye(W,Le)])),i.isAllSelected=De,i.isIndeterminate=Ve}},handleSelectRow({row:a},p,g){const{treeConfig:x}=e,{selectCheckboxMaps:k,treeIndeterminateMaps:$}=i,j=Object.assign({},k),{afterFullData:Q}=d,J=oe.value,de=J.children||J.childrenField,re=D.value,{checkField:De,checkStrictly:Ve,checkMethod:Le}=re,Be=re.indeterminateField||re.halfField,Ne=Ye(W,a);if(De)if(x&&!Ve){p===-1?($[Ne]||(Be&&c.set(a,Be,!0),$[Ne]=a),c.set(a,De,!1)):c.eachTree([a],Fe=>{(W.eqRow(Fe,a)||g||!Le||Le({row:Fe}))&&(c.set(Fe,De,p),Be&&c.set(a,Be,!1),delete $[Ye(W,Fe)],Vn(a,p))},{children:de});const je=c.findTree(Q,Fe=>W.eqRow(Fe,a),{children:de});if(je&&je.parent){let Fe;const Ge=[],et={};if(!g&&Le?je.items.forEach(ot=>{if(Le({row:ot})){const ft=Ye(W,ot);et[ft]=ot,Ge.push(ot)}}):je.items.forEach(ot=>{const ft=Ye(W,ot);et[ft]=ot,Ge.push(ot)}),c.find(je.items,ot=>!!$[Ye(W,ot)]))Fe=-1;else{const ot=[];je.items.forEach(ft=>{c.get(ft,De)&&ot.push(ft)}),Fe=ot.filter(ft=>et[Ye(W,ft)]).length===Ge.length?!0:ot.length||p===-1?-1:!1}return i.selectCheckboxMaps=j,h.handleSelectRow({row:je.parent},Fe,g)}}else(g||!Le||Le({row:a}))&&(c.set(a,De,p),Vn(a,p));else if(x&&!Ve){p===-1?($[Ne]||(Be&&c.set(a,Be,!0),$[Ne]=a),j[Ne]&&delete j[Ne]):c.eachTree([a],Fe=>{const Ge=Ye(W,Fe);(W.eqRow(Fe,a)||g||!Le||Le({row:Fe}))&&(p?j[Ge]=Fe:j[Ge]&&delete j[Ge],Be&&c.set(a,Be,!1),delete $[Ye(W,Fe)],Vn(a,p))},{children:de});const je=c.findTree(Q,Fe=>W.eqRow(Fe,a),{children:de});if(je&&je.parent){let Fe;const Ge=[],et={};if(!g&&Le?je.items.forEach(ot=>{if(Le({row:ot})){const ft=Ye(W,ot);et[ft]=ot,Ge.push(ot)}}):je.items.forEach(ot=>{const ft=Ye(W,ot);et[ft]=ot,Ge.push(ot)}),c.find(je.items,ot=>!!$[Ye(W,ot)]))Fe=-1;else{const ot=[];je.items.forEach(ft=>{const jt=Ye(W,ft);j[jt]&&ot.push(ft)}),Fe=ot.filter(ft=>et[Ye(W,ft)]).length===Ge.length?!0:ot.length||p===-1?-1:!1}return i.selectCheckboxMaps=j,h.handleSelectRow({row:je.parent},Fe,g)}}else(g||!Le||Le({row:a}))&&(p?j[Ne]||(j[Ne]=a):j[Ne]&&delete j[Ne],Vn(a,p));i.selectCheckboxMaps=j,h.checkSelectionStatus()},triggerHeaderTitleEvent(a,p,g){const x=p.content||p.message;if(x){const{tooltipStore:k}=i,{column:$}=g,j=Ut(x);il(!0),k.row=null,k.column=$,k.visible=!0,fe(()=>{const Q=S.value;Q&&Q.open(a.currentTarget,j)})}},triggerHeaderTooltipEvent(a,p){const{tooltipStore:g}=i,{column:x}=p,k=a.currentTarget;il(!0),(g.column!==x||!g.visible)&&ql(a,k,k,null,p)},triggerBodyTooltipEvent(a,p){const{editConfig:g}=e,{editStore:x}=i,{tooltipStore:k}=i,$=Ie.value,{actived:j}=x,{row:Q,column:J}=p,de=a.currentTarget;if(il(k.column!==J||k.row!==Q),!(J.editRender&&gt(g)&&($.mode==="row"&&j.row===Q||j.row===Q&&j.column===J))&&(k.column!==J||k.row!==Q||!k.visible)){let re,De;J.treeNode?(re=de.querySelector(".vxe-tree-cell"),J.type==="html"&&(De=de.querySelector(".vxe-cell--html"))):De=de.querySelector(J.type==="html"?".vxe-cell--html":".vxe-cell--label"),ql(a,de,re||de.children[0],De,p)}},triggerFooterTooltipEvent(a,p){const{column:g}=p,{tooltipStore:x}=i,k=a.currentTarget;il(x.column!==g||!!x.row),(x.column!==g||!x.visible)&&ql(a,k,k.querySelector(".vxe-cell--item")||k.children[0],null,p)},handleTargetLeaveEvent(){const a=G.value;let p=S.value;p&&p.setActived(!1),a.enterable?d.tooltipTimeout=setTimeout(()=>{p=S.value,p&&!p.isActived()&&u.closeTooltip()},a.leaveDelay):u.closeTooltip()},triggerHeaderCellClickEvent(a,p){const{_lastResizeTime:g}=d,x=v.value,k=ye.value,{column:$}=p,j=a.currentTarget,Q=g&&g>Date.now()-300,J=yt(a,j,"vxe-cell--sort").flag,de=yt(a,j,"vxe-cell--filter").flag;x.trigger==="cell"&&!(Q||J||de)&&h.triggerSortEvent(a,$,bt($)),u.dispatchEvent("header-cell-click",Object.assign({triggerResizable:Q,triggerSort:J,triggerFilter:de,cell:j},p),a),(k.isCurrent||e.highlightCurrentColumn)&&u.setCurrentColumn($)},triggerHeaderCellDblclickEvent(a,p){u.dispatchEvent("header-cell-dblclick",Object.assign({cell:a.currentTarget},p),a)},triggerCellClickEvent(a,p){const{highlightCurrentRow:g,editConfig:x}=e,{editStore:k}=i,$=z.value,j=Ie.value,Q=oe.value,J=q.value,de=D.value,re=X.value,De=Pe.value,{actived:Ve,focused:Le}=k,{row:Be,column:Ne}=p,{type:je,treeNode:Fe}=Ne,Ge=je==="radio",et=je==="checkbox",ut=je==="expand",ot=a.currentTarget,ft=Ge&&yt(a,ot,"vxe-cell--radio").flag,jt=et&&yt(a,ot,"vxe-cell--checkbox").flag,Zt=Fe&&yt(a,ot,"vxe-tree--btn-wrapper").flag,_t=ut&&yt(a,ot,"vxe-table--expanded").flag;p=Object.assign({cell:ot,triggerRadio:ft,triggerCheckbox:jt,triggerTreeNode:Zt,triggerExpandNode:_t},p),!jt&&!ft&&(!_t&&($.trigger==="row"||ut&&$.trigger==="cell")&&h.triggerRowExpandEvent(a,p),(Q.trigger==="row"||Fe&&Q.trigger==="cell")&&h.triggerTreeExpandEvent(a,p)),Zt||(_t||((De.isCurrent||g)&&!jt&&!ft&&h.triggerCurrentRowEvent(a,p),!ft&&(J.trigger==="row"||Ge&&J.trigger==="cell")&&h.triggerRadioRowEvent(a,p),!jt&&(de.trigger==="row"||et&&de.trigger==="cell")&&h.handleToggleCheckRowEvent(a,p)),gt(x)&&(re.arrowCursorLock&&a&&j.mode==="cell"&&a.target&&/^input|textarea$/i.test(a.target.tagName)&&(Le.column=Ne,Le.row=Be),j.trigger==="manual"?Ve.args&&Ve.row===Be&&Ne!==Ve.column&&eo(a,p):(!Ve.args||Be!==Ve.row||Ne!==Ve.column)&&(j.trigger==="click"||j.trigger==="dblclick"&&j.mode==="row"&&Ve.row===Be)&&eo(a,p))),u.dispatchEvent("cell-click",p,a)},triggerCellDblclickEvent(a,p){const{editConfig:g}=e,{editStore:x}=i,k=Ie.value,{actived:$}=x,j=a.currentTarget;p=Object.assign({cell:j},p),gt(g)&&k.trigger==="dblclick"&&(!$.args||a.currentTarget!==$.args.cell)&&(k.mode==="row"?_n("blur").catch(Q=>Q).then(()=>{W.handleActived(p,a).then(()=>_n("change")).catch(Q=>Q)}):k.mode==="cell"&&W.handleActived(p,a).then(()=>_n("change")).catch(Q=>Q)),u.dispatchEvent("cell-dblclick",p,a)},handleToggleCheckRowEvent(a,p){const{selectCheckboxMaps:g}=i,x=D.value,{checkField:k}=x,{row:$}=p;let j=!1;k?j=!c.get($,k):j=!g[Ye(W,$)],a?h.triggerCheckRowEvent(a,p,j):h.handleSelectRow(p,j)},triggerCheckRowEvent(a,p,g){const x=D.value,{row:k}=p,{afterFullData:$}=d,{checkMethod:j}=x;if(x.isShiftKey&&a.shiftKey&&!e.treeConfig){const Q=u.getCheckboxRecords();if(Q.length){const J=Q[0],de=u.getVTRowIndex(k),re=u.getVTRowIndex(J);if(de!==re){u.setAllCheckboxRow(!1);const De=de<re?$.slice(de,re+1):$.slice(re,de+1);to(De,!0,!1),u.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:De},p),a);return}}}(!j||j({row:k}))&&(h.handleSelectRow(p,g),u.dispatchEvent("checkbox-change",Object.assign({records:u.getCheckboxRecords(),reserves:u.getCheckboxReserveRecords(),indeterminates:u.getCheckboxIndeterminateRecords(),checked:g},p),a))},triggerCheckAllEvent(a,p){no(p),a&&u.dispatchEvent("checkbox-all",{records:u.getCheckboxRecords(),reserves:u.getCheckboxReserveRecords(),indeterminates:u.getCheckboxIndeterminateRecords(),checked:p},a)},triggerRadioRowEvent(a,p){const{selectRadioRow:g}=i,{row:x}=p,k=q.value;let $=x,j=g!==$;j?hn($):k.strict||(j=g===$,j&&($=null,u.clearRadioRow())),j&&u.dispatchEvent("radio-change",Object.assign({oldValue:g,newValue:$},p),a)},triggerCurrentRowEvent(a,p){const{currentRow:g}=i,{row:x}=p,k=g!==x;u.setCurrentRow(x),k&&u.dispatchEvent("current-change",Object.assign({oldValue:g,newValue:x},p),a)},triggerRowExpandEvent(a,p){const{rowExpandLazyLoadedMaps:g,expandColumn:x}=i,k=z.value,{row:$}=p,{lazy:j}=k,Q=Ye(W,$);if(!j||!g[Q]){const J=!u.isRowExpandByRow($),de=u.getColumnIndex(x),re=u.getVMColumnIndex(x);u.setRowExpand($,J),u.dispatchEvent("toggle-row-expand",{expanded:J,column:x,columnIndex:de,$columnIndex:re,row:$,rowIndex:u.getRowIndex($),$rowIndex:u.getVMRowIndex($)},a)}},triggerTreeExpandEvent(a,p){const{treeExpandLazyLoadedMaps:g}=i,x=oe.value,{row:k,column:$}=p,{lazy:j}=x,Q=Ye(W,k);if(!j||!g[Q]){const J=!u.isTreeExpandByRow(k),de=u.getColumnIndex($),re=u.getVMColumnIndex($);u.setTreeExpand(k,J),u.dispatchEvent("toggle-tree-expand",{expanded:J,column:$,columnIndex:de,$columnIndex:re,row:k},a)}},triggerSortEvent(a,p,g){const{mouseConfig:x}=e,k=v.value,$=N.value,{field:j,sortable:Q}=p;if(Q){!g||p.order===g?u.clearSort(k.multiple?p:null):u.sort({field:j,order:g});const J={$table:W,$event:a,column:p,field:j,property:j,order:p.order,sortList:u.getSortColumns(),sortTime:p.sortTime};x&&$.area&&W.handleSortEvent&&W.handleSortEvent(a,J),u.dispatchEvent("sort-change",J,a)}},triggerScrollXEvent(){_o()},triggerScrollYEvent(a){const{scrollYStore:p}=d,{adaptive:g,offsetSize:x,visibleSize:k}=p;Qy&&g&&x*2+k<=40?nr(a):ma(a)},scrollToTreeRow(a){const{treeConfig:p}=e,{tableFullData:g}=d,x=[];if(p){const k=oe.value,$=k.children||k.childrenField,j=c.findTree(g,Q=>W.eqRow(Q,a),{children:$});if(j){const Q=j.nodes;Q.forEach((J,de)=>{de<Q.length-1&&!u.isTreeExpandByRow(J)&&x.push(u.setTreeExpand(J,!0))})}}return Promise.all(x).then(()=>df(W,a))},updateScrollYStatus:Wl,updateScrollXSpace(){const{isGroup:a,scrollXLoad:p,scrollbarWidth:g}=i,{visibleColumn:x,scrollXStore:k,elemStore:$,tableWidth:j}=d,Q=E.value,J=M.value,de=L.value,re=J?J.$el:null;if(re){const De=Q?Q.$el:null,Ve=de?de.$el:null,Le=De?De.querySelector(".vxe-table--header"):null,Be=re.querySelector(".vxe-table--body"),Ne=Ve?Ve.querySelector(".vxe-table--footer"):null,je=x.slice(0,k.startIndex).reduce((et,ut)=>et+ut.renderWidth,0);let Fe="";p&&(Fe=`${je}px`),Le&&(Le.style.marginLeft=a?"":Fe),Be.style.marginLeft=Fe,Ne&&(Ne.style.marginLeft=Fe),["main"].forEach(et=>{["header","body","footer"].forEach(ot=>{const ft=$[`${et}-${ot}-xSpace`],jt=ft?ft.value:null;jt&&(jt.style.width=p?`${j+(ot==="header"?g:0)}px`:"")})}),fe(on)}},updateScrollYSpace(){const{scrollYLoad:a}=i,{scrollYStore:p,elemStore:g,afterFullData:x}=d,{startIndex:k,rowHeight:$}=p,j=x.length*$,Q=Math.max(0,k*$),J=["main","left","right"];let de="",re="";a&&(de=`${Q}px`,re=`${j}px`),J.forEach(De=>{const Ve=["header","body","footer"],Le=g[`${De}-body-table`],Be=Le?Le.value:null;Be&&(Be.style.marginTop=de),Ve.forEach(Ne=>{const je=g[`${De}-${Ne}-ySpace`],Fe=je?je.value:null;Fe&&(Fe.style.height=re)})}),fe(on)},updateScrollXData(){fe(()=>{un(),h.updateScrollXSpace()})},updateScrollYData(){fe(()=>{h.handleTableData(),h.updateScrollYSpace()})},checkScrolling(){const a=ce.value,p=le.value,g=M.value,x=g?g.$el:null;x&&(a&&(x.scrollLeft>0?Uo(a,"scrolling--middle"):Zn(a,"scrolling--middle")),p&&(x.clientWidth<x.scrollWidth-Math.ceil(x.scrollLeft)?Uo(p,"scrolling--middle"):Zn(p,"scrolling--middle")))},updateZindex(){e.zIndex?d.tZindex=e.zIndex:d.tZindex<Ao()&&(d.tZindex=Co())},handleCheckedCheckboxRow:to,triggerHoverEvent(a,{row:p}){h.setHoverRow(p)},setHoverRow(a){const p=Ye(W,a),g=b.value;h.clearHoverRow(),g&&c.arrayEach(g.querySelectorAll(`[rowid="${p}"]`),x=>Uo(x,"row--hover")),d.hoverRow=a},clearHoverRow(){const a=b.value;a&&c.arrayEach(a.querySelectorAll(".vxe-body--row.row--hover"),p=>Zn(p,"row--hover")),d.hoverRow=null},getCell(a,p){const g=Ye(W,a),x=M.value,k=P.value,$=ae.value;let j;return p&&(p.fixed&&(p.fixed==="left"?k&&(j=k.$el):$&&(j=$.$el)),j||(j=x.$el),j)?j.querySelector(`.vxe-body--row[rowid="${g}"] .${p.id}`):null},getCellLabel(a,p){const g=p.formatter,x=po(a,p);let k=x;if(g){let $;const{fullAllDataRowIdData:j}=d,Q=Ye(W,a),J=p.id,de=j[Q];if(de&&($=de.formatData,$||($=j[Q].formatData={}),de&&$[J]&&$[J].value===x))return $[J].label;const re={cellValue:x,row:a,rowIndex:u.getRowIndex(a),column:p,columnIndex:u.getColumnIndex(p)};if(c.isString(g)){const De=tt.formats.get(g);k=De&&De.cellFormatMethod?De.cellFormatMethod(re):""}else if(c.isArray(g)){const De=tt.formats.get(g[0]);k=De&&De.cellFormatMethod?De.cellFormatMethod(re,...g.slice(1)):""}else k=g(re);$&&($[J]={value:x,label:k})}return k},findRowIndexOf(a,p){return p?c.findIndexOf(a,g=>W.eqRow(g,p)):-1},eqRow(a,p){return a&&p?a===p?!0:Ye(W,a)===Ye(W,p):!1}},Object.assign(W,u,h);const ir=a=>{const{showHeader:p,showFooter:g}=e,{tableData:x,tableColumn:k,tableGroupColumn:$,columnStore:j,footerTableData:Q}=i,J=a==="left",de=J?j.leftList:j.rightList;return m("div",{ref:J?ce:le,class:`vxe-table--fixed-${a}-wrapper`},[p?m(Af,{ref:J?V:H,fixedType:a,tableData:x,tableColumn:k,tableGroupColumn:$,fixedColumn:de}):Et(),m(Lf,{ref:J?P:ae,fixedType:a,tableData:x,tableColumn:k,fixedColumn:de}),g?m(Nf,{ref:J?_:be,footerTableData:Q,tableColumn:k,fixedColumn:de,fixedType:a}):Et()])},Ea=()=>{const a=Re.value,p={$table:W};if(n.empty)return n.empty(p);{const g=a.name?tt.renderer.get(a.name):null,x=g?g.renderTableEmptyView||g.renderEmpty:null;if(x)return Nt(x(a,p))}return Ut(e.emptyText)||y.i18n("vxe.table.emptyText")};function Ul(){const a=b.value;a&&a.clientWidth&&a.clientHeight&&u.recalculate()}const Gl=Ue(0);lt(()=>e.data?e.data.length:-1,()=>{Gl.value++}),lt(()=>e.data,()=>{Gl.value++}),lt(Gl,()=>{const{inited:a,initStatus:p}=d;lo(e.data||[]).then(()=>{d.inited=!0,d.initStatus=!0,p||ts(),a||$n(),u.recalculate()})});const R=Ue(0);lt(()=>i.staticColumns.length,()=>{R.value++}),lt(()=>i.staticColumns,()=>{R.value++}),lt(R,()=>{Rs(i.staticColumns)});const ue=Ue(0);lt(()=>i.tableColumn.length,()=>{ue.value++}),lt(()=>i.tableColumn,()=>{ue.value++}),lt(ue,()=>{h.analyColumnWidth()}),lt(()=>i.upDataFlag,()=>{fe(()=>{u.updateData()})}),lt(()=>i.reColumnFlag,()=>{fe(()=>{u.refreshColumn()})}),lt(()=>e.showHeader,()=>{fe(()=>{u.recalculate(!0).then(()=>u.refreshScroll())})}),lt(()=>e.showFooter,()=>{fe(()=>{u.recalculate(!0).then(()=>u.refreshScroll())})});const Oe=Ue(0);lt(()=>e.footerData?e.footerData.length:-1,()=>{Oe.value++}),lt(()=>e.footerData,()=>{Oe.value++}),lt(Oe,()=>{u.updateFooter()}),lt(()=>e.height,()=>{fe(()=>u.recalculate(!0))}),lt(()=>e.maxHeight,()=>{fe(()=>u.recalculate(!0))}),lt(()=>e.syncResize,a=>{a&&(Ul(),fe(()=>{Ul(),setTimeout(()=>Ul())}))});const $e=Ue(0);lt(()=>e.mergeCells?e.mergeCells.length:-1,()=>{$e.value++}),lt(()=>e.mergeCells,()=>{$e.value++}),lt($e,()=>{u.clearMergeCells(),fe(()=>{e.mergeCells&&u.setMergeCells(e.mergeCells)})});const Ke=Ue(0);lt(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Ke.value++}),lt(()=>e.mergeFooterItems,()=>{Ke.value++}),lt(Ke,()=>{u.clearMergeFooterItems(),fe(()=>{e.mergeFooterItems&&u.setMergeFooterItems(e.mergeFooterItems)})}),tt.hooks.forEach(a=>{const{setupTable:p}=a;if(p){const g=p(W);g&&c.isObject(g)&&Object.assign(W,g)}}),h.preventEvent(null,"created",{$table:W});let We;Qr(()=>{u.recalculate().then(()=>u.refreshScroll()),h.preventEvent(null,"activated",{$table:W})}),Qc(()=>{d.isActivated=!1,h.preventEvent(null,"deactivated",{$table:W})}),pn(()=>{fe(()=>{const{data:a,treeConfig:p,showOverflow:g}=e,{scrollXStore:x,scrollYStore:k}=d,$=Z.value;if(Ie.value,oe.value,q.value,D.value,z.value,Pe.value,Object.assign(k,{startIndex:0,endIndex:0,visibleSize:0,adaptive:$.adaptive!==!1}),Object.assign(x,{startIndex:0,endIndex:0,visibleSize:0}),lo(a||[]).then(()=>{a&&a.length&&(d.inited=!0,d.initStatus=!0,ts(),$n()),on()}),e.autoResize){const j=ke.value,{refreshDelay:Q}=j,J=b.value,de=h.getParentElem(),re=Q?c.throttle(()=>u.recalculate(!0),Q,{leading:!0,trailing:!0}):null;We=ym(re?()=>{e.autoResize&&requestAnimationFrame(re)}:()=>{e.autoResize&&u.recalculate(!0)}),J&&We.observe(J),de&&We.observe(de)}}),ht.on(W,"paste",lr),ht.on(W,"copy",ya),ht.on(W,"cut",Ca),ht.on(W,"mousedown",ga),ht.on(W,"blur",va),ht.on(W,"mousewheel",ba),ht.on(W,"keydown",sr),ht.on(W,"resize",wa),W.handleGlobalContextmenuEvent&&ht.on(W,"contextmenu",W.handleGlobalContextmenuEvent),h.preventEvent(null,"mounted",{$table:W})}),$l(()=>{We&&We.disconnect(),u.closeFilter(),W.closeMenu&&W.closeMenu(),h.preventEvent(null,"beforeUnmount",{$table:W})}),an(()=>{ht.off(W,"paste"),ht.off(W,"copy"),ht.off(W,"cut"),ht.off(W,"mousedown"),ht.off(W,"blur"),ht.off(W,"mousewheel"),ht.off(W,"keydown"),ht.off(W,"resize"),ht.off(W,"contextmenu"),h.preventEvent(null,"unmounted",{$table:W})});const nt=()=>{const{loading:a,stripe:p,showHeader:g,height:x,treeConfig:k,mouseConfig:$,showFooter:j,highlightCell:Q,highlightHoverRow:J,highlightHoverColumn:de,editConfig:re,editRules:De}=e,{isGroup:Ve,overflowX:Le,overflowY:Be,scrollXLoad:Ne,scrollYLoad:je,scrollbarHeight:Fe,tableData:Ge,tableColumn:et,tableGroupColumn:ut,footerTableData:ot,initStore:ft,columnStore:jt,filterStore:Zt,customStore:_t}=i,{leftList:Rt,rightList:Ot}=jt,Yt=n.loading,wn=te.value,vo=I.value,rl=oe.value,Ms=Pe.value,Yl=ye.value,ks=r.value,$o=Ze.value,Is=N.value,Ds=me.value,qn=He.value,Fs=we.value;return m("div",{ref:b,class:["vxe-table","vxe-table--render-default",`tid_${l}`,`border--${$o}`,{[`size--${ks}`]:ks,[`valid-msg--${vo.msgMode}`]:!!De,"vxe-editable":!!re,"old-cell-valid":De&&y.cellVaildMode==="obsolete","cell--highlight":Q,"cell--selected":$&&Is.selected,"cell--area":$&&Is.area,"row--highlight":Ms.isHover||J,"column--highlight":Yl.isHover||de,"is--header":g,"is--footer":j,"is--group":Ve,"is--tree-line":k&&(rl.showLine||rl.line),"is--fixed-left":Rt.length,"is--fixed-right":Ot.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!k&&p,"is--loading":a,"is--empty":!a&&!Ge.length,"is--scroll-y":Be,"is--scroll-x":Le,"is--virtual-x":Ne,"is--virtual-y":je}],onKeydown:xa},[m("div",{class:"vxe-table-slots"},n.default?n.default({}):[]),m("div",{class:"vxe-table--render-wrapper"},[m("div",{class:"vxe-table--main-wrapper"},[g?m(Af,{ref:E,tableData:Ge,tableColumn:et,tableGroupColumn:ut}):Et(),m(Lf,{ref:M,tableData:Ge,tableColumn:et}),j?m(Nf,{ref:L,footerTableData:ot,tableColumn:et}):Et()]),m("div",{class:"vxe-table--fixed-wrapper"},[Rt&&Rt.length&&Le?ir("left"):Et(),Ot&&Ot.length&&Le?ir("right"):Et()])]),m("div",{ref:he,class:"vxe-table--empty-placeholder"},[m("div",{class:"vxe-table--empty-content"},Ea())]),m("div",{class:"vxe-table--border-line"}),m("div",{ref:pe,class:"vxe-table--resizable-bar",style:Le?{"padding-bottom":`${Fe}px`}:null}),m(er,{class:"vxe-table--loading",modelValue:a,icon:qn.icon,text:qn.text},Yt?{default:()=>Yt({$table:W,$grid:se})}:{}),ft.custom?m(Sn("vxe-table-custom-panel"),{ref:w,customStore:_t}):Et(),ft.filter?m(Sn("vxe-table-filter-panel"),{ref:O,filterStore:Zt}):Et(),ft.import&&e.importConfig?m(Sn("vxe-table-import-panel"),{defaultOptions:i.importParams,storeData:i.importStore}):Et(),ft.export&&(e.exportConfig||e.printConfig)?m(Sn("vxe-table-export-panel"),{defaultOptions:i.exportParams,storeData:i.exportStore}):Et(),Fs?m(Sn("vxe-table-menu-panel"),{ref:U}):Et(),s?m(Sn("vxe-tooltip"),{ref:F,isArrow:!1,enterable:!1}):Et(),s?m(Sn("vxe-tooltip"),Object.assign({ref:S},wn)):Et(),s&&e.editRules&&vo.showMessage&&(vo.message==="default"?!x:vo.message==="tooltip")?m(Sn("vxe-tooltip"),Object.assign({ref:T,class:[{"old-cell-valid":De&&y.cellVaildMode==="obsolete"},"vxe-table--valid-error"]},vo.message==="tooltip"||Ge.length===1?Ds:{})):Et()])};return W.renderVN=nt,qt("xecolgroup",null),qt("$xetable",W),W},render(){return this.renderVN()}}),ca=Object.assign(Oi,{install:function(e){e.component(Oi.name,Oi)}}),eC=ca;Dt.component(Oi.name,Oi);const ua=Object.assign(Xs,{install:function(e){e.component(Xs.name,Xs)}}),tC=ua;Dt.component(Xs.name,Xs);const Ti=Mt({name:"VxePager",props:{size:{type:String,default:()=>y.pager.size||y.size},layouts:{type:Array,default:()=>y.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>y.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>y.pager.pagerCount||7},pageSizes:{type:Array,default:()=>y.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>y.pager.align},border:{type:Boolean,default:()=>y.pager.border},background:{type:Boolean,default:()=>y.pager.background},perfect:{type:Boolean,default:()=>y.pager.perfect},autoHidden:{type:Boolean,default:()=>y.pager.autoHidden},transfer:{type:Boolean,default:()=>y.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=ct("$xegrid",null),f=Vt({inpCurrPage:e.currentPage}),i=Ue(),d={refElem:i},u={xID:s,props:e,context:t,getRefMaps:()=>d};let h={},b={};const S=(D,G)=>Math.max(Math.ceil(D/G),1),F=Me(()=>S(e.total,e.pageSize)),T=(D,G)=>{o("update:currentPage",G),D&&G!==e.currentPage&&h.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:G},D)},U=(D,G)=>{o("update:currentPage",D),G&&D!==e.currentPage&&h.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:D},G)},O=D=>{const G=D.target,te=c.toInteger(G.value),me=F.value,Ie=te<=0?1:te>=me?me:te,v=c.toValueString(Ie);G.value=v,f.inpCurrPage=v,U(Ie,D)},w=Me(()=>{const{pagerCount:D}=e,te=F.value>D?D-2:D,me=[];for(let Ie=0;Ie<te;Ie++)me.push(Ie);return me}),E=Me(()=>Math.floor((e.pagerCount-2)/2)),M=Me(()=>e.pageSizes.map(D=>c.isNumber(D)?{value:D,label:`${y.i18n("vxe.pager.pagesize",[D])}`}:Object.assign({value:"",label:""},D))),L=D=>{const{currentPage:G}=e;G>1&&U(1,D)},V=D=>{const{currentPage:G}=e,te=F.value;G<te&&U(te,D)},P=D=>{const{currentPage:G}=e,te=F.value;G>1&&U(Math.min(te,Math.max(G-1,1)),D)},_=D=>{const{currentPage:G}=e,te=F.value;G<te&&U(Math.min(te,G+1),D)},H=D=>{const G=w.value;U(Math.max(e.currentPage-G.length,1),D)},ae=D=>{const G=F.value,te=w.value;U(Math.min(e.currentPage+te.length,G),D)},be=D=>{const{value:G}=D,te=c.toNumber(G),me=S(e.total,te);let Ie=e.currentPage;Ie>me&&(Ie=me,o("update:currentPage",me)),o("update:pageSize",te),h.dispatchEvent("page-change",{type:"size",pageSize:te,currentPage:Ie})},ce=D=>{const G=D.target;f.inpCurrPage=G.value},le=D=>{vt(D,dt.ENTER)?O(D):vt(D,dt.ARROW_UP)?(D.preventDefault(),_(D)):vt(D,dt.ARROW_DOWN)&&(D.preventDefault(),P(D))},pe=()=>m("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:y.i18n("vxe.pager.homePageTitle"),onClick:L},[m("i",{class:["vxe-pager--btn-icon",e.iconHomePage||y.icon.PAGER_HOME]})]),he=()=>m("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:y.i18n("vxe.pager.prevPageTitle"),onClick:P},[m("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||y.icon.PAGER_PREV_PAGE]})]),se=D=>m(D||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!D,"is--disabled":e.currentPage<=1}],type:"button",title:y.i18n("vxe.pager.prevJumpTitle"),onClick:H},[D?m("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||y.icon.PAGER_JUMP_MORE]}):null,m("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||y.icon.PAGER_JUMP_PREV]})]),B=D=>{const G=F.value;return m(D||"button",{class:["vxe-pager--jump-next",{"is--fixed":!D,"is--disabled":e.currentPage>=G}],type:"button",title:y.i18n("vxe.pager.nextJumpTitle"),onClick:ae},[D?m("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||y.icon.PAGER_JUMP_MORE]}):null,m("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||y.icon.PAGER_JUMP_NEXT]})])},I=()=>{const D=F.value;return m("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=D}],type:"button",title:y.i18n("vxe.pager.nextPageTitle"),onClick:_},[m("i",{class:["vxe-pager--btn-icon",e.iconNextPage||y.icon.PAGER_NEXT_PAGE]})])},A=()=>{const D=F.value;return m("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage>=D}],type:"button",title:y.i18n("vxe.pager.endPageTitle"),onClick:V},[m("i",{class:["vxe-pager--btn-icon",e.iconEndPage||y.icon.PAGER_END]})])},Z=D=>{const{currentPage:G,pagerCount:te}=e,me=[],Ie=F.value,v=w.value,C=E.value,N=Ie>te,Y=N&&G>C+1,X=N&&G<Ie-C;let ne=1;return N&&(G>=Ie-C?ne=Math.max(Ie-v.length+1,1):ne=Math.max(G-C,1)),D&&Y&&me.push(m("button",{class:"vxe-pager--num-btn",type:"button",onClick:ve=>T(ve,1)},1),se("span")),v.forEach((ve,Ce)=>{const Se=ne+Ce;Se<=Ie&&me.push(m("button",{key:Se,class:["vxe-pager--num-btn",{"is--active":G===Se}],type:"button",onClick:ge=>T(ge,Se)},Se))}),D&&X&&me.push(B("button"),m("button",{class:"vxe-pager--num-btn",type:"button",onClick:ve=>T(ve,Ie)},Ie)),m("span",{class:"vxe-pager--btn-wrapper"},me)},ee=()=>Z(!0),ye=()=>{const D=M.value;return m(ua,{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:D,onChange:be})},Pe=D=>m("span",{class:"vxe-pager--jump"},[D?m("span",{class:"vxe-pager--goto-text"},y.i18n("vxe.pager.goto")):null,m("input",{class:"vxe-pager--goto",value:f.inpCurrPage,type:"text",autocomplete:"off",onInput:ce,onKeydown:le,onBlur:O}),D?m("span",{class:"vxe-pager--classifier-text"},y.i18n("vxe.pager.pageClassifier")):null]),ke=()=>Pe(!0),_e=()=>{const D=F.value;return m("span",{class:"vxe-pager--count"},[m("span",{class:"vxe-pager--separator"}),m("span",D)])},Ae=()=>m("span",{class:"vxe-pager--total"},y.i18n("vxe.pager.total",[e.total]));h={dispatchEvent(D,G,te){o(D,Object.assign({$pager:u,$event:te},G))},homePage(){return L(),fe()},endPage(){return V(),fe()},prevPage(){return P(),fe()},nextPage(){return _(),fe()},prevJump(){return H(),fe()},nextJump(){return ae(),fe()}},b={handlePrevPage:P,handleNextPage:_,handlePrevJump:H,handleNextJump:ae},Object.assign(u,h,b),lt(()=>e.currentPage,D=>{f.inpCurrPage=D});const q=()=>{const{align:D,layouts:G,className:te}=e,me=[],Ie=l.value,v=F.value;return n.left&&me.push(m("span",{class:"vxe-pager--left-wrapper"},n.left({$grid:r}))),G.forEach(C=>{let N;switch(C){case"Home":N=pe;break;case"PrevJump":N=se;break;case"PrevPage":N=he;break;case"Number":N=Z;break;case"JumpNumber":N=ee;break;case"NextPage":N=I;break;case"NextJump":N=B;break;case"End":N=A;break;case"Sizes":N=ye;break;case"FullJump":N=ke;break;case"Jump":N=Pe;break;case"PageCount":N=_e;break;case"Total":N=Ae;break}N&&me.push(N())}),n.right&&me.push(m("span",{class:"vxe-pager--right-wrapper"},n.right({$grid:r}))),m("div",{ref:i,class:["vxe-pager",te?c.isFunction(te)?te({$pager:u}):te:"",{[`size--${Ie}`]:Ie,[`align--${D}`]:D,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&v===1,"is--loading":e.loading}]},[m("div",{class:"vxe-pager--wrapper"},me)])};return u.renderVN=q,u},render(){return this.renderVN()}}),da=Object.assign(Ti,{install:function(e){e.component(Ti.name,Ti)}}),nC=da;Dt.component(Ti.name,Ti);const co=Object.assign(On,{install(e){e.component(On.name,On)}}),oC=co;Dt.component(On.name,On);const Ri=Mt({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>y.toolbar.buttons},tools:{type:Array,default:()=>y.toolbar.tools},perfect:{type:Boolean,default:()=>y.toolbar.perfect},size:{type:String,default:()=>y.toolbar.size||y.size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Vt({isRefresh:!1,columns:[]}),f=Ue(),i={refElem:f},d={xID:s,props:e,context:t,reactData:r,getRefMaps:()=>i};let u={};const h=ct("$xegrid",null);let b;const S=Ue(0),F=Me(()=>Object.assign({},y.toolbar.refresh,e.refresh)),T=Me(()=>Object.assign({},y.toolbar.import,e.import)),U=Me(()=>Object.assign({},y.toolbar.export,e.export)),O=Me(()=>Object.assign({},y.toolbar.print,e.print)),w=Me(()=>Object.assign({},y.toolbar.zoom,e.zoom)),E=Me(()=>Object.assign({},y.toolbar.custom,e.custom)),M=Me(()=>{if((S.value||b)&&b){const{computeCustomOpts:q}=b.getComputeMaps();return q.value}return{}}),L=Me(()=>M.value.trigger),V=()=>{if(b)return!0;sn("vxe.error.barUnableLink")},P=({$event:q})=>{b&&(b.triggerCustomEvent?b.triggerCustomEvent(q):sn("vxe.error.reqModule",["VxeTableCustomModule"]))},_=({$event:q})=>{b?b.customOpenEvent(q):sn("vxe.error.reqModule",["VxeTableCustomModule"])},H=({$event:q})=>{const{customStore:D}=b.reactData;D.activeBtn=!1,setTimeout(()=>{!D.activeBtn&&!D.activeWrapper&&b.customColseEvent(q)},350)},ae=q=>{const{isRefresh:D}=r,G=F.value;if(!D){const te=G.queryMethod||G.query;if(te){r.isRefresh=!0;try{Promise.resolve(te({})).catch(me=>me).then(()=>{r.isRefresh=!1})}catch{r.isRefresh=!1}}else h&&(r.isRefresh=!0,h.triggerToolbarCommitEvent({code:G.code||"reload"},q).catch(me=>me).then(()=>{r.isRefresh=!1}))}},be=q=>{h&&h.triggerZoomEvent(q)},ce=(q,D)=>{const{code:G}=D;if(G)if(h)h.triggerToolbarBtnEvent(D,q);else{const te=tt.commands.get(G),me={code:G,button:D,$table:b,$grid:h,$event:q};te&&te.commandMethod&&te.commandMethod(me),d.dispatchEvent("button-click",me,q)}},le=(q,D)=>{const{code:G}=D;if(G)if(h)h.triggerToolbarTolEvent(D,q);else{const te=tt.commands.get(G),me={code:G,tool:D,$table:b,$grid:h,$event:q};te&&te.commandMethod&&te.commandMethod(me),d.dispatchEvent("tool-click",me,q)}},pe=()=>{V()&&b.openImport()},he=()=>{V()&&b.openExport()},se=()=>{V()&&b.openPrint()},B=(q,D)=>{const{dropdowns:G}=q,te=[];return G?G.map((me,Ie)=>me.visible===!1?Et():m(co,{key:Ie,disabled:me.disabled,loading:me.loading,type:me.type,icon:me.icon,circle:me.circle,round:me.round,status:me.status,content:me.name,onClick:v=>D?ce(v,me):le(v,me)})):te},I=()=>{const{buttons:q}=e,D=n.buttons;if(D)return Nt(D({$grid:h,$table:b}));const G=[];return q&&q.forEach(te=>{const{dropdowns:me,buttonRender:Ie}=te;if(te.visible!==!1){const v=Ie?tt.renderer.get(Ie.name):null;if(Ie&&v&&v.renderToolbarButton){const C=v.toolbarButtonClassName,N={$grid:h,$table:b,button:te};G.push(m("span",{class:["vxe-button--item",C?c.isFunction(C)?C(N):C:""]},Nt(v.renderToolbarButton(Ie,N))))}else G.push(m(co,{disabled:te.disabled,loading:te.loading,type:te.type,icon:te.icon,circle:te.circle,round:te.round,status:te.status,content:te.name,destroyOnClose:te.destroyOnClose,placement:te.placement,transfer:te.transfer,onClick:C=>ce(C,te)},me&&me.length?{dropdowns:()=>B(te,!0)}:{}))}}),G},A=()=>{const{tools:q}=e,D=n.tools;if(D)return Nt(D({$grid:h,$table:b}));const G=[];return q&&q.forEach((te,me)=>{const{dropdowns:Ie,toolRender:v}=te;if(te.visible!==!1){const C=v?v.name:null,N=v?tt.renderer.get(C):null;if(v&&N&&N.renderToolbarTool){const Y=N.toolbarToolClassName,X={$grid:h,$table:b,tool:te};G.push(m("span",{key:C,class:["vxe-tool--item",Y?c.isFunction(Y)?Y(X):Y:""]},Nt(N.renderToolbarTool(v,X))))}else G.push(m(co,{key:me,disabled:te.disabled,loading:te.loading,type:te.type,icon:te.icon,circle:te.circle,round:te.round,status:te.status,content:te.name,destroyOnClose:te.destroyOnClose,placement:te.placement,transfer:te.transfer,onClick:Y=>le(Y,te)},Ie&&Ie.length?{dropdowns:()=>B(te,!1)}:{}))}}),G},Z=()=>{const q=T.value;return m(co,{key:"import",circle:!0,icon:q.icon||y.icon.TOOLBAR_TOOLS_IMPORT,title:y.i18n("vxe.toolbar.import"),onClick:pe})},ee=()=>{const q=U.value;return m(co,{key:"export",circle:!0,icon:q.icon||y.icon.TOOLBAR_TOOLS_EXPORT,title:y.i18n("vxe.toolbar.export"),onClick:he})},ye=()=>{const q=O.value;return m(co,{key:"print",circle:!0,icon:q.icon||y.icon.TOOLBAR_TOOLS_PRINT,title:y.i18n("vxe.toolbar.print"),onClick:se})},Pe=()=>{const q=F.value;return m(co,{key:"refresh",circle:!0,icon:r.isRefresh?q.iconLoading||y.icon.TOOLBAR_TOOLS_REFRESH_LOADING:q.icon||y.icon.TOOLBAR_TOOLS_REFRESH,title:y.i18n("vxe.toolbar.refresh"),onClick:ae})},ke=()=>{const q=w.value;return h?m(co,{key:"zoom",circle:!0,icon:h.isMaximized()?q.iconOut||y.icon.TOOLBAR_TOOLS_MINIMIZE:q.iconIn||y.icon.TOOLBAR_TOOLS_FULLSCREEN,title:y.i18n(`vxe.toolbar.zoom${h.isMaximized()?"Out":"In"}`),onClick:be}):Et()},_e=()=>{const q=E.value,D=L.value,G={};return D==="manual"||(D==="hover"?(G.onMouseenter=_,G.onMouseleave=H):G.onClick=P),m(co,Object.assign({key:"custom",circle:!0,icon:q.icon||y.icon.TOOLBAR_TOOLS_CUSTOM,title:y.i18n("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},G))};u={dispatchEvent(q,D,G){o(q,Object.assign({$toolbar:d,$event:G},D))},syncUpdate(q){const{collectColumn:D}=q;b=q.$table,r.columns=D,S.value++}},Object.assign(d,u),fe(()=>{const{refresh:q}=e,D=F.value,G=D.queryMethod||D.query;q&&!h&&!G&&Th("vxe.error.notFunc",["queryMethod"]),E.value});const Ae=()=>{const{perfect:q,loading:D,refresh:G,zoom:te,custom:me,className:Ie}=e,v=l.value;return m("div",{ref:f,class:["vxe-toolbar",Ie?c.isFunction(Ie)?Ie({$toolbar:d}):Ie:"",{[`size--${v}`]:v,"is--perfect":q,"is--loading":D}]},[m("div",{class:"vxe-buttons--wrapper"},I()),m("div",{class:"vxe-tools--wrapper"},A()),m("div",{class:"vxe-tools--operate"},[e.import?Z():Et(),e.export?ee():Et(),e.print?ye():Et(),G?Pe():Et(),te&&h?ke():Et(),me?_e():Et()])])};return d.renderVN=Ae,d},render(){return this.renderVN()}}),fa=Object.assign(Ri,{install:function(e){e.component(Ri.name,Ri)}}),sC=fa;Dt.component(Ri.name,Ri);class Cm{constructor(t,n){Object.assign(this,{id:c.uniqueId("item_"),title:n.title,field:n.field,span:n.span,align:n.align,titleAlign:n.titleAlign,titleWidth:n.titleWidth,titleColon:n.titleColon,titleAsterisk:n.titleAsterisk,titlePrefix:n.titlePrefix,titleSuffix:n.titleSuffix,titleOverflow:n.titleOverflow,showTitle:n.showTitle,resetValue:n.resetValue,visibleMethod:n.visibleMethod,visible:n.visible,folding:n.folding,collapseNode:n.collapseNode,className:n.className,contentClassName:n.contentClassName,contentStyle:n.contentStyle,titleClassName:n.titleClassName,titleStyle:n.titleStyle,itemRender:n.itemRender,rules:n.rules,showError:!1,errRule:null,slots:n.slots,children:[]})}update(t,n){this[t]=n}}function lC(e){return e instanceof Cm}function Ou(e,t){return lC(t)?t:new Cm(e,t)}function _f(e,t){return t?c.isString(t)?e.getItemByField(t):t:null}function iC(e,t){const{reactData:n}=e,{collapseAll:o}=n,{folding:s,visible:l}=t;return l===!1||s&&o}function Tu(e,t){let{visibleMethod:n,itemRender:o,visible:s,field:l}=t;if(s===!1)return s;const r=gt(o)?tt.renderer.get(o.name):null;if(!n&&r&&r.itemVisibleMethod&&(n=r.itemVisibleMethod),!n)return!0;const{data:f}=e.props;return n({data:f,field:l,property:l,item:t,$form:e,$grid:e.xegrid})}function wm(e,t){Object.keys(e).forEach(n=>{lt(()=>e[n],o=>{t.update(n,o)})})}function Em(e,t,n,o){const{reactData:s}=e,{staticItems:l}=s,r=t.parentNode,f=o?o.formItem:null,i=f?f.children:l;r&&(i.splice(c.arrayIndexOf(r.children,t),0,n),s.staticItems=l.slice(0))}function Sm(e,t){const{reactData:n}=e,{staticItems:o}=n,s=c.findIndexOf(o,l=>l.id===t.id);s>-1&&o.splice(s,1),n.staticItems=o.slice(0)}const _l=Object.assign(kl,{install:function(e){tt.tooltip=!0,e.component(kl.name,kl)}}),rC=_l;Dt.component(kl.name,kl);function Vf(e){return m("span",{class:"vxe-form--item-title-prefix"},[m("i",{class:e.icon||y.icon.FORM_PREFIX})])}function $f(e){return m("span",{class:"vxe-form--item-title-suffix"},[m("i",{class:e.icon||y.icon.FORM_SUFFIX})])}function Om(e,t){const{data:n}=e.props,{computeTooltipOpts:o}=e.getComputeMaps(),{slots:s,field:l,itemRender:r,titlePrefix:f,titleSuffix:i}=t,d=o.value,u=gt(r)?tt.renderer.get(r.name):null,h={data:n,field:l,property:l,item:t,$form:e,$grid:e.xegrid},b=s?s.title:null,S=[],F=[];f&&F.push(f.content||f.message?m(_l,Object.assign(Object.assign(Object.assign({},d),f),{content:Ut(f.content||f.message)}),{default:()=>Vf(f)}):Vf(f)),F.push(m("span",{class:"vxe-form--item-title-label"},u&&u.renderItemTitle?Nt(u.renderItemTitle(r,h)):b?e.callSlot(b,h):Ut(t.title))),S.push(m("div",{class:"vxe-form--item-title-content"},F));const T=[];return i&&T.push(i.content||i.message?m(_l,Object.assign(Object.assign(Object.assign({},d),i),{content:Ut(i.content||i.message)}),{default:()=>$f(i)}):$f(i)),S.push(m("div",{class:"vxe-form--item-title-postfix"},T)),S}const Tm=Mt({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=ct("$xeform",{}),n={itemConfig:e.itemConfig};return qt("$xeformiteminfo",n),qt("$xeformgather",null),{renderVN:()=>{const{reactData:l}=t,{data:r,rules:f,span:i,align:d,titleAlign:u,titleWidth:h,titleColon:b,titleAsterisk:S,titleOverflow:F,vertical:T}=t.props,{computeValidOpts:U}=t.getComputeMaps(),O=e.itemConfig,{collapseAll:w}=l,E=U.value,{slots:M,title:L,visible:V,folding:P,field:_,collapseNode:H,itemRender:ae,showError:be,errRule:ce,className:le,titleOverflow:pe,vertical:he,children:se,showTitle:B,contentClassName:I,contentStyle:A,titleClassName:Z,titleStyle:ee}=O,ye=gt(ae)?tt.renderer.get(ae.name):null,Pe=ye?ye.itemClassName:"",ke=ye?ye.itemStyle:null,_e=ye?ye.itemContentClassName:"",Ae=ye?ye.itemContentStyle:null,q=ye?ye.itemTitleClassName:"",D=ye?ye.itemTitleStyle:null,G=M?M.default:null,te=M?M.title:null,me=O.span||i,Ie=O.align||d,v=c.eqNull(O.titleAlign)?u:O.titleAlign,C=c.eqNull(O.titleWidth)?h:O.titleWidth,N=c.eqNull(O.titleColon)?b:O.titleColon,Y=c.eqNull(O.titleAsterisk)?S:O.titleAsterisk,X=c.isUndefined(pe)||c.isNull(pe)?F:pe,ne=c.isUndefined(he)||c.isNull(he)?T:he,ve=X==="ellipsis",Ce=X==="title",Se=X===!0||X==="tooltip",ge=Ce||Se||ve,xe={data:r,field:_,property:_,item:O,$form:t,$grid:t.xegrid};if(V===!1)return Et();let we=!1;if(f){const Te=f[_];Te&&(we=Te.some(z=>z.required))}if(se&&se.length>0){const Te=se.map((z,oe)=>m(Tm,{key:oe,itemConfig:z}));return Te.length?m("div",{class:["vxe-form--gather vxe-form--item-row",O.id,me?`vxe-form--item-col_${me} is--span`:"",le?c.isFunction(le)?le(xe):le:""]},Te):Et()}let ie=[];G?ie=t.callSlot(G,xe):ye&&ye.renderItemContent?ie=Nt(ye.renderItemContent(ae,xe)):_&&(ie=[c.toValueString(c.get(r,_))]),H&&ie.push(m("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[m("span",{class:"vxe-form--item-trigger-text"},w?y.i18n("vxe.form.unfolding"):y.i18n("vxe.form.folding")),m("i",{class:["vxe-form--item-trigger-icon",w?y.icon.FORM_FOLDING:y.icon.FORM_UNFOLDING]})])),ce&&E.showMessage&&ie.push(m("div",{class:"vxe-form--item-valid",style:ce.maxWidth?{width:`${ce.maxWidth}px`}:null},ce.content));const Ee=Se?{onMouseenter(Te){t.triggerTitleTipEvent(Te,xe)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return m("div",{class:["vxe-form--item",O.id,me?`vxe-form--item-col_${me} is--span`:"",le?c.isFunction(le)?le(xe):le:"",Pe?c.isFunction(Pe)?Pe(xe):Pe:"",{"is--title":L,"is--colon":N,"is--vertical":ne,"is--asterisk":Y,"is--required":we,"is--hidden":P&&w,"is--active":Tu(t,O),"is--error":be}],style:c.isFunction(ke)?ke(xe):ke},[m("div",{class:"vxe-form--item-inner"},[B!==!1&&(L||te)?m("div",Object.assign({class:["vxe-form--item-title",v?`align--${v}`:"",ge?"is--ellipsis":"",q?c.isFunction(q)?q(xe):q:"",Z?c.isFunction(Z)?Z(xe):Z:""],style:Object.assign({},c.isFunction(D)?D(xe):D,c.isFunction(ee)?ee(xe):ee,C?{width:isNaN(C)?C:`${C}px`}:null),title:Ce?Ut(L):null},Ee),Om(t,O)):null,m("div",{class:["vxe-form--item-content",Ie?`align--${Ie}`:"",_e?c.isFunction(_e)?_e(xe):_e:"",I?c.isFunction(I)?I(xe):I:""],style:Object.assign({},c.isFunction(Ae)?Ae(xe):Ae,c.isFunction(A)?A(xe):A)},ie)])])}}},render(){return this.renderVN()}});class ri{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.min,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Ut(this.$options.content||this.$options.message)}get message(){return this.content}}const Bf=(e,t)=>{const{type:n,min:o,max:s,pattern:l}=e,r=n==="number",f=r?c.toNumber(t):c.getSize(t);return!!(r&&isNaN(t)||!c.eqNull(o)&&f<c.toNumber(o)||!c.eqNull(s)&&f>c.toNumber(s)||l&&!(c.isRegExp(l)?l:new RegExp(l)).test(t))};function aC(e,t){return c.isArray(e)&&(t=[]),t}const Mi=Mt({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>y.form.size||y.size},span:{type:[String,Number],default:()=>y.form.span},align:{type:String,default:()=>y.form.align},titleAlign:{type:String,default:()=>y.form.titleAlign},titleWidth:{type:[String,Number],default:()=>y.form.titleWidth},titleColon:{type:Boolean,default:()=>y.form.titleColon},titleAsterisk:{type:Boolean,default:()=>y.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>y.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>y.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const n=tt.tooltip,{slots:o,emit:s}=t,l=c.uniqueId(),r=cn(e),f=Vt({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),i=Vt({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),d=ct("$xegrid",null),u=Ue(),h=Ue();let b={};const S=Me(()=>Object.assign({},y.form.validConfig,e.validConfig)),F=Me(()=>Object.assign({},y.tooltip,y.form.tooltipConfig,e.tooltipConfig)),T={refElem:u},U={computeSize:r,computeValidOpts:S,computeTooltipOpts:F},O={xID:l,props:e,context:t,reactData:f,xegrid:d,getRefMaps:()=>T,getComputeMaps:()=>U},w=(D,G)=>D&&(c.isString(D)&&(D=o[D]||null),c.isFunction(D))?Nt(D(G)):[],E=D=>(D.length,f.staticItems=c.mapTree(D,G=>Ou(O,G),{children:"children"}),fe()),M=()=>{const D=[];return c.eachTree(f.formItems,G=>{D.push(G)},{children:"children"}),D},L=D=>{const G=c.findTree(f.formItems,te=>te.field===D,{children:"children"});return G?G.item:null},V=()=>f.collapseAll,P=()=>{const D=!V();return f.collapseAll=D,s("update:collapseStatus",D),fe()},_=D=>{P();const G=V();b.dispatchEvent("toggle-collapse",{status:G,collapse:G,data:e.data},D),b.dispatchEvent("collapse",{status:G,collapse:G,data:e.data},D)},H=D=>{if(D){let G=D;c.isArray(D)||(G=[D]),G.forEach(te=>{if(te){const me=_f(O,te);me&&(me.showError=!1)}})}else M().forEach(G=>{G.showError=!1});return fe()},ae=()=>{const{data:D}=e,G=M();return D&&G.forEach(te=>{const{field:me,resetValue:Ie,itemRender:v}=te;if(gt(v)){const C=tt.renderer.get(v.name);C&&C.itemResetMethod?C.itemResetMethod({data:D,field:me,property:me,item:te,$form:O,$grid:O.xegrid}):me&&c.set(D,me,Ie===null?aC(c.get(D,me),void 0):c.clone(Ie,!0))}}),H()},be=D=>{D.preventDefault(),ae(),b.dispatchEvent("reset",{data:e.data},D)},ce=D=>{const G=u.value;for(let te=0;te<D.length;te++){const me=D[te],Ie=L(me);if(Ie&&gt(Ie.itemRender)){const{itemRender:v}=Ie,C=tt.renderer.get(v.name);let N=null;if(te||Ih(G.querySelector(`.${Ie.id}`)),v.autofocus&&(N=G.querySelector(`.${Ie.id} ${v.autofocus}`)),!N&&C&&C.autofocus&&(N=G.querySelector(`.${Ie.id} ${C.autofocus}`)),N){N.focus();break}}}},le=(D,G,te)=>{const{data:me,rules:Ie}=e,v={};return c.isArray(G)||(G=[G]),Promise.all(G.map(C=>{const N=[],Y=[];if(C&&Ie){const X=c.get(Ie,C);if(X){const ne=c.isUndefined(te)?c.get(me,C):te;X.forEach(ve=>{const{type:Ce,trigger:Se,required:ge,validator:xe}=ve;if(D==="all"||!Se||D===Se)if(xe){const we={itemValue:ne,rule:ve,rules:X,data:me,field:C,property:C,$form:O};let K;if(c.isString(xe)){const ie=tt.validators.get(xe);ie&&ie.itemValidatorMethod&&(K=ie.itemValidatorMethod(we))}else K=xe(we);K&&(c.isError(K)?N.push(new ri({type:"custom",trigger:Se,content:K.message,rule:new ri(ve)})):K.catch&&Y.push(K.catch(ie=>{N.push(new ri({type:"custom",trigger:Se,content:ie?ie.message:ve.content||ve.message,rule:new ri(ve)}))})))}else{const we=Ce==="array",K=c.isArray(ne);let ie=!0;we||K?ie=!K||!ne.length:c.isString(ne)?ie=bo(ne.trim()):ie=bo(ne),(ge?ie||Bf(ve,ne):!ie&&Bf(ve,ne))&&N.push(new ri(ve))}})}}return Promise.all(Y).then(()=>{N.length&&(v[C]=N.map(X=>({$form:O,rule:X,data:me,field:C,property:C})))})})).then(()=>{if(!c.isEmpty(v))return Promise.reject(v)})};let pe;const he=(D,G,te)=>{const{data:me,rules:Ie}=e,v=S.value,C={},N=[],Y=[];return clearTimeout(pe),me&&Ie?(D.forEach(X=>{const{field:ne}=X;ne&&!iC(O,X)&&Tu(O,X)&&Y.push(le(G||"all",ne).then(()=>{X.errRule=null}).catch(ve=>{const Ce=ve[ne];return C[ne]||(C[ne]=[]),C[ne].push(Ce),N.push(ne),X.errRule=Ce[0].rule,Promise.reject(Ce)}))}),Promise.all(Y).then(()=>{te&&te()}).catch(()=>new Promise(X=>{pe=window.setTimeout(()=>{D.forEach(ne=>{ne.errRule&&(ne.showError=!0)})},20),v.autoPos!==!1&&fe(()=>{ce(N)}),te?(te(C),X()):X(C)}))):(te&&te(),Promise.resolve())},se=D=>(H(),he(M(),"",D)),B=(D,G)=>{let te=[];return c.isArray(D)?te=D:te=[D],he(te.map(me=>_f(O,me)),"",G)},I=D=>{D.preventDefault(),e.preventSubmit||(H(),he(M()).then(G=>{G?b.dispatchEvent("submit-invalid",{data:e.data,errMap:G},D):b.dispatchEvent("submit",{data:e.data},D)}))},A=()=>{const{tooltipStore:D}=i,G=h.value;return D.visible&&(Object.assign(D,{item:null,visible:!1}),G&&G.close()),fe()},Z=(D,G)=>{const{item:te}=G,{tooltipStore:me}=i,Ie=h.value,v=D.currentTarget.children[0],C=(v.textContent||"").trim(),N=v.scrollWidth>v.clientWidth;clearTimeout(i.tooltipTimeout),me.item!==te&&A(),C&&N&&(Object.assign(me,{item:te,visible:!0}),Ie&&Ie.open(v,C))},ee=()=>{const D=F.value;let G=h.value;G&&G.setActived(!1),D.enterable?i.tooltipTimeout=setTimeout(()=>{G=h.value,G&&!G.isActived()&&A()},D.leaveDelay):A()},ye=(D,G,te)=>G?le(D?["blur"].includes(D.type)?"blur":"change":"all",G,te).then(()=>{H(G)}).catch(me=>{const Ie=me[G],v=L(G);Ie&&v&&(v.showError=!0,v.errRule=Ie[0].rule)}):fe();b={dispatchEvent(D,G,te){s(D,Object.assign({$form:O,$grid:d,$event:te},G))},reset:ae,validate:se,validateField:B,clearValidate:H,updateStatus:(D,G)=>{const{field:te}=D;return ye(new Event("change"),te,G)},toggleCollapse:P,getItems:M,getItemByField:L,closeTooltip:A},Object.assign(O,b,{callSlot:w,triggerItemEvent:ye,toggleCollapseEvent:_,triggerTitleTipEvent:Z,handleTitleTipLeaveEvent:ee});const _e=Ue(0);lt(()=>f.staticItems.length,()=>{_e.value++}),lt(()=>f.staticItems,()=>{_e.value++}),lt(_e,()=>{f.formItems=f.staticItems});const Ae=Ue(0);lt(()=>e.items?e.items.length:-1,()=>{Ae.value++}),lt(()=>e.items,()=>{Ae.value++}),lt(Ae,()=>{E(e.items||[])}),lt(()=>e.collapseStatus,D=>{f.collapseAll=!!D});const q=()=>{const{loading:D,className:G,data:te,customLayout:me}=e,{formItems:Ie}=f,v=r.value,C=F.value,N=o.default;return m("form",{ref:u,class:["vxe-form",G?c.isFunction(G)?G({items:Ie,data:te,$form:O}):G:"",{[`size--${v}`]:v,"is--loading":D}],onSubmit:I,onReset:be},[m("div",{class:"vxe-form--wrapper vxe-form--item-row"},me?N?N({}):[]:Ie.map((Y,X)=>m(Tm,{key:X,itemConfig:Y}))),m("div",{class:"vxe-form-slots",ref:"hideItem"},me?[]:N?N({}):[]),m(er,{class:"vxe-form--loading",modelValue:D}),n?m(_l,Object.assign({ref:h},C)):Et()])};return O.renderVN=q,e.items&&E(e.items),qt("$xeform",O),qt("$xeformgather",null),qt("$xeformitem",null),qt("$xeformiteminfo",null),O},render(){return this.renderVN()}}),pa=Object.assign(Mi,{install(e){e.component(Mi.name,Mi)}}),cC=pa;Dt.component(Mi.name,Mi);const uC=Object.keys(Eu),jf=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],dC=[...Su,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],ki=Mt({name:"VxeGrid",props:Object.assign(Object.assign({},Eu),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>y.grid.size||y.size}}),emits:dC,setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=Bl(),r=cn(e),f=Vt({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:y.pager.pageSize||10,currentPage:1}}),i=Ue(),d=Ue(),u=Ue(),h=Ue(),b=Ue(),S=Ue(),F=Ue(),T=Ue(),U=Ue(),O=Ue(),w=K=>{const ie={};return K.forEach(Ee=>{ie[Ee]=(...Te)=>{const z=d.value;if(z&&z[Ee])return z[Ee](...Te)}}),ie},E=w(jf);jf.forEach(K=>{E[K]=(...ie)=>{const Ee=d.value;if(Ee&&Ee[K])return Ee&&Ee[K](...ie)}});const M=Me(()=>Object.assign({},y.grid.proxyConfig,e.proxyConfig)),L=Me(()=>M.value.message!==!1),V=Me(()=>Object.assign({},y.grid.pagerConfig,e.pagerConfig)),P=Me(()=>Object.assign({},y.grid.formConfig,e.formConfig)),_=Me(()=>Object.assign({},y.grid.toolbarConfig,e.toolbarConfig)),H=Me(()=>Object.assign({},y.grid.zoomConfig,e.zoomConfig)),ae=Me(()=>f.isZMax?{zIndex:f.tZindex}:null),be=Me(()=>{const K={},ie=e;return uC.forEach(Ee=>{K[Ee]=ie[Ee]}),K}),ce={refElem:i,refTable:d,refForm:u,refToolbar:h,refPager:b},le={computeProxyOpts:M,computePagerOpts:V,computeFormOpts:P,computeToolbarOpts:_,computeZoomOpts:H},pe={xID:s,props:e,context:t,instance:l,reactData:f,getRefMaps:()=>ce,getComputeMaps:()=>le};let he={};const se=Me(()=>{const{seqConfig:K,pagerConfig:ie,loading:Ee,editConfig:Te,proxyConfig:z}=e,{isZMax:oe,tableLoading:Re,tablePage:He,tableData:ze}=f,qe=be.value,Qe=M.value,Xe=V.value,Ze=Object.assign({},qe);return oe&&(qe.maxHeight?Ze.maxHeight="auto":Ze.height="auto"),z&&gt(Qe)&&(Ze.loading=Ee||Re,Ze.data=ze,ie&&Qe.seq&&gt(Xe)&&(Ze.seqConfig=Object.assign({},K,{startIndex:(He.currentPage-1)*He.pageSize}))),Te&&(Ze.editConfig=Object.assign({},Te)),Ze}),B=()=>{const K=_.value;e.toolbarConfig&&gt(K)&&fe(()=>{const ie=d.value,Ee=h.value;ie&&Ee&&ie.connect(Ee)})},I=()=>{const{tablePage:K}=f,{pagerConfig:ie}=e,Ee=V.value,{currentPage:Te,pageSize:z}=Ee;ie&&gt(Ee)&&(Te&&(K.currentPage=Te),z&&(K.pageSize=z))},A=K=>{const ie=L.value,Ee=d.value,Te=Ee.getCheckboxRecords();Te.length?(Ee.togglePendingRow(Te),E.clearCheckboxRow()):ie&&tt.modal.message({id:K,content:y.i18n("vxe.grid.selectOneRecord"),status:"warning"})},Z=(K,ie)=>{const Ee=M.value,z=(Ee.response||Ee.props||{}).message;let oe;return K&&z&&(oe=c.isFunction(z)?z({data:K,$grid:pe}):c.get(K,z)),oe||y.i18n(ie)},ee=(K,ie,Ee)=>{const Te=L.value,z=E.getCheckboxRecords();if(Te){if(z.length)return tt.modal.confirm({id:`cfm_${K}`,content:y.i18n(ie),escClosable:!0}).then(oe=>{if(oe==="confirm")return Ee()});tt.modal.message({id:`msg_${K}`,content:y.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else z.length&&Ee();return Promise.resolve()},ye=K=>{const{proxyConfig:ie}=e,{tablePage:Ee}=f,{currentPage:Te,pageSize:z}=K,oe=M.value;Ee.currentPage=Te,Ee.pageSize=z,he.dispatchEvent("page-change",K),ie&&gt(oe)&&he.commitProxy("query").then(Re=>{he.dispatchEvent("proxy-query",Re,K.$event)})},Pe=K=>{const ie=d.value,{proxyConfig:Ee}=e,{computeSortOpts:Te}=ie.getComputeMaps(),z=M.value;Te.value.remote&&(f.sortData=K.sortList,Ee&&gt(z)&&(f.tablePage.currentPage=1,he.commitProxy("query").then(Re=>{he.dispatchEvent("proxy-query",Re,K.$event)}))),he.dispatchEvent("sort-change",K)},ke=K=>{const ie=d.value,{proxyConfig:Ee}=e,{computeFilterOpts:Te}=ie.getComputeMaps(),z=M.value;Te.value.remote&&(f.filterData=K.filterList,Ee&&gt(z)&&(f.tablePage.currentPage=1,he.commitProxy("query").then(Re=>{he.dispatchEvent("proxy-query",Re,K.$event)}))),he.dispatchEvent("filter-change",K)},_e=K=>{const{proxyConfig:ie}=e,Ee=M.value;ie&&gt(Ee)&&he.commitProxy("reload").then(Te=>{he.dispatchEvent("proxy-query",Object.assign(Object.assign({},Te),{isReload:!0}),K.$event)}),he.dispatchEvent("form-submit",K)},Ae=K=>{const{proxyConfig:ie}=e,Ee=M.value;ie&&gt(Ee)&&he.commitProxy("reload").then(Te=>{he.dispatchEvent("proxy-query",Object.assign(Object.assign({},Te),{isReload:!0}),K.$event)}),he.dispatchEvent("form-reset",K)},q=K=>{he.dispatchEvent("form-submit-invalid",K)},D=K=>{fe(()=>E.recalculate(!0)),he.dispatchEvent("form-toggle-collapse",K),he.dispatchEvent("form-collapse",K)},G=K=>{const{isZMax:ie}=f;return(K?!ie:ie)&&(f.isZMax=!ie,f.tZindex<Ao()&&(f.tZindex=Co())),fe().then(()=>E.recalculate(!0)).then(()=>f.isZMax)},te=(K,ie)=>{const Ee=K[ie];if(Ee)if(c.isString(Ee)){if(n[Ee])return n[Ee]}else return Ee;return null},me=()=>{const{formConfig:K,proxyConfig:ie}=e,{formData:Ee}=f,Te=M.value,z=P.value,oe=[];if(K&&gt(z)||n.form){let Re=[];if(n.form)Re=n.form({$grid:pe});else if(z.items){const He={};if(!z.inited){z.inited=!0;const ze=Te.beforeItem;Te&&ze&&z.items.forEach(qe=>{ze({$grid:pe,item:qe})})}z.items.forEach(ze=>{c.each(ze.slots,qe=>{c.isFunction(qe)||n[qe]&&(He[qe]=n[qe])})}),Re.push(m(pa,Object.assign(Object.assign({ref:u},Object.assign({},z,{data:ie&&gt(Te)&&Te.form?Ee:z.data})),{onSubmit:_e,onReset:Ae,onSubmitInvalid:q,onCollapse:D}),He))}oe.push(m("div",{ref:S,key:"form",class:"vxe-grid--form-wrapper"},Re))}return oe},Ie=()=>{const{toolbarConfig:K}=e,ie=_.value,Ee=[];if(K&&gt(ie)||n.toolbar){let Te=[];if(n.toolbar)Te=n.toolbar({$grid:pe});else{const z=ie.slots;let oe,Re;const He={};z&&(oe=te(z,"buttons"),Re=te(z,"tools"),oe&&(He.buttons=oe),Re&&(He.tools=Re)),Te.push(m(fa,Object.assign({ref:h},ie),He))}Ee.push(m("div",{ref:F,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},Te))}return Ee},v=()=>n.top?[m("div",{ref:T,key:"top",class:"vxe-grid--top-wrapper"},n.top({$grid:pe}))]:[],C=["Form","Toolbar","Top","Table","Bottom","Pager"],N=()=>{const{layouts:K}=e,ie=[];return(K&&K.length?K:y.grid.layouts||C).forEach(Te=>{switch(Te){case"Form":ie.push(me());break;case"Toolbar":ie.push(Ie());break;case"Top":ie.push(v());break;case"Table":ie.push(X());break;case"Bottom":ie.push(ne());break;case"Pager":ie.push(ve());break}}),ie},Y={};Su.forEach(K=>{const ie=c.camelCase(`on-${K}`);Y[ie]=(...Ee)=>o(K,...Ee)});const X=()=>{const{proxyConfig:K}=e,ie=se.value,Ee=M.value,Te=Object.assign({},Y),z=n.empty,oe=n.loading;K&&gt(Ee)&&(Ee.sort&&(Te.onSortChange=Pe),Ee.filter&&(Te.onFilterChange=ke));const Re={};return z&&(Re.empty=()=>z({})),oe&&(Re.loading=()=>oe({})),[m(ca,Object.assign(Object.assign({ref:d,key:"table"},ie),Te),Re)]},ne=()=>n.bottom?[m("div",{ref:U,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:pe}))]:[],ve=()=>{const{proxyConfig:K,pagerConfig:ie}=e,Ee=M.value,Te=V.value,z=[];if(ie&&gt(Te)||n.pager){let oe=[];if(n.pager)oe=n.pager({$grid:pe});else{const Re=Te.slots,He={};let ze,qe;Re&&(ze=te(Re,"left"),qe=te(Re,"right"),ze&&(He.left=ze),qe&&(He.right=qe)),oe.push(m(da,Object.assign(Object.assign(Object.assign({ref:b},Te),K&&gt(Ee)?f.tablePage:{}),{onPageChange:ye}),He))}z.push(m("div",{ref:O,key:"pager",class:"vxe-grid--pager-wrapper"},oe))}return z},Ce=()=>{const{proxyConfig:K,formConfig:ie}=e,{proxyInited:Ee}=f,Te=M.value,z=P.value;if(K&&gt(Te)){if(ie&&gt(z)&&Te.form&&z.items){const oe={};z.items.forEach(Re=>{const{field:He,itemRender:ze}=Re;if(He){let qe=null;if(ze){const{defaultValue:Qe}=ze;c.isFunction(Qe)?qe=Qe({item:Re}):c.isUndefined(Qe)||(qe=Qe)}oe[He]=qe}}),f.formData=oe}Ee||(f.proxyInited=!0,Te.autoLoad!==!1&&fe().then(()=>he.commitProxy("_init")).then(oe=>{he.dispatchEvent("proxy-query",Object.assign(Object.assign({},oe),{isInited:!0}),new Event("init"))}))}};he={dispatchEvent(K,ie,Ee){o(K,Object.assign({$grid:pe,$event:Ee},ie))},commitProxy(K,...ie){const{toolbarConfig:Ee,pagerConfig:Te,editRules:z,validConfig:oe}=e,{tablePage:Re,formData:He}=f,ze=L.value,qe=M.value,Qe=V.value,Xe=_.value,{beforeQuery:Ze,afterQuery:Je,beforeDelete:st,afterDelete:St,beforeSave:W,afterSave:Tt,ajax:bt={}}=qe,mt=qe.response||qe.props||{},it=d.value;let kt=null,xt=null;if(c.isString(K)){const{buttons:wt}=Xe,It=Ee&&gt(Xe)&&wt?c.findTree(wt,$t=>$t.code===K,{children:"dropdowns"}):null;kt=It?It.item:null,xt=K}else kt=K,xt=kt.code;const Ft=kt?kt.params:null;switch(xt){case"insert":return it.insert({});case"insert_edit":return it.insert({}).then(({row:wt})=>it.setEditRow(wt));case"insert_actived":return it.insert({}).then(({row:wt})=>it.setEditRow(wt));case"mark_cancel":A(xt);break;case"remove":return ee(xt,"vxe.grid.removeSelectRecord",()=>it.removeCheckboxRow());case"import":it.importData(Ft);break;case"open_import":it.openImport(Ft);break;case"export":it.exportData(Ft);break;case"open_export":it.openExport(Ft);break;case"reset_custom":return it.resetColumn(!0);case"_init":case"reload":case"query":{const wt=bt.query;if(wt){const It=xt==="_init",$t=xt==="reload";let Gt=[],ln=[],Jt={};if(Te&&((It||$t)&&(Re.currentPage=1),gt(Qe)&&(Jt=Object.assign({},Re))),It){const{computeSortOpts:Bt}=it.getComputeMaps();let Wt=Bt.value.defaultSort;Wt&&(c.isArray(Wt)||(Wt=[Wt]),Gt=Wt.map(nn=>({field:nn.field,property:nn.field,order:nn.order}))),ln=it.getCheckedFilters()}else $t?it.clearAll():(Gt=it.getSortColumns(),ln=it.getCheckedFilters());const Qt={code:xt,button:kt,isInited:It,isReload:$t,$grid:pe,page:Jt,sort:Gt.length?Gt[0]:{},sorts:Gt,filters:ln,form:He,options:wt};f.sortData=Gt,f.filterData=ln,f.tableLoading=!0;const dn=[Qt].concat(ie);return Promise.resolve((Ze||wt)(...dn)).then(Bt=>{if(f.tableLoading=!1,Bt)if(Te&&gt(Qe)){const zt=mt.total,Wt=(c.isFunction(zt)?zt({data:Bt,$grid:pe}):c.get(Bt,zt||"page.total"))||0;Re.total=c.toNumber(Wt);const nn=mt.result;f.tableData=(c.isFunction(nn)?nn({data:Bt,$grid:pe}):c.get(Bt,nn||"result"))||[];const yn=Math.max(Math.ceil(Wt/Re.pageSize),1);Re.currentPage>yn&&(Re.currentPage=yn)}else{const zt=mt.list;f.tableData=(zt?c.isFunction(zt)?zt({data:Bt,$grid:pe}):c.get(Bt,zt):Bt)||[]}else f.tableData=[];return Je&&Je(...dn),{status:!0}}).catch(()=>(f.tableLoading=!1,{status:!1}))}break}case"delete":{const wt=bt.delete;if(wt){const It=E.getCheckboxRecords(),$t=It.filter(Qt=>!it.isInsertByRow(Qt)),Jt=[{$grid:pe,code:xt,button:kt,body:{removeRecords:$t},form:He,options:wt}].concat(ie);if(It.length)return ee(xt,"vxe.grid.deleteSelectRecord",()=>$t.length?(f.tableLoading=!0,Promise.resolve((st||wt)(...Jt)).then(Qt=>(f.tableLoading=!1,it.setPendingRow($t,!1),ze&&tt.modal.message({content:Z(Qt,"vxe.grid.delSuccess"),status:"success"}),St?St(...Jt):he.commitProxy("query"),{status:!0})).catch(Qt=>(f.tableLoading=!1,ze&&tt.modal.message({id:xt,content:Z(Qt,"vxe.grid.operError"),status:"error"}),{status:!1}))):it.remove(It));ze&&tt.modal.message({id:xt,content:y.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const wt=bt.save;if(wt){const It=it.getRecordset(),{insertRecords:$t,removeRecords:Gt,updateRecords:ln,pendingRecords:Jt}=It,dn=[{$grid:pe,code:xt,button:kt,body:It,form:He,options:wt}].concat(ie);$t.length&&(It.pendingRecords=Jt.filter(zt=>it.findRowIndexOf($t,zt)===-1)),Jt.length&&(It.insertRecords=$t.filter(zt=>it.findRowIndexOf(Jt,zt)===-1));let Bt=Promise.resolve();return z&&(Bt=it[oe&&oe.msgMode==="full"?"fullValidate":"validate"](It.insertRecords.concat(ln))),Bt.then(zt=>{if(!zt){if(It.insertRecords.length||Gt.length||ln.length||It.pendingRecords.length)return f.tableLoading=!0,Promise.resolve((W||wt)(...dn)).then(Wt=>(f.tableLoading=!1,it.clearPendingRow(),ze&&tt.modal.message({content:Z(Wt,"vxe.grid.saveSuccess"),status:"success"}),Tt?Tt(...dn):he.commitProxy("query"),{status:!0})).catch(Wt=>(f.tableLoading=!1,ze&&tt.modal.message({id:xt,content:Z(Wt,"vxe.grid.operError"),status:"error"}),{status:!1}));ze&&tt.modal.message({id:xt,content:y.i18n("vxe.grid.dataUnchanged"),status:"info"})}})}break}default:{const wt=tt.commands.get(xt);wt&&wt.commandMethod&&wt.commandMethod({code:xt,button:kt,$grid:pe,$table:it},...ie)}}return fe()},zoom(){return f.isZMax?he.revert():he.maximize()},isMaximized(){return f.isZMax},maximize(){return G(!0)},revert(){return G()},getFormItems(K){const ie=P.value,{formConfig:Ee}=e,{items:Te}=ie,z=[];return c.eachTree(Ee&&gt(ie)&&Te?Te:[],oe=>{z.push(oe)},{children:"children"}),c.isUndefined(K)?z:z[K]},getProxyInfo(){const K=d.value;if(e.proxyConfig){const{sortData:ie}=f;return{data:f.tableData,filter:f.filterData,form:f.formData,sort:ie.length?ie[0]:{},sorts:ie,pager:f.tablePage,pendingRecords:K?K.getPendingRecords():[]}}return null}};const Se={extendTableMethods:w,callSlot(K,ie){return K&&(c.isString(K)&&(K=n[K]||null),c.isFunction(K))?Nt(K(ie)):[]},getExcludeHeight(){const{height:K}=e,{isZMax:ie}=f,Ee=i.value,Te=S.value,z=F.value,oe=T.value,Re=U.value,He=O.value;return(ie||K!=="auto"?0:Tc(Ee.parentNode))+Tc(Ee)+ni(Te)+ni(z)+ni(oe)+ni(Re)+ni(He)},getParentHeight(){const K=i.value;return K?(f.isZMax?ys().visibleHeight:c.toNumber(getComputedStyle(K.parentNode).height))-Se.getExcludeHeight():0},triggerToolbarCommitEvent(K,ie){const{code:Ee}=K;return he.commitProxy(K,ie).then(Te=>{Ee&&Te&&Te.status&&["query","reload","delete","save"].includes(Ee)&&he.dispatchEvent(Ee==="delete"||Ee==="save"?`proxy-${Ee}`:"proxy-query",Object.assign(Object.assign({},Te),{isReload:Ee==="reload"}),ie)})},triggerToolbarBtnEvent(K,ie){Se.triggerToolbarCommitEvent(K,ie),he.dispatchEvent("toolbar-button-click",{code:K.code,button:K},ie)},triggerToolbarTolEvent(K,ie){Se.triggerToolbarCommitEvent(K,ie),he.dispatchEvent("toolbar-tool-click",{code:K.code,tool:K,$event:ie})},triggerZoomEvent(K){he.zoom(),he.dispatchEvent("zoom",{type:f.isZMax?"max":"revert"},K)}};Object.assign(pe,E,he,Se);const ge=Ue(0);lt(()=>e.columns?e.columns.length:-1,()=>{ge.value++}),lt(()=>e.columns,()=>{ge.value++}),lt(ge,()=>{fe(()=>pe.loadColumn(e.columns||[]))}),lt(()=>e.toolbarConfig,()=>{B()}),lt(()=>e.pagerConfig,()=>{I()}),lt(()=>e.proxyConfig,()=>{Ce()});const xe=K=>{const ie=H.value;vt(K,dt.ESCAPE)&&f.isZMax&&ie.escRestore!==!1&&Se.triggerZoomEvent(K)};tt.hooks.forEach(K=>{const{setupGrid:ie}=K;if(ie){const Ee=ie(pe);Ee&&c.isObject(Ee)&&Object.assign(pe,Ee)}}),I(),pn(()=>{fe(()=>{const{data:K,columns:ie,proxyConfig:Ee}=e,Te=M.value,z=P.value;gt(Ee)&&(K||Te.form&&z.data)&&sn("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),ie&&ie.length&&pe.loadColumn(ie),B()}),ht.on(pe,"keydown",xe)}),an(()=>{ht.off(pe,"keydown")}),fe(()=>{Ce()});const we=()=>{const K=r.value,ie=ae.value;return m("div",{ref:i,class:["vxe-grid",{[`size--${K}`]:K,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":f.isZMax,"is--loading":e.loading||f.tableLoading}],style:ie},N())};return pe.renderVN=we,qt("$xegrid",pe),pe},render(){return this.renderVN()}}),Ru=Object.assign(ki,{install(e){e.component(ki.name,ki)}}),fC=Ru;Dt.component(ki.name,ki);const Mu=Object.assign(Kn,{install(e){e.component(Kn.name,Kn)}}),pC=Mu;Dt.component(Kn.name,Kn);const Ii=Mt({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>y.checkboxGroup.size||y.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:o}=t,s=ct("$xeform",null),l=ct("$xeformiteminfo",null),r=c.uniqueId(),f=Me(()=>{const{modelValue:O,max:w}=e;return w?(O?O.length:0)>=c.toNumber(w):!1}),i=Me(()=>e.optionProps||{}),d=Me(()=>i.value.label||"label"),u=Me(()=>i.value.value||"value"),h=Me(()=>i.value.disabled||"disabled"),b={computeIsMaximize:f},S={xID:r,props:e,context:t,getComputeMaps:()=>b};cn(e),Object.assign(S,{dispatchEvent(O,w,E){o(O,Object.assign({$checkboxGroup:S,$event:E},w))}},{handleChecked(O,w){const{checked:E,label:M}=O,L=e.modelValue||[],V=L.indexOf(M);E?V===-1&&L.push(M):L.splice(V,1),o("update:modelValue",L),S.dispatchEvent("change",Object.assign({checklist:L},O),w),s&&l&&s.triggerItemEvent(w,l.itemConfig.field,L)}});const U=()=>{const{options:O}=e,w=n.default,E=u.value,M=d.value,L=h.value;return m("div",{class:"vxe-checkbox-group"},w?w({}):O?O.map(V=>m(Kn,{label:V[E],content:V[M],disabled:V[L]})):[])};return S.renderVN=U,qt("$xecheckboxgroup",S),U}}),ku=Object.assign(Ii,{install(e){e.component(Ii.name,Ii)}}),hC=ku;Dt.component(Ii.name,Ii);const Iu=Object.assign(Zs,{install:function(e){e.component(Zs.name,Zs)}}),mC=Iu;Dt.component(Zs.name,Zs);const Du=Object.assign(Js,{install:function(e){e.component(Js.name,Js)}}),gC=Du;Dt.component(Js.name,Js);const Fu=Object.assign(Ml,{install:function(e){e.component(Ml.name,Ml)}}),vC=Fu;Dt.component(Ml.name,Ml);const Pu=Object.assign(Ko,{install(e){e.component(Ko.name,Ko)}}),bC=Pu;Dt.component(Ko.name,Ko);let Ho;const Di=Mt({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>c.eqNull(y.textarea.placeholder)?y.i18n("vxe.base.pleaseInput"):y.textarea.placeholder},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>y.textarea.resize},size:{type:String,default:()=>y.textarea.size||y.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,t){const{emit:n}=t,o=ct("$xeform",null),s=ct("$xeformiteminfo",null),l=c.uniqueId(),r=cn(e),f=Vt({inputValue:e.modelValue}),i=Ue(),d=Ue(),u={refElem:i,refTextarea:d},h={xID:l,props:e,context:t,reactData:f,getRefMaps:()=>u};let b={};const S=Me(()=>c.getSize(f.inputValue)),F=Me(()=>{const _=S.value;return e.maxlength&&_>c.toNumber(e.maxlength)}),T=Me(()=>Object.assign({minRows:1,maxRows:10},y.textarea.autosize,e.autosize)),U=()=>{const{size:_,autosize:H}=e,{inputValue:ae}=f;if(H){Ho||(Ho=document.createElement("div")),Ho.parentNode||document.body.appendChild(Ho);const be=d.value,ce=getComputedStyle(be);Ho.className=["vxe-textarea--autosize",_?`size--${_}`:""].join(" "),Ho.style.width=`${be.clientWidth}px`,Ho.style.padding=ce.padding,Ho.innerText=(""+(ae||"　")).replace(/\n$/,`
　`)}},O=()=>{e.autosize&&fe(()=>{const _=T.value,{minRows:H,maxRows:ae}=_,be=d.value,ce=Ho.clientHeight,le=getComputedStyle(be),pe=c.toNumber(le.lineHeight),he=c.toNumber(le.paddingTop),se=c.toNumber(le.paddingBottom),B=c.toNumber(le.borderTopWidth),I=c.toNumber(le.borderBottomWidth),A=he+se+B+I,Z=(ce-A)/pe,ee=Z&&/[0-9]/.test(""+Z)?Z:Math.floor(Z)+1;let ye=ee;ee<H?ye=H:ee>ae&&(ye=ae),be.style.height=`${ye*pe+A}px`})},w=_=>{const H=f.inputValue;h.dispatchEvent(_.type,{value:H},_)},E=(_,H)=>{f.inputValue=_,n("update:modelValue",_),c.toValueString(e.modelValue)!==_&&(b.dispatchEvent("change",{value:_},H),o&&s&&o.triggerItemEvent(H,s.itemConfig.field,_))},M=_=>{const{immediate:H}=e,be=_.target.value;f.inputValue=be,H&&E(be,_),h.dispatchEvent("input",{value:be},_),O()},L=_=>{const{immediate:H}=e;H?w(_):E(f.inputValue,_)},V=_=>{const{immediate:H}=e,{inputValue:ae}=f;H||E(ae,_),h.dispatchEvent("blur",{value:ae},_)};b={dispatchEvent(_,H,ae){n(_,Object.assign({$textarea:h,$event:ae},H))},focus(){return d.value.focus(),fe()},blur(){return d.value.blur(),fe()}},Object.assign(h,b),lt(()=>e.modelValue,_=>{f.inputValue=_,U()}),fe(()=>{const{autosize:_}=e;_&&(U(),O())});const P=()=>{const{className:_,resize:H,placeholder:ae,disabled:be,maxlength:ce,autosize:le,showWordCount:pe,countMethod:he,rows:se,cols:B}=e,{inputValue:I}=f,A=r.value,Z=F.value,ee=S.value;return m("div",{ref:i,class:["vxe-textarea",_,{[`size--${A}`]:A,"is--autosize":le,"is--count":pe,"is--disabled":be,"def--rows":!c.eqNull(se),"def--cols":!c.eqNull(B)}]},[m("textarea",{ref:d,class:"vxe-textarea--inner",value:I,name:e.name,placeholder:ae?Ut(ae):null,maxlength:ce,readonly:e.readonly,disabled:be,rows:se,cols:B,style:H?{resize:H}:null,onInput:M,onChange:L,onKeydown:w,onKeyup:w,onClick:w,onFocus:w,onBlur:V}),pe?m("span",{class:["vxe-textarea--count",{"is--error":Z}]},he?`${he({value:I})}`:`${ee}${ce?`/${ce}`:""}`):null])};return h.renderVN=P,h},render(){return this.renderVN()}}),Lu=Object.assign(Di,{install:function(e){e.component(Di.name,Di)}}),xC=Lu;Dt.component(Di.name,Di);const Fi=Mt({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,circle:Boolean,className:[String,Function],disabled:Boolean,size:{type:String,default:()=>y.buttonGroup.size||y.size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l={},r={xID:s,props:e,context:t,getComputeMaps:()=>l};cn(e);const f={dispatchEvent(u,h,b){o(u,Object.assign({$buttonGroup:r,$event:b},h))}};Object.assign(r,f,{handleClick(u,h){const{options:b}=e,{name:S}=u,F=b?b.find(T=>T.name===S):null;f.dispatchEvent("click",Object.assign(Object.assign({},u),{option:F}),h)}});const d=()=>{const{className:u,options:h}=e,b=n.default;return m("div",{class:["vxe-button-group",u?c.isFunction(u)?u({$buttonGroup:r}):u:""]},b?b({}):h?h.map((S,F)=>m(On,Object.assign({key:F},S))):[])};return r.renderVN=d,qt("$xebuttongroup",r),d}}),Au=Object.assign(Fi,{install(e){e.component(Fi.name,Fi)}}),yC=Au;Dt.component(Fi.name,Fi);function Rm(e){return um(),new Promise(t=>{if(e&&e.id&&zs.some(n=>n.props.id===e.id))t("exist");else{const n=e.onHide,o=Object.assign(e,{key:c.uniqueId(),modelValue:!0,onHide(s){const l=Ks.modals;n&&n(s),Ks.modals=l.filter(r=>r.key!==o.key),t(s.type)}});Ks.modals.push(o)}})}function Mm(e){return c.find(zs,t=>t.props.id===e)}function CC(e){const t=e?[Mm(e)]:zs,n=[];return t.forEach(o=>{o&&n.push(o.close())}),Promise.all(n)}function Nu(e,t,n,o){let s;return c.isObject(t)?s=t:s={content:c.toValueString(t),title:n},Rm(Object.assign(Object.assign(Object.assign({},e),o),s))}function wC(e,t,n){return Nu({type:"alert",showFooter:!0},e,t,n)}function EC(e,t,n){return Nu({type:"confirm",status:"question",showFooter:!0},e,t,n)}function SC(e,t){return Nu({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}const km={get:Mm,close:CC,open:Rm,alert:wC,confirm:EC,message:SC},OC=km,_u=Object.assign(Cs,{install:function(e){e.component(Cs.name,Cs),tt.modal=km}}),TC=_u;Dt.component(Cs.name,Cs);const Us=[],Pi=Mt({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:[String,Object],lockView:{type:Boolean,default:()=>y.drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>y.drawer.mask},maskClosable:{type:Boolean,default:()=>y.drawer.maskClosable},escClosable:{type:Boolean,default:()=>y.drawer.escClosable},showHeader:{type:Boolean,default:()=>y.drawer.showHeader},showFooter:{type:Boolean,default:()=>y.drawer.showFooter},showClose:{type:Boolean,default:()=>y.drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>y.drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>y.drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>y.drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>y.drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>y.drawer.showTitleOverflow},width:[Number,String],height:[Number,String],zIndex:Number,transfer:{type:Boolean,default:()=>y.drawer.transfer},size:{type:String,default:()=>y.drawer.size||y.size},beforeHideMethod:{type:Function,default:()=>y.drawer.beforeHideMethod},slots:Number},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Ue(),f=Ue(),i=Ue(),d=Ue(),u=Vt({inited:!1,visible:!1,contentVisible:!1,drawerZIndex:0,firstOpen:!0}),h={refElem:r},b={},S={xID:s,props:e,context:t,reactData:u,getRefMaps:()=>h,getComputeMaps:()=>b},F=()=>f.value,T=()=>{const{width:I,height:A}=e,Z=F();return Z.style.width=`${I?isNaN(I)?I:`${I}px`:""}`,Z.style.height=`${A?isNaN(A)?A:`${A}px`:""}`,fe()},U=()=>{const{zIndex:I}=e,{drawerZIndex:A}=u;I?u.drawerZIndex=I:A<Ao()&&(u.drawerZIndex=Co())},O=()=>fe().then(()=>{}),w=I=>{const{beforeHideMethod:A}=e,{visible:Z}=u,ee={type:I};return Z&&Promise.resolve(A?A(ee):null).then(ye=>{c.isError(ye)||(u.contentVisible=!1,c.remove(Us,Pe=>Pe===S),P.dispatchEvent("before-hide",ee),setTimeout(()=>{u.visible=!1,o("update:modelValue",!1),P.dispatchEvent("hide",ee)},200))}).catch(ye=>ye),fe()},E=I=>{const A="close";P.dispatchEvent(A,{type:A},I),w(A)},M=I=>{const A="confirm";P.dispatchEvent(A,{type:A},I),w(A)},L=I=>{const A="cancel";P.dispatchEvent(A,{type:A},I),w(A)},V=()=>{const{showFooter:I}=e,{inited:A,visible:Z}=u;return A||(u.inited=!0),Z||(T(),u.visible=!0,u.contentVisible=!1,U(),Us.push(S),setTimeout(()=>{u.contentVisible=!0,fe(()=>{if(I){const Pe=i.value,ke=d.value,_e=Pe||ke;_e&&_e.focus()}const ye={type:""};o("update:modelValue",!0),P.dispatchEvent("show",ye)})},10),fe(()=>{const{firstOpen:ee}=u;ee&&O().then(()=>{setTimeout(()=>O(),20)}),ee&&(u.firstOpen=!1)})),fe()},P={dispatchEvent(I,A,Z){o(I,Object.assign({$drawer:S,$event:Z},A))},open:V,close(){return w("close")},getBox:F},_=I=>{const A=r.value;e.maskClosable&&I.target===A&&w("mask")},H=I=>{if(vt(I,dt.ESCAPE)){const Z=c.max(Us,ee=>ee.reactData.drawerZIndex);Z&&setTimeout(()=>{Z===S&&Z.props.escClosable&&w("exit")},10)}},ae=()=>{const{drawerZIndex:I}=u;Us.some(A=>A.reactData.visible&&A.reactData.drawerZIndex>I)&&U()};Object.assign(S,P,{});const ce=()=>{const{slots:I={},showClose:A,title:Z}=e,ee=n.title||I.title,ye=n.corner||I.corner,Pe=[m("div",{class:"vxe-drawer--header-title"},ee?Nt(ee({$drawer:S})):Z?Ut(Z):y.i18n("vxe.alert.title"))],ke=[];return ye&&ke.push(m("span",{class:"vxe-drawer--corner-wrapper"},Nt(ye({$drawer:S})))),A&&ke.push(m("i",{class:["vxe-drawer--close-btn","trigger--btn",y.icon.MODAL_CLOSE],title:y.i18n("vxe.drawer.close"),onClick:E})),Pe.push(m("div",{class:"vxe-drawer--header-right"},ke)),Pe},le=()=>{const{slots:I={},showTitleOverflow:A}=e,Z=n.header||I.header,ee=[];return e.showHeader&&ee.push(m("div",{class:["vxe-drawer--header",{"is--ellipsis":A}]},Z?!u.inited||e.destroyOnClose&&!u.visible?[]:Nt(Z({$drawer:S})):ce())),ee},pe=()=>{const{slots:I={},content:A}=e,Z=n.default||I.default;return[m("div",{class:"vxe-drawer--body"},[m("div",{class:"vxe-drawer--content"},Z?!u.inited||e.destroyOnClose&&!u.visible?[]:Nt(Z({$drawer:S})):Ut(A)),m(er,{class:"vxe-drawer--loading",modelValue:e.loading})])]},he=()=>{const{showCancelButton:I,showConfirmButton:A}=e,Z=[];return I&&Z.push(m(On,{key:1,ref:d,content:e.cancelButtonText||y.i18n("vxe.button.cancel"),onClick:L})),A&&Z.push(m(On,{key:2,ref:i,status:"primary",content:e.confirmButtonText||y.i18n("vxe.button.confirm"),onClick:M})),Z},se=()=>{const{slots:I={}}=e,A=n.footer||I.footer,Z=[];return e.showFooter&&Z.push(m("div",{class:"vxe-drawer--footer"},A?!u.inited||e.destroyOnClose&&!u.visible?[]:Nt(A({$drawer:S})):he())),Z},B=()=>{const{className:I,position:A,loading:Z,lockScroll:ee,lockView:ye,mask:Pe}=e,{inited:ke,contentVisible:_e,visible:Ae}=u,q=l.value;return m(nl,{to:"body",disabled:e.transfer?!ke:!0},[m("div",{ref:r,class:["vxe-drawer--wrapper",`pos--${A}`,I||"",{[`size--${q}`]:q,"lock--scroll":ee,"lock--view":ye,"is--mask":Pe,"is--visible":_e,"is--active":Ae,"is--loading":Z}],style:{zIndex:u.drawerZIndex},onClick:_},[m("div",{ref:f,class:"vxe-drawer--box",onMousedown:ae},le().concat(pe(),se()))])])};return S.renderVN=B,lt(()=>e.width,T),lt(()=>e.height,T),lt(()=>e.modelValue,I=>{I?V():w("model")}),pn(()=>{fe(()=>{e.modelValue&&V(),T()}),e.escClosable&&ht.on(S,"keydown",H)}),an(()=>{ht.off(S,"keydown")}),S},render(){return this.renderVN()}});function RC(e){return um(),new Promise(t=>{if(e&&e.id&&Us.some(n=>n.props.id===e.id))t("exist");else{const n=e.onHide,o=Object.assign(e,{key:c.uniqueId(),modelValue:!0,onHide(s){const l=Ks.drawers;n&&n(s),Ks.drawers=l.filter(r=>r.key!==o.key),t(s.type)}});Ks.drawers.push(o)}})}function Im(e){return c.find(Us,t=>t.props.id===e)}function MC(e){const t=e?[Im(e)]:Us,n=[];return t.forEach(o=>{o&&n.push(o.close())}),Promise.all(n)}const Dm={get:Im,close:MC,open:RC},kC=Dm,Vu=Object.assign(Pi,{install:function(e){e.component(Pi.name,Pi),tt.drawer=Dm}});Dt.component(Pi.name,Pi);const IC=Vu,Fm={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},Li=Mt({name:"VxeFormItem",props:Fm,setup(e,{slots:t}){const n=Ue(),o=ct("$xeform",{}),s=ct("$xeformgather",null),l=Vt(Ou(o,e)),r={formItem:l},f={itemConfig:l};l.slots=t,qt("$xeformiteminfo",f),qt("$xeformitem",r),qt("$xeformgather",null),wm(e,l),pn(()=>{Em(o,n.value,l,s)}),an(()=>{Sm(o,l)});const i=(h,b)=>{const{props:S,reactData:F}=h,{data:T,rules:U,titleAlign:O,titleWidth:w,titleColon:E,titleAsterisk:M,titleOverflow:L,vertical:V}=S,{collapseAll:P}=F,{computeValidOpts:_}=h.getComputeMaps(),H=_.value,{slots:ae,title:be,visible:ce,folding:le,field:pe,collapseNode:he,itemRender:se,showError:B,errRule:I,className:A,titleOverflow:Z,vertical:ee,showTitle:ye,contentClassName:Pe,contentStyle:ke,titleClassName:_e,titleStyle:Ae}=b,q=gt(se)?tt.renderer.get(se.name):null,D=q?q.itemClassName:"",G=q?q.itemStyle:null,te=q?q.itemContentClassName:"",me=q?q.itemContentStyle:null,Ie=q?q.itemTitleClassName:"",v=q?q.itemTitleStyle:null,C=ae?ae.default:null,N=ae?ae.title:null,Y=b.span||S.span,X=b.align||S.align,ne=c.eqNull(b.titleAlign)?O:b.titleAlign,ve=c.eqNull(b.titleWidth)?w:b.titleWidth,Ce=c.eqNull(b.titleColon)?E:b.titleColon,Se=c.eqNull(b.titleAsterisk)?M:b.titleAsterisk,ge=c.isUndefined(Z)||c.isNull(Z)?L:Z,xe=c.isUndefined(ee)||c.isNull(ee)?V:ee,we=ge==="ellipsis",K=ge==="title",ie=ge===!0||ge==="tooltip",Ee=K||ie||we,Te={data:T,field:pe,property:pe,item:b,$form:h,$grid:h.xegrid};let z=!1;if(ce===!1)return Et();if(U){const He=U[pe];He&&(z=He.some(ze=>ze.required))}let oe=[];C?oe=h.callSlot(C,Te):q&&q.renderItemContent?oe=Nt(q.renderItemContent(se,Te)):pe&&(oe=[`${c.get(T,pe)}`]),he&&oe.push(m("div",{class:"vxe-form--item-trigger-node",onClick:h.toggleCollapseEvent},[m("span",{class:"vxe-form--item-trigger-text"},P?y.i18n("vxe.form.unfolding"):y.i18n("vxe.form.folding")),m("i",{class:["vxe-form--item-trigger-icon",P?y.icon.FORM_FOLDING:y.icon.FORM_UNFOLDING]})])),I&&H.showMessage&&oe.push(m("div",{class:"vxe-form--item-valid",style:I.maxWidth?{width:`${I.maxWidth}px`}:null},I.message));const Re=ie?{onMouseenter(He){h.triggerTitleTipEvent(He,Te)},onMouseleave:h.handleTitleTipLeaveEvent}:{};return m("div",{ref:n,class:["vxe-form--item",b.id,Y?`vxe-form--item-col--${Y} is--span`:"",A?c.isFunction(A)?A(Te):A:"",D?c.isFunction(D)?D(Te):D:"",{"is--title":be,"is--colon":Ce,"is--vertical":xe,"is--asterisk":Se,"is--required":z,"is--hidden":le&&P,"is--active":Tu(h,b),"is--error":B}],style:c.isFunction(G)?G(Te):G},[m("div",{class:"vxe-form--item-inner"},[ye!==!1&&(be||N)?m("div",Object.assign({class:["vxe-form--item-title",ne?`align--${ne}`:"",Ee?"is--ellipsis":"",Ie?c.isFunction(Ie)?Ie(Te):Ie:"",_e?c.isFunction(_e)?_e(Te):_e:""],style:Object.assign({},c.isFunction(v)?v(Te):v,c.isFunction(Ae)?Ae(Te):Ae,ve?{width:isNaN(ve)?ve:`${ve}px`}:null),title:K?Ut(be):null},Re),Om(h,b)):null,m("div",{class:["vxe-form--item-content",X?`align--${X}`:"",te?c.isFunction(te)?te(Te):te:"",Pe?c.isFunction(Pe)?Pe(Te):Pe:""],style:Object.assign({},c.isFunction(me)?me(Te):me,c.isFunction(ke)?ke(Te):ke)},oe)])])};return{renderVN:()=>{const h=o?o.props:null;return h&&h.customLayout?i(o,l):m("div",{ref:n})}}},render(){return this.renderVN()}}),$u=Object.assign(Li,{install(e){e.component(Li.name,Li)}}),DC=$u;Dt.component(Li.name,Li);const Ai=Mt({name:"VxeFormGather",props:Fm,setup(e,{slots:t}){const n=Ue(),o=ct("$xeform",{}),s=ct("$xeformgather",null),l=Vt(Ou(o,e)),r={formItem:l},f={itemConfig:l};return l.children=[],qt("$xeformiteminfo",f),qt("$xeformgather",r),qt("$xeformitem",null),wm(e,l),pn(()=>{Em(o,n.value,l,s)}),an(()=>{Sm(o,l)}),{renderVN:()=>{const{className:u,field:h}=e,b=e.span||(o?o.props.span:null),S=t.default;return m("div",{ref:n,class:["vxe-form--gather vxe-form--item-row",l.id,b?`vxe-form--item-col_${b} is--span`:"",u?c.isFunction(u)?u({$form:o,data:o?o.props.data:{},item:l,field:h,property:h}):u:""]},S?S():[])}}},render(){return this.renderVN()}}),Bu=Object.assign(Ai,{install(e){e.component(Ai.name,Ai)}}),FC=Bu;Dt.component(Ai.name,Ai);class Pm{constructor(t,n){Object.assign(this,{id:c.uniqueId("option_"),value:n.value,label:n.label,visible:n.visible,className:n.className,disabled:n.disabled})}update(t,n){this[t]=n}}function PC(e){return e instanceof Pm}function Lm(e,t){return PC(t)?t:new Pm(e,t)}function Am(e,t){Object.keys(e).forEach(n=>{lt(()=>e[n],o=>{t.update(n,o)})})}function Nm(e,t,n,o){const{reactData:s}=e,{staticOptions:l}=s,r=t.parentNode,f=o?o.option:null,i=f?f.options:l;r&&i&&(i.splice(c.arrayIndexOf(r.children,t),0,n),s.staticOptions=l.slice(0))}function _m(e,t){const{reactData:n}=e,{staticOptions:o}=n,s=c.findTree(o,l=>l.id===t.id,{children:"options"});s&&s.items.splice(s.index,1),n.staticOptions=o.slice(0)}const Ni=Mt({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const n=Ue(),o=ct("$xeselect",{}),s=Lm(o,e),l={option:s};return s.options=[],qt("xeoptgroup",l),Am(e,s),pn(()=>{Nm(o,n.value,s)}),an(()=>{_m(o,s)}),()=>m("div",{ref:n},t.default?t.default():[])}}),ju=Object.assign(Ni,{install:function(e){e.component(Ni.name,Ni)}}),LC=ju;Dt.component(Ni.name,Ni);const _i=Mt({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const n=Ue(),o=ct("$xeselect",{}),s=ct("xeoptgroup",null),l=Lm(o,e);return l.slots=t,Am(e,l),pn(()=>{Nm(o,n.value,l,s)}),an(()=>{_m(o,l)}),()=>m("div",{ref:n})}}),Hu=Object.assign(_i,{install:function(e){e.component(_i.name,_i)}}),AC=Hu;Dt.component(_i.name,_i);const Vi=Mt({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>y.switch.size||y.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:n}=t,o=ct("$xeform",null),s=ct("$xeformiteminfo",null),l=c.uniqueId(),r=cn(e),f=Vt({isActivated:!1,hasAnimat:!1,offsetLeft:0}),i={xID:l,props:e,context:t,reactData:f},d=Ue();let u={};const h=Me(()=>Ut(e.openLabel)),b=Me(()=>Ut(e.closeLabel)),S=Me(()=>e.modelValue===e.openValue);let F;const T=E=>{if(!e.disabled){const M=S.value;clearTimeout(F);const L=M?e.closeValue:e.openValue;f.hasAnimat=!0,n("update:modelValue",L),u.dispatchEvent("change",{value:L},E),o&&s&&o.triggerItemEvent(E,s.itemConfig.field,L),F=setTimeout(()=>{f.hasAnimat=!1},400)}},U=E=>{f.isActivated=!0,u.dispatchEvent("focus",{value:e.modelValue},E)},O=E=>{f.isActivated=!1,u.dispatchEvent("blur",{value:e.modelValue},E)};u={dispatchEvent(E,M,L){n(E,Object.assign({$switch:i,$event:L},M))},focus(){const E=d.value;return f.isActivated=!0,E.focus(),fe()},blur(){return d.value.blur(),f.isActivated=!1,fe()}},Object.assign(i,u);const w=()=>{const{disabled:E,openIcon:M,closeIcon:L,openActiveIcon:V,closeActiveIcon:P}=e,_=S.value,H=r.value,ae=h.value,be=b.value;return m("div",{class:["vxe-switch",_?"is--on":"is--off",{[`size--${H}`]:H,"is--disabled":E,"is--animat":f.hasAnimat}]},[m("button",{ref:d,class:"vxe-switch--button",type:"button",disabled:E,onClick:T,onFocus:U,onBlur:O},[m("span",{class:"vxe-switch--label vxe-switch--label-on"},[M?m("i",{class:["vxe-switch--label-icon",M]}):Et(),ae]),m("span",{class:"vxe-switch--label vxe-switch--label-off"},[L?m("i",{class:["vxe-switch--label-icon",L]}):Et(),be]),m("span",{class:"vxe-switch--icon"},V||P?[m("i",{class:_?V:P})]:[])])])};return i.renderVN=w,i},render(){return this.renderVN()}}),zu=Object.assign(Vi,{install:function(e){e.component(Vi.name,Vi)}}),NC=zu;Dt.component(Vi.name,Vi);const $i=Mt({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>y.list.size||y.size},autoResize:{type:Boolean,default:()=>y.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Vt({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),f=Ue(),i=Ue(),d=Ue(),u={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},h={refElem:f},b={xID:s,props:e,context:t,reactData:r,internalData:u,getRefMaps:()=>h};let S={};const F=Me(()=>Object.assign({},y.list.scrollY,e.scrollY)),T=Me(()=>{const{height:le,maxHeight:pe}=e,he={};return le?he.height=`${isNaN(le)?le:`${le}px`}`:pe&&(he.height="auto",he.maxHeight=`${isNaN(pe)?pe:`${pe}px`}`),he}),U=()=>{const{scrollYLoad:le}=r,{scrollYStore:pe,fullData:he}=u;r.bodyHeight=le?he.length*pe.rowHeight:0,r.topSpaceHeight=le?Math.max(pe.startIndex*pe.rowHeight,0):0},O=()=>{const{scrollYLoad:le}=r,{fullData:pe,scrollYStore:he}=u;return r.items=le?pe.slice(he.startIndex,he.endIndex):pe.slice(0),fe()},w=()=>{O(),U()},E=()=>fe().then(()=>{const{scrollYLoad:le}=r,{scrollYStore:pe}=u,he=d.value,se=F.value;let B=0,I;if(he&&(se.sItem&&(I=he.querySelector(se.sItem)),I||(I=he.children[0])),I&&(B=I.offsetHeight),B=Math.max(20,B),pe.rowHeight=B,le){const A=i.value,Z=Math.max(8,Math.ceil(A.clientHeight/B)),ee=se.oSize?c.toNumber(se.oSize):Jn.edge?10:0;pe.offsetSize=ee,pe.visibleSize=Z,pe.endIndex=Math.max(pe.startIndex,Z+ee,pe.endIndex),w()}else U();r.rowHeight=B}),M=()=>{const le=i.value;return le&&(le.scrollTop=0),fe()},L=(le,pe)=>{const he=i.value;return c.isNumber(le)&&(he.scrollLeft=le),c.isNumber(pe)&&(he.scrollTop=pe),r.scrollYLoad?new Promise(se=>{setTimeout(()=>{fe(()=>{se()})},50)}):fe()},V=()=>{const{lastScrollLeft:le,lastScrollTop:pe}=u;return M().then(()=>{if(le||pe)return u.lastScrollLeft=0,u.lastScrollTop=0,L(le,pe)})},P=()=>{const le=f.value;return le.clientWidth&&le.clientHeight?E():Promise.resolve()},_=le=>{const{scrollYStore:pe}=u,{startIndex:he,endIndex:se,visibleSize:B,offsetSize:I,rowHeight:A}=pe,ee=le.target.scrollTop,ye=Math.floor(ee/A),Pe=Math.max(0,ye-1-I),ke=ye+B+I;(ye<=he||ye>=se-B-1)&&(he!==Pe||se!==ke)&&(pe.startIndex=Pe,pe.endIndex=ke,w())},H=le=>{const pe=le.target,he=pe.scrollTop,se=pe.scrollLeft,B=se!==u.lastScrollLeft,I=he!==u.lastScrollTop;u.lastScrollTop=he,u.lastScrollLeft=se,r.scrollYLoad&&_(le),S.dispatchEvent("scroll",{scrollLeft:se,scrollTop:he,isX:B,isY:I},le)};S={dispatchEvent(le,pe,he){o(le,Object.assign({$list:b,$event:he},pe))},loadData(le){const{scrollYStore:pe}=u,he=F.value,se=le||[];return Object.assign(pe,{startIndex:0,endIndex:1,visibleSize:0}),u.fullData=se,r.scrollYLoad=!!he.enabled&&he.gt>-1&&(he.gt===0||he.gt<=se.length),O(),E().then(()=>{V()})},reloadData(le){return M(),S.loadData(le)},recalculate:P,scrollTo:L,refreshScroll:V,clearScroll:M},Object.assign(b,S);const ae=Ue(0);lt(()=>e.data?e.data.length:-1,()=>{ae.value++}),lt(()=>e.data,()=>{ae.value++}),lt(ae,()=>{S.loadData(e.data||[])}),lt(()=>e.syncResize,le=>{le&&(P(),fe(()=>setTimeout(()=>P())))}),Qr(()=>{P().then(()=>V())});let be;fe(()=>{if(ht.on(b,"resize",()=>{P()}),e.autoResize){const le=f.value;be=ym(()=>P()),be.observe(le)}S.loadData(e.data||[])}),an(()=>{be&&be.disconnect(),ht.off(b,"resize")});const ce=()=>{const{className:le,loading:pe}=e,{bodyHeight:he,topSpaceHeight:se,items:B}=r,I=l.value,A=T.value;return m("div",{ref:f,class:["vxe-list",le?c.isFunction(le)?le({$list:b}):le:"",{[`size--${I}`]:I,"is--loading":pe}]},[m("div",{ref:i,class:"vxe-list--virtual-wrapper",style:A,onScroll:H},[m("div",{class:"vxe-list--y-space",style:{height:he?`${he}px`:""}}),m("div",{ref:d,class:"vxe-list--body",style:{marginTop:se?`${se}px`:""}},n.default?n.default({items:B,$list:b}):[])]),m(er,{class:"vxe-list--loading",modelValue:pe})])};return b.renderVN=ce,b},render(){return this.renderVN()}}),Wu=Object.assign($i,{install(e){e.component($i.name,$i)}}),_C=Wu;Dt.component($i.name,$i);const Bi=Mt({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>y.size},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(e,t){const{slots:n,emit:o}=t,s=c.uniqueId(),l=cn(e),r=Vt({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),f=Ue(),i=Ue(),d=Ue(),u={refElem:f},h={xID:s,props:e,context:t,reactData:r,getRefMaps:()=>u};let b={};const S=()=>{r.panelIndex<Ao()&&(r.panelIndex=Co())},F=()=>r.visiblePanel,T=()=>fe().then(()=>{const{transfer:_,placement:H}=e,{panelIndex:ae,visiblePanel:be}=r;if(be){const ce=i.value,le=d.value;if(le&&ce){const pe=ce.offsetHeight,he=ce.offsetWidth,se=le.offsetHeight,B=le.offsetWidth,I=5,A={zIndex:ae},{boundingTop:Z,boundingLeft:ee,visibleHeight:ye,visibleWidth:Pe}=Io(ce);let ke="bottom";if(_){let _e=ee,Ae=Z+pe;H==="top"?(ke="top",Ae=Z-se):H||(Ae+se+I>ye&&(ke="top",Ae=Z-se),Ae<I&&(ke="bottom",Ae=Z+pe)),_e+B+I>Pe&&(_e-=_e+B+I-Pe),_e<I&&(_e=I),Object.assign(A,{left:`${_e}px`,top:`${Ae}px`,minWidth:`${he}px`})}else H==="top"?(ke="top",A.bottom=`${pe}px`):H||Z+pe+se>ye&&Z-pe-se>I&&(ke="top",A.bottom=`${pe}px`);r.panelStyle=A,r.panelPlacement=ke}}return fe()});let U;const O=()=>(r.inited||(r.inited=!0),new Promise(_=>{e.disabled?fe(()=>{_()}):(clearTimeout(U),r.isActivated=!0,r.animatVisible=!0,setTimeout(()=>{r.visiblePanel=!0,o("update:modelValue",!0),T(),setTimeout(()=>{_(T())},40)},10),S())})),w=()=>(r.visiblePanel=!1,o("update:modelValue",!1),new Promise(_=>{r.animatVisible?U=window.setTimeout(()=>{r.animatVisible=!1,fe(()=>{_()})},350):fe(()=>{_()})})),E=()=>r.visiblePanel?w():O(),M=_=>{const{disabled:H}=e,{visiblePanel:ae}=r,be=d.value;H||ae&&(yt(_,be).flag?T():(w(),b.dispatchEvent("hide-panel",{},_)))},L=_=>{const{disabled:H}=e,{visiblePanel:ae}=r,be=f.value,ce=d.value;H||(r.isActivated=yt(_,be).flag||yt(_,ce).flag,ae&&!r.isActivated&&(w(),b.dispatchEvent("hide-panel",{},_)))},V=_=>{r.visiblePanel&&(r.isActivated=!1,w(),b.dispatchEvent("hide-panel",{},_))};b={dispatchEvent(_,H,ae){o(_,Object.assign({$pulldown:h,$event:ae},H))},isPanelVisible:F,togglePanel:E,showPanel:O,hidePanel:w},Object.assign(h,b),lt(()=>e.modelValue,_=>{_?O():w()}),fe(()=>{ht.on(h,"mousewheel",M),ht.on(h,"mousedown",L),ht.on(h,"blur",V)}),an(()=>{ht.off(h,"mousewheel"),ht.off(h,"mousedown"),ht.off(h,"blur")});const P=()=>{const{className:_,popupClassName:H,destroyOnClose:ae,transfer:be,disabled:ce}=e,{inited:le,isActivated:pe,animatVisible:he,visiblePanel:se,panelStyle:B,panelPlacement:I}=r,A=l.value,Z=n.default,ee=n.header,ye=n.footer,Pe=n.dropdown;return m("div",{ref:f,class:["vxe-pulldown",_?c.isFunction(_)?_({$pulldown:h}):_:"",{[`size--${A}`]:A,"is--visivle":se,"is--disabled":ce,"is--active":pe}]},[m("div",{ref:i,class:"vxe-pulldown--content"},Z?Z({$pulldown:h}):[]),m(nl,{to:"body",disabled:be?!le:!0},[m("div",{ref:d,class:["vxe-table--ignore-clear vxe-pulldown--panel",H?c.isFunction(H)?H({$pulldown:h}):H:"",{[`size--${A}`]:A,"is--transfer":be,"animat--leave":he,"animat--enter":se}],placement:I,style:B},Pe?[m("div",{class:"vxe-pulldown--panel-wrapper"},!le||ae&&!se&&!he?[]:[ee?m("div",{class:"vxe-pulldown--panel-header"},ee({$pulldown:h})):Et(),m("div",{class:"vxe-pulldown--panel-body"},Pe({$pulldown:h})),ye?m("div",{class:"vxe-pulldown--panel-footer"},ye({$pulldown:h})):Et()])]:[])])])};return h.renderVN=P,h},render(){return this.renderVN()}}),qu=Object.assign(Bi,{install:function(e){e.component(Bi.name,Bi)}}),VC=qu;Dt.component(Bi.name,Bi);const $C={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择"},loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",maxFixedCol:"最大冻结列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动目标：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colVisible:"是否显示",colFixed:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},formDesign:{widget:{input:"输入框",textarea:"文本域",select:"下拉框"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},BC=[pu,hu,mu,vu,bu,xu,yu,Zi,Cu,wu,Ru,fa,da,Mu,ku,Iu,Du,Fu,Pu,Lu,co,Au,_u,Vu,_l,pa,$u,Bu,ua,ju,Hu,zu,Wu,qu,ca];zl({i18n:(e,t)=>c.toFormatString(c.get($C,e),t)});function jC(e,t){c.isPlainObject(t)&&(zl(t),t.theme&&aa(t.theme)),BC.forEach(n=>n.install(e))}const Sw=Object.freeze(Object.defineProperty({__proto__:null,Button:oC,ButtonGroup:yC,Checkbox:pC,CheckboxGroup:hC,Colgroup:Gy,Column:Uy,Custom:jy,Drawer:IC,Edit:hy,Export:Fy,Filter:ay,Form:cC,FormGather:FC,FormItem:DC,Grid:fC,Icon:Hy,Input:bC,Keyboard:Ay,List:_C,Menu:dy,Modal:TC,Optgroup:LC,Option:AC,Pager:nC,Pulldown:VC,Radio:mC,RadioButton:vC,RadioGroup:gC,Select:tC,Switch:NC,Table:eC,Textarea:xC,Toolbar:sC,Tooltip:rC,VXETable:tt,Validator:Vy,VxeButton:co,VxeButtonGroup:Au,VxeCheckbox:Mu,VxeCheckboxGroup:ku,VxeColgroup:wu,VxeColumn:Cu,VxeDrawer:Vu,VxeForm:pa,VxeFormGather:Bu,VxeFormItem:$u,VxeGrid:Ru,VxeIcon:Zi,VxeInput:Pu,VxeList:Wu,VxeModal:_u,VxeOptgroup:ju,VxeOption:Hu,VxePager:da,VxePulldown:qu,VxeRadio:Iu,VxeRadioButton:Fu,VxeRadioGroup:Du,VxeSelect:ua,VxeSwitch:zu,VxeTable:ca,VxeTableCustomModule:yu,VxeTableEditModule:mu,VxeTableExportModule:vu,VxeTableFilterModule:pu,VxeTableKeyboardModule:bu,VxeTableMenuModule:hu,VxeTableValidatorModule:xu,VxeTextarea:Lu,VxeToolbar:fa,VxeTooltip:_l,VxeUI:sy,_t:em,commands:Gh,component:oy,config:sm,drawer:kC,formats:Rh,getComponent:am,globalConfs:tm,globalStore:im,hooks:Zh,install:jC,interceptor:xi,menus:Yh,modal:OC,print:vm,readFile:Hr,renderer:Hs,saveFile:zr,setConfig:zl,setIcon:lm,setup:om,t:Qh,tableVersion:cm,use:Jh,v:nm,validators:Xh,version:fu},Symbol.toStringTag,{value:"Module"})),HC=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};class zC{constructor(t){this.standards={strict:"strict",loose:"loose",html5:"html5"},this.previewBody=null,this.close=null,this.previewBodyUtilPrintBtn=null,this.selectArray=[],this.counter=0,this.settings={standard:this.standards.html5},Object.assign(this.settings,t),this.init()}init(){this.counter++,this.settings.id=`printArea_${this.counter}`;let t="";this.settings.url&&!this.settings.asyncUrl&&(t=this.settings.url);let n=this;if(this.settings.asyncUrl)return void n.settings.asyncUrl(function(s){let l=n.getPrintWindow(s);n.settings.preview?n.previewIfrmaeLoad():n.print(l)},n.settings.vue);let o=this.getPrintWindow(t);this.settings.url||this.write(o.doc),this.settings.preview?this.previewIfrmaeLoad():this.print(o)}addEvent(t,n,o){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent?t.attachEvent("on"+n,o):t["on"+n]=o}previewIfrmaeLoad(){let t=document.getElementById("vue-pirnt-nb-previewBox");if(t){let n=this,o=t.querySelector("iframe");this.settings.previewBeforeOpenCallback(),this.addEvent(o,"load",function(){n.previewBoxShow(),n.removeCanvasImg(),n.settings.previewOpenCallback()}),this.addEvent(t.querySelector(".previewBodyUtilPrintBtn"),"click",function(){n.settings.beforeOpenCallback(),n.settings.openCallback(),o.contentWindow.print(),n.settings.closeCallback()})}}removeCanvasImg(){let t=this;try{if(t.elsdom){let n=t.elsdom.querySelectorAll(".canvasImg");for(let o=0;o<n.length;o++)n[o].remove()}}catch(n){console.log(n)}}print(t){var n=this;let o=document.getElementById(this.settings.id)||t.f,s=document.getElementById(this.settings.id).contentWindow||t.f.contentWindow;n.settings.beforeOpenCallback(),n.addEvent(o,"load",function(){s.focus(),n.settings.openCallback(),s.print(),o.remove(),n.settings.closeCallback(),n.removeCanvasImg()})}write(t){t.open(),t.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`),t.close()}docType(){return this.settings.standard===this.standards.html5?"<!DOCTYPE html>":`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${this.settings.standard===this.standards.loose?" Transitional":""}//EN" "http://www.w3.org/TR/html4/${this.settings.standard===this.standards.loose?"loose":"strict"}.dtd">`}getHead(){let t="",n="",o="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,l=>{t+=l}),[].forEach.call(document.querySelectorAll("link"),function(l){l.href.indexOf(".css")>=0&&(n+=`<link type="text/css" rel="stylesheet" href="${l.href}" >`)});let s=document.styleSheets;if(s&&s.length>0)for(let l=0;l<s.length;l++)try{if(s[l].cssRules||s[l].rules){let r=s[l].cssRules||s[l].rules;for(let f=0;f<r.length;f++)o+=r[f].cssText}}catch(r){console.log(s[l].href+r)}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,l=>{n+=`<link type="text/css" rel="stylesheet" href="${l}">`}),`<head><title>${this.settings.popTitle}</title>${t}${n}<style type="text/css">${o}</style></head>`}getBody(){let t=this.settings.ids;return t=t.replace(new RegExp("#","g"),""),this.elsdom=this.beforeHanler(document.getElementById(t)),"<body>"+this.getFormData(this.elsdom).outerHTML+"</body>"}beforeHanler(t){let n=t.querySelectorAll("canvas");for(let o=0;o<n.length;o++)if(!n[o].style.display){let s=n[o].parentNode,l=n[o].toDataURL("image/png"),r=new Image;r.className="canvasImg",r.style.display="none",r.src=l,s.appendChild(r)}return t}getFormData(t){let n=t.cloneNode(!0),o=n.querySelectorAll("input,select,textarea"),s=n.querySelectorAll(".canvasImg,canvas"),l=-1;for(let r=0;r<s.length;r++){let f=s[r].parentNode,i=s[r];i.tagName.toLowerCase()==="canvas"?f.removeChild(i):i.style.display="block"}for(let r=0;r<o.length;r++){let f=o[r],i=f.getAttribute("type"),d=o[r];if(i||(i=f.tagName==="SELECT"?"select":f.tagName==="TEXTAREA"?"textarea":""),f.tagName==="INPUT")i==="radio"||i==="checkbox"?f.checked&&d.setAttribute("checked",f.checked):(d.value=f.value,d.setAttribute("value",f.value));else if(i==="select"){l++;for(let u=0;u<t.querySelectorAll("select").length;u++){let h=t.querySelectorAll("select")[u];if(!h.getAttribute("newbs")&&h.setAttribute("newbs",u),h.getAttribute("newbs")==l){let b=t.querySelectorAll("select")[l].selectedIndex;f.options[b].setAttribute("selected",!0)}}}else d.innerHTML=f.value,d.setAttribute("html",f.value)}return n}getPrintWindow(t){var n=this.Iframe(t);return{f:n,win:n.contentWindow||n,doc:n.doc}}previewBoxShow(){let t=document.getElementById("vue-pirnt-nb-previewBox");t&&(document.querySelector("html").setAttribute("style","overflow: hidden"),t.style.display="block")}previewBoxHide(){let t=document.getElementById("vue-pirnt-nb-previewBox");t&&(document.querySelector("html").setAttribute("style","overflow: visible;"),t.querySelector("iframe")&&t.querySelector("iframe").remove(),t.style.display="none")}previewBox(){let t=document.getElementById("vue-pirnt-nb-previewBox"),n="previewBody";if(t)return t.querySelector("iframe")&&t.querySelector("iframe").remove(),{close:t.querySelector(".previewClose"),previewBody:t.querySelector(".previewBody")};let o=document.createElement("div");o.setAttribute("id","vue-pirnt-nb-previewBox"),o.setAttribute("style","position: fixed;top: 0px;left: 0px;width: 100%;height: 100%;background: white;display:none"),o.style.zIndex=this.settings.zIndex;let s=document.createElement("div");s.setAttribute("class","previewHeader"),s.setAttribute("style","padding: 5px 20px;"),s.innerHTML=this.settings.previewTitle,o.appendChild(s),this.close=document.createElement("div");let l=this.close;l.setAttribute("class","previewClose"),l.setAttribute("style","position: absolute;top: 5px;right: 20px;width: 25px;height: 20px;cursor: pointer;");let r=document.createElement("div"),f=document.createElement("div");r.setAttribute("class","closeBefore"),r.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(45deg); top: 0px;left: 50%;"),f.setAttribute("class","closeAfter"),f.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(-45deg); top: 0px;left: 50%;"),l.appendChild(r),l.appendChild(f),s.appendChild(l),this.previewBody=document.createElement("div");let i=this.previewBody;i.setAttribute("class",n),i.setAttribute("style","display: flex;flex-direction: column; height: 100%;"),o.appendChild(i);let d=document.createElement("div");d.setAttribute("class","previewBodyUtil"),d.setAttribute("style","height: 32px;background: #474747;position: relative;"),i.appendChild(d),this.previewBodyUtilPrintBtn=document.createElement("div");let u=this.previewBodyUtilPrintBtn;return u.setAttribute("class","previewBodyUtilPrintBtn"),u.innerHTML=this.settings.previewPrintBtnLabel,u.setAttribute("style","position: absolute;padding: 2px 10px;margin-top: 3px;left: 24px;font-size: 14px;color: white;cursor: pointer;background-color: rgba(0,0,0,.12);background-image: linear-gradient(hsla(0,0%,100%,.05),hsla(0,0%,100%,0));background-clip: padding-box;border: 1px solid rgba(0,0,0,.35);border-color: rgba(0,0,0,.32) rgba(0,0,0,.38) rgba(0,0,0,.42);box-shadow: inset 0 1px 0 hsla(0,0%,100%,.05), inset 0 0 1px hsla(0,0%,100%,.15), 0 1px 0 hsla(0,0%,100%,.05);"),d.appendChild(u),document.body.appendChild(o),{close:this.close,previewBody:this.previewBody}}iframeBox(t,n){let o=document.createElement("iframe");return o.style.border="0px",o.style.position="absolute",o.style.width="0px",o.style.height="0px",o.style.right="0px",o.style.top="0px",o.setAttribute("id",t),o.setAttribute("src",n),o}Iframe(t){let n=this.settings.id;t=t||new Date().getTime();let o=this,s=this.iframeBox(n,t);try{if(this.settings.preview){s.setAttribute("style","border: 0px;flex: 1;");let l=this.previewBox(),r=l.previewBody,f=l.close;r.appendChild(s),this.addEvent(f,"click",function(){o.previewBoxHide()})}else document.body.appendChild(s);s.doc=null,s.doc=s.contentDocument?s.contentDocument:s.contentWindow?s.contentWindow.document:s.document}catch(l){throw new Error(l+". iframes may not be supported in this browser.")}if(s.doc==null)throw new Error("Cannot find document.");return s}}var WC={directiveName:"print",mounted(e,t,n){let o=t.instance,s="";var l,r,f;r="click",f=()=>{if(typeof t.value=="string")s=t.value;else{if(typeof t.value!="object"||!t.value.id)return void window.print();{s=t.value.id;let d=s.replace(new RegExp("#","g"),"");document.getElementById(d)||(console.log("id in Error"),s="")}}i()},(l=e).addEventListener?l.addEventListener(r,f,!1):l.attachEvent?l.attachEvent("on"+r,f):l["on"+r]=f;const i=()=>{new zC({ids:s,vue:o,url:t.value.url,standard:"",extraHead:t.value.extraHead,extraCss:t.value.extraCss,zIndex:t.value.zIndex||20002,previewTitle:t.value.previewTitle||"打印预览",previewPrintBtnLabel:t.value.previewPrintBtnLabel||"打印",popTitle:t.value.popTitle,preview:t.value.preview||!1,asyncUrl:t.value.asyncUrl,previewBeforeOpenCallback(){t.value.previewBeforeOpenCallback&&t.value.previewBeforeOpenCallback(o)},previewOpenCallback(){t.value.previewOpenCallback&&t.value.previewOpenCallback(o)},openCallback(){t.value.openCallback&&t.value.openCallback(o)},closeCallback(){t.value.closeCallback&&t.value.closeCallback(o)},beforeOpenCallback(){t.value.beforeOpenCallback&&t.value.beforeOpenCallback(o)}})}},install:function(e){e.directive("print",WC)}};const qC={props:{width:{type:Number,default:800},height:{type:Number,default:300},lineWidth:{type:Number,default:4},lineColor:{type:String,default:"#000000"},bgColor:{type:String,default:""},isCrop:{type:Boolean,default:!1},isClearBgColor:{type:Boolean,default:!0},format:{type:String,default:"image/png"},quality:{type:Number,default:1}},data(){return{hasDrew:!1,resultImg:"",points:[],canvasTxt:null,startX:0,startY:0,isDrawing:!1,sratio:1}},computed:{ratio(){return this.height/this.width},stageInfo(){return this.$refs.canvas.getBoundingClientRect()},myBg(){return this.bgColor?this.bgColor:"rgba(255, 255, 255, 0)"}},watch:{myBg:function(e){this.$refs.canvas.style.background=e}},beforeMount(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy(){window.removeEventListener("resize",this.$_resizeHandler)},mounted(){const e=this.$refs.canvas;e.height=this.height,e.width=this.width,e.style.background=this.myBg,this.$_resizeHandler(),document.onmouseup=()=>{this.isDrawing=!1}},methods:{$_resizeHandler(){const e=this.$refs.canvas;e.style.width=this.width+"px";const t=parseFloat(window.getComputedStyle(e).width);e.style.height=this.ratio*t+"px",this.canvasTxt=e.getContext("2d"),this.canvasTxt.scale(1*this.sratio,1*this.sratio),this.sratio=t/this.width,this.canvasTxt.scale(1/this.sratio,1/this.sratio)},mouseDown(e){e=e||event,e.preventDefault(),this.isDrawing=!0,this.hasDrew=!0;let t={x:e.offsetX,y:e.offsetY};this.drawStart(t)},mouseMove(e){if(e=e||event,e.preventDefault(),this.isDrawing){let t={x:e.offsetX,y:e.offsetY};this.drawMove(t)}},mouseUp(e){e=e||event,e.preventDefault();let t={x:e.offsetX,y:e.offsetY};this.drawEnd(t),this.isDrawing=!1},touchStart(e){if(e=e||event,e.preventDefault(),this.hasDrew=!0,e.touches.length===1){let t={x:e.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:e.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawStart(t)}},touchMove(e){if(e=e||event,e.preventDefault(),e.touches.length===1){let t={x:e.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:e.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawMove(t)}},touchEnd(e){if(e=e||event,e.preventDefault(),e.touches.length===1){let t={x:e.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:e.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawEnd(t)}},drawStart(e){this.startX=e.x,this.startY=e.y,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.lineWidth=this.lineWidth*this.sratio,this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(e)},drawMove(e){this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.strokeStyle=this.lineColor,this.canvasTxt.lineWidth=this.lineWidth*this.sratio,this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.startY=e.y,this.startX=e.x,this.points.push(e)},drawEnd(e){this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(e),this.points.push({x:-1,y:-1})},generate(e){let t=e&&e.format?e.format:this.format,n=e&&e.quality?e.quality:this.quality;return new Promise((s,l)=>{if(!this.hasDrew){l("Warning: Not Signned!");return}var r=this.canvasTxt.getImageData(0,0,this.$refs.canvas.width,this.$refs.canvas.height);this.canvasTxt.globalCompositeOperation="destination-over",this.canvasTxt.fillStyle=this.myBg,this.canvasTxt.fillRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.resultImg=this.$refs.canvas.toDataURL(t,n);var f=this.resultImg;if(this.canvasTxt.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.canvasTxt.putImageData(r,0,0),this.canvasTxt.globalCompositeOperation="source-over",this.isCrop){const d=this.getCropArea(r.data);var i=document.createElement("canvas");const u=i.getContext("2d");i.width=d[2]-d[0],i.height=d[3]-d[1];const h=this.canvasTxt.getImageData(...d);u.globalCompositeOperation="destination-over",u.putImageData(h,0,0),u.fillStyle=this.myBg,u.fillRect(0,0,i.width,i.height),f=i.toDataURL(t,n),i=null}s(f)})},reset(){this.canvasTxt.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.isClearBgColor&&(this.$emit("update:bgColor",""),this.$refs.canvas.style.background="rgba(255, 255, 255, 0)"),this.points=[],this.hasDrew=!1,this.resultImg=""},getCropArea(e){for(var t=this.$refs.canvas.width,n=0,o=this.$refs.canvas.height,s=0,l=0;l<this.$refs.canvas.width;l++)for(var r=0;r<this.$refs.canvas.height;r++){var f=(l+this.$refs.canvas.width*r)*4;(e[f]>0||e[f+1]>0||e[f+2]||e[f+3]>0)&&(s=Math.max(r,s),n=Math.max(l,n),o=Math.min(r,o),t=Math.min(l,t))}return t++,n++,o++,s++,[t,o,n,s]}}};function UC(e,t,n,o,s,l){return tu(),yv("canvas",{ref:"canvas",onMousedown:t[0]||(t[0]=(...r)=>l.mouseDown&&l.mouseDown(...r)),onMousemove:t[1]||(t[1]=(...r)=>l.mouseMove&&l.mouseMove(...r)),onMouseup:t[2]||(t[2]=(...r)=>l.mouseUp&&l.mouseUp(...r)),onTouchstart:t[3]||(t[3]=(...r)=>l.touchStart&&l.touchStart(...r)),onTouchmove:t[4]||(t[4]=(...r)=>l.touchMove&&l.touchMove(...r)),onTouchend:t[5]||(t[5]=(...r)=>l.touchEnd&&l.touchEnd(...r))},null,544)}const Hf=HC(qC,[["render",UC],["__scopeId","data-v-1fcc7cb1"]]);Hf.install=function(e){this.installed||(this.installed=!0,e.component("vueEsign",Hf))};export{xw as $,ew as A,hw as B,zn as C,gw as D,$g as E,Xn as F,nl as G,Ev as H,In as I,QC as J,Lt as K,cw as L,Bg as M,Jm as N,ZC as O,tb as P,XC as Q,xg as R,bw as S,ea as T,fi as U,uw as V,yv as W,Fg as X,Sn as Y,tu as Z,Cw as _,Yc as a,Ac as a0,qp as a1,zp as a2,Et as a3,iw as a4,KC as a5,HC as a6,Qr as a7,rw as a8,Sv as a9,aw as aa,tw as ab,nw as ac,Sw as ad,ub as ae,WC as af,ww as ag,yw as ah,fw as ai,ow as aj,mw as ak,Hf as al,pw as am,an as b,Me as c,Mt as d,ct as e,Ue as f,Bl as g,dw as h,Gi as i,$l as j,kn as k,m as l,lw as m,sw as n,pn as o,qt as p,Kp as q,Vt as r,Cg as s,JC as t,El as u,Xo as v,lt as w,vw as x,fe as y,Pb as z};
